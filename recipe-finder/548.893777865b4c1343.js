"use strict";(self.webpackChunkrecipe_finder=self.webpackChunkrecipe_finder||[]).push([[548],{4548:(V,_,g)=>{g.r(_),g.d(_,{BooksComponent:()=>q});var d=g(3165),n=g(1360);const C=(()=>{const e=b("json");return e.arrayBuffer=b("arraybuffer"),e.blob=b("blob"),e.text=b("text"),e})();function b(e){return function(t,o){o?.injector||(0,n.Af3)(C);const r=o?.injector??(0,n.WQX)(n.zZn);return new S(r,()=>function E(e,s){let t="function"==typeof e?e():e;if(void 0===t)return;"string"==typeof t&&(t={url:t});const o=t.headers instanceof d.Lr?t.headers:new d.Lr(t.headers),r=t.params instanceof d.Nl?t.params:new d.Nl({fromObject:t.params});return new d.Kd(t.method??"GET",t.url,t.body??null,{headers:o,params:r,reportProgress:t.reportProgress,withCredentials:t.withCredentials,responseType:s,context:t.context,transferCache:t.transferCache})}(t,e),o?.defaultValue,o?.parse,o?.equal)}}class S extends n.waE{client;_headers=(0,n.uuI)({source:this.extRequest,computation:()=>{}});_progress=(0,n.uuI)({source:this.extRequest,computation:()=>{}});_statusCode=(0,n.uuI)({source:this.extRequest,computation:()=>{}});headers=(0,n.EWP)(()=>this.status()===n.bk.Resolved||this.status()===n.bk.Error?this._headers():void 0);progress=this._progress.asReadonly();statusCode=this._statusCode.asReadonly();constructor(s,t,o,r,u){super(t,({request:a,abortSignal:f})=>{let c;const l=()=>c.unsubscribe();f.addEventListener("abort",l);const p=(0,n.vPA)({value:void 0});let T;const h=new Promise(i=>T=i),m=i=>{p.set(i),T?.(p),T=void 0};return c=this.client.request(a).subscribe({next:i=>{switch(i.type){case d.hv.Response:this._headers.set(i.headers),this._statusCode.set(i.status);try{m({value:r?r(i.body):i.body})}catch(k){m({error:k})}break;case d.hv.DownloadProgress:this._progress.set(i)}},error:i=>{i instanceof d.yz&&(this._headers.set(i.headers),this._statusCode.set(i.status)),m({error:i})},complete:()=>{T&&m({error:new Error("Resource completed before producing a value")}),f.removeEventListener("abort",l)}}),h},o,u,s),this.client=s.get(d.Qq)}}let L=(()=>{class e{bookTitle=(0,n.geq)("");onInput(t){this.bookTitle.set(t.target.value)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=n.VBU({type:e,selectors:[["app-book-input"]],inputs:{bookTitle:[1,"bookTitle"]},outputs:{bookTitle:"bookTitleChange"},decls:1,vars:1,consts:[["type","text",3,"input","value"]],template:function(o,r){1&o&&(n.j41(0,"input",0),n.bIt("input",function(a){return r.onInput(a)}),n.k0s()),2&o&&n.Y8G("value",r.bookTitle())},encapsulation:2})}return e})();function N(e,s){1&e&&(n.j41(0,"div"),n.EFF(1,"Loading books..."),n.k0s())}function x(e,s){if(1&e&&(n.j41(0,"div",2),n.EFF(1),n.k0s()),2&e){const t=s.$implicit;n.R7$(),n.Lme(" ",t.title," - ",t.author," ")}}function $(e,s){if(1&e&&n.Z7z(0,x,2,2,"div",2,n.Vm6),2&e){const t=n.XpG();n.Dyx(t.books.value())}}let q=(()=>{class e{apiUrl="https://www.freetestapi.com/api/v1/books";bookTitle=(0,n.vPA)("");books=C(()=>`${this.apiUrl}`,{defaultValue:[]});static \u0275fac=function(o){return new(o||e)};static \u0275cmp=n.VBU({type:e,selectors:[["app-books"]],decls:6,vars:3,consts:[[3,"bookTitleChange","bookTitle"],[1,"container"],[1,"book"]],template:function(o,r){1&o&&(n.j41(0,"div")(1,"app-book-input",0),n.mxI("bookTitleChange",function(a){return n.DH7(r.bookTitle,a)||(r.bookTitle=a),a}),n.k0s()(),n.EFF(2),n.j41(3,"div",1),n.DNE(4,N,2,0,"div")(5,$,2,0),n.k0s()),2&o&&(n.R7$(),n.R50("bookTitle",r.bookTitle),n.R7$(),n.SpI("\nSearch: ",r.bookTitle(),"\n"),n.R7$(2),n.vxM(r.books.isLoading()?4:5))},dependencies:[L],encapsulation:2})}return e})()}}]);