"use strict";(self.webpackChunkrecipe_finder=self.webpackChunkrecipe_finder||[]).push([[792],{33:($t,Qe,L)=>{L.d(Qe,{Wk:()=>yn,wQ:()=>Nn,iI:()=>zn,lh:()=>oo});var N=L(1482),U=L(1360),W=L(9361);let Me=(()=>{class z{static \u0275prov=(0,U.jDH)({token:z,providedIn:"root",factory:()=>new le((0,U.WQX)(W.q),window)})}return z})();class le{document;window;offset=()=>[0,0];constructor(me,ee){this.document=me,this.window=ee}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(me){this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){const ee=function te(z,me){const ee=z.getElementById(me)||z.getElementsByName(me)[0];if(ee)return ee;if("function"==typeof z.createTreeWalker&&z.body&&"function"==typeof z.body.attachShadow){const Ce=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let Ze=Ce.currentNode;for(;Ze;){const vt=Ze.shadowRoot;if(vt){const Ut=vt.getElementById(me)||vt.querySelector(`[name="${me}"]`);if(Ut)return Ut}Ze=Ce.nextNode()}}return null}(this.document,me);ee&&(this.scrollToElement(ee),ee.focus())}setHistoryScrollRestoration(me){this.window.history.scrollRestoration=me}scrollToElement(me){const ee=me.getBoundingClientRect(),Ce=ee.left+this.window.pageXOffset,Ze=ee.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(Ce-vt[0],Ze-vt[1])}}var nt=L(8434),q=L(7430),J=L(1413),pe=L(7673),Xe=L(8455),wt=L(6365),Ft=L(5964),Kt=L(274),pn=L(1397);let yn=(()=>{class z{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new J.B;constructor(ee,Ce,Ze,vt,Ut,fr){this.router=ee,this.route=Ce,this.tabIndexAttribute=Ze,this.renderer=vt,this.el=Ut,this.locationStrategy=fr;const ar=Ut.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ar||"area"===ar,this.isAnchorElement?this.subscription=ee.events.subscribe(us=>{us instanceof q.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(ee){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ee)}ngOnChanges(ee){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(ee){null==ee?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,q.wO)(ee)||Array.isArray(ee)?ee:[ee],this.setTabIndexIfNotOnNativeEl("0"))}onClick(ee,Ce,Ze,vt,Ut){const fr=this.urlTree;return!!(null===fr||this.isAnchorElement&&(0!==ee||Ce||Ze||vt||Ut||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(fr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ee=this.urlTree;this.href=null!==ee&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ee)):null;const Ce=null===this.href?null:(0,U.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ce)}applyAttributeValue(ee,Ce){const Ze=this.renderer,vt=this.el.nativeElement;null!==Ce?Ze.setAttribute(vt,ee,Ce):Ze.removeAttribute(vt,ee)}get urlTree(){return null===this.routerLinkInput?null:(0,q.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(Ce){return new(Ce||z)(U.rXU(q.Ix),U.rXU(q.nX),U.kS0("tabindex"),U.rXU(U.sFG),U.rXU(U.aKT),U.rXU(N.hb))};static \u0275dir=U.FsC({type:z,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ce,Ze){1&Ce&&U.bIt("click",function(Ut){return Ze.onClick(Ut.button,Ut.ctrlKey,Ut.shiftKey,Ut.altKey,Ut.metaKey)}),2&Ce&&U.BMQ("target",Ze.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",U.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",U.L39],replaceUrl:[2,"replaceUrl","replaceUrl",U.L39],routerLink:"routerLink"},features:[U.OA$]})}return z})(),Nn=(()=>{class z{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new U.bkB;constructor(ee,Ce,Ze,vt,Ut){this.router=ee,this.element=Ce,this.renderer=Ze,this.cdr=vt,this.link=Ut,this.routerEventsSubscription=ee.events.subscribe(fr=>{fr instanceof q.wF&&this.update()})}ngAfterContentInit(){(0,pe.of)(this.links.changes,(0,pe.of)(null)).pipe((0,wt.U)()).subscribe(ee=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ee=[...this.links.toArray(),this.link].filter(Ce=>!!Ce).map(Ce=>Ce.onChanges);this.linkInputChangesSubscription=(0,Xe.H)(ee).pipe((0,wt.U)()).subscribe(Ce=>{this._isActive!==this.isLinkActive(this.router)(Ce)&&this.update()})}set routerLinkActive(ee){const Ce=Array.isArray(ee)?ee:ee.split(" ");this.classes=Ce.filter(Ze=>!!Ze)}ngOnChanges(ee){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ee=this.hasActiveLinks();this.classes.forEach(Ce=>{ee?this.renderer.addClass(this.element.nativeElement,Ce):this.renderer.removeClass(this.element.nativeElement,Ce)}),ee&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ee&&(this._isActive=ee,this.cdr.markForCheck(),this.isActiveChange.emit(ee))})}isLinkActive(ee){const Ce=function vn(z){return!!z.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ze=>{const vt=Ze.urlTree;return!!vt&&ee.isActive(vt,Ce)}}hasActiveLinks(){const ee=this.isLinkActive(this.router);return this.link&&ee(this.link)||this.links.some(ee)}static \u0275fac=function(Ce){return new(Ce||z)(U.rXU(q.Ix),U.rXU(U.aKT),U.rXU(U.sFG),U.rXU(U.gRc),U.rXU(yn,8))};static \u0275dir=U.FsC({type:z,selectors:[["","routerLinkActive",""]],contentQueries:function(Ce,Ze,vt){if(1&Ce&&U.wni(vt,yn,5),2&Ce){let Ut;U.mGM(Ut=U.lsd())&&(Ze.links=Ut)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[U.OA$]})}return z})();class Hn{}let St=(()=>{class z{router;injector;preloadingStrategy;loader;subscription;constructor(ee,Ce,Ze,vt,Ut){this.router=ee,this.injector=Ze,this.preloadingStrategy=vt,this.loader=Ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ft.p)(ee=>ee instanceof q.wF),(0,Kt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ee,Ce){const Ze=[];for(const vt of Ce){vt.providers&&!vt._injector&&(vt._injector=(0,U.Ol2)(vt.providers,ee,`Route: ${vt.path}`));const Ut=vt._injector??ee,fr=vt._loadedInjector??Ut;(vt.loadChildren&&!vt._loadedRoutes&&void 0===vt.canLoad||vt.loadComponent&&!vt._loadedComponent)&&Ze.push(this.preloadConfig(Ut,vt)),(vt.children||vt._loadedRoutes)&&Ze.push(this.processRoutes(fr,vt.children??vt._loadedRoutes))}return(0,Xe.H)(Ze).pipe((0,wt.U)())}preloadConfig(ee,Ce){return this.preloadingStrategy.preload(Ce,()=>{let Ze;Ze=Ce.loadChildren&&void 0===Ce.canLoad?this.loader.loadChildren(ee,Ce):(0,pe.of)(null);const vt=Ze.pipe((0,pn.Z)(Ut=>null===Ut?(0,pe.of)(void 0):(Ce._loadedRoutes=Ut.routes,Ce._loadedInjector=Ut.injector,this.processRoutes(Ut.injector??ee,Ut.routes))));if(Ce.loadComponent&&!Ce._loadedComponent){const Ut=this.loader.loadComponent(Ce);return(0,Xe.H)([vt,Ut]).pipe((0,wt.U)())}return vt})}static \u0275fac=function(Ce){return new(Ce||z)(U.KVO(q.Ix),U.KVO(U.Ql9),U.KVO(U.uvJ),U.KVO(Hn),U.KVO(q.D$))};static \u0275prov=U.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Si=new U.nKC("");let mo=(()=>{class z{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(ee,Ce,Ze,vt,Ut={}){this.urlSerializer=ee,this.transitions=Ce,this.viewportScroller=Ze,this.zone=vt,this.options=Ut,Ut.scrollPositionRestoration||="disabled",Ut.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ee=>{ee instanceof q.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ee.navigationTrigger,this.restoredId=ee.restoredState?ee.restoredState.navigationId:0):ee instanceof q.wF?(this.lastId=ee.id,this.scheduleScrollEvent(ee,this.urlSerializer.parse(ee.urlAfterRedirects).fragment)):ee instanceof q.lW&&ee.code===q.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ee,this.urlSerializer.parse(ee.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ee=>{ee instanceof q.OY&&(ee.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ee.position):ee.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ee.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ee,Ce){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new q.OY(ee,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ce))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(Ce){U.QTQ()};static \u0275prov=U.jDH({token:z,factory:z.\u0275fac})}return z})();function oo(z,...me){return(0,U.EmA)([{provide:q.bw,multi:!0,useValue:z},[],{provide:q.nX,useFactory:bo,deps:[q.Ix]},{provide:U.iLQ,multi:!0,useFactory:Ya},me.map(ee=>ee.\u0275providers)])}function bo(z){return z.routerState.root}function di(z,me){return{\u0275kind:z,\u0275providers:me}}function Ya(){const z=(0,U.WQX)(U.zZn);return me=>{const ee=z.get(U.o8S);if(me!==ee.components[0])return;const Ce=z.get(q.Ix),Ze=z.get(Ja);1===z.get(Yi)&&Ce.initialNavigation(),z.get(C,null,U.$GK.Optional)?.setUpPreloading(),z.get(Si,null,U.$GK.Optional)?.init(),Ce.resetRootComponentType(ee.componentTypes[0]),Ze.closed||(Ze.next(),Ze.complete(),Ze.unsubscribe())}}const Ja=new U.nKC("",{factory:()=>new J.B}),Yi=new U.nKC("",{providedIn:"root",factory:()=>1}),C=new U.nKC("");function Z(z){return di(0,[{provide:C,useExisting:St},{provide:Hn,useExisting:z}])}function dt(z){return(0,U.ngT)("NgRouterViewTransitions"),di(9,[{provide:q.Pu,useValue:q.Lg},{provide:q.bK,useValue:{skipNextTransition:!!z?.skipInitialTransition,...z}}])}const er=[N.aZ,{provide:q.Sd,useClass:q.nU},q.Ix,q.Zp,{provide:q.nX,useFactory:bo,deps:[q.Ix]},q.D$,[]];let zn=(()=>{class z{constructor(){}static forRoot(ee,Ce){return{ngModule:z,providers:[er,[],{provide:q.bw,multi:!0,useValue:ee},[],Ce?.errorHandler?{provide:q.XR,useValue:Ce.errorHandler}:[],{provide:q.J_,useValue:Ce||{}},Ce?.useHash?{provide:N.hb,useClass:nt.fw}:{provide:N.hb,useClass:N.Sm},{provide:Si,useFactory:()=>{const z=(0,U.WQX)(Me),me=(0,U.WQX)(U.SKi),ee=(0,U.WQX)(q.J_),Ce=(0,U.WQX)(q.J2),Ze=(0,U.WQX)(q.Sd);return ee.scrollOffset&&z.setOffset(ee.scrollOffset),new mo(Ze,Ce,z,me,ee)}},Ce?.preloadingStrategy?Z(Ce.preloadingStrategy).\u0275providers:[],Ce?.initialNavigation?sr(Ce):[],Ce?.bindToComponentInputs?di(8,[q.tD,{provide:q.c1,useExisting:q.tD}]).\u0275providers:[],Ce?.enableViewTransitions?dt().\u0275providers:[],[{provide:so,useFactory:Ya},{provide:U.iLQ,multi:!0,useExisting:so}]]}}static forChild(ee){return{ngModule:z,providers:[{provide:q.bw,multi:!0,useValue:ee}]}}static \u0275fac=function(Ce){return new(Ce||z)};static \u0275mod=U.$C({type:z});static \u0275inj=U.G2t({})}return z})();function sr(z){return["disabled"===z.initialNavigation?di(3,[(0,U.phd)(()=>{(0,U.WQX)(q.Ix).setUpLocationChangeListener()}),{provide:Yi,useValue:2}]).\u0275providers:[],"enabledBlocking"===z.initialNavigation?di(2,[{provide:Yi,useValue:0},(0,U.phd)(()=>{const me=(0,U.WQX)(U.zZn);return me.get(N.hj,Promise.resolve()).then(()=>new Promise(Ce=>{const Ze=me.get(q.Ix),vt=me.get(Ja);(0,q.gk)(Ze,()=>{Ce(!0)}),me.get(q.J2).afterPreactivation=()=>(Ce(!0),vt.closed?(0,pe.of)(void 0):vt),Ze.initialNavigation()}))})]).\u0275providers:[]]}const so=new U.nKC("")},274:($t,Qe,L)=>{L.d(Qe,{H:()=>W});var N=L(1397),U=L(8071);function W(G,O){return(0,U.T)(O)?(0,N.Z)(G,O,1):(0,N.Z)(G,1)}},467:($t,Qe,L)=>{function N(W,G,O,Me,le,te,Ne){try{var ne=W[te](Ne),oe=ne.value}catch(xe){return void O(xe)}ne.done?G(oe):Promise.resolve(oe).then(Me,le)}function U(W){return function(){var G=this,O=arguments;return new Promise(function(Me,le){var te=W.apply(G,O);function Ne(oe){N(te,Me,le,Ne,ne,"next",oe)}function ne(oe){N(te,Me,le,Ne,ne,"throw",oe)}Ne(void 0)})}}L.d(Qe,{A:()=>U})},591:($t,Qe,L)=>{function N(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Qe,{L:()=>N})},884:($t,Qe,L)=>{var N=L(1482),U=L(9377),W=L(9361),G=L(1360);const O=new G.nKC("");let Me=(()=>{class Ge{_zone;_plugins;_eventNameToPlugin=new Map;constructor(ge,De){this._zone=De,ge.forEach(et=>{et.manager=this}),this._plugins=ge.slice().reverse()}addEventListener(ge,De,et,_t){return this._findPluginFor(De).addEventListener(ge,De,et,_t)}getZone(){return this._zone}_findPluginFor(ge){let De=this._eventNameToPlugin.get(ge);if(De)return De;if(De=this._plugins.find(_t=>_t.supports(ge)),!De)throw new G.wOt(5101,!1);return this._eventNameToPlugin.set(ge,De),De}static \u0275fac=function(De){return new(De||Ge)(G.KVO(O),G.KVO(G.SKi))};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();class le{_doc;constructor(Ue){this._doc=Ue}manager}const te="ng-app-id";function Ne(Ge){for(const Ue of Ge)Ue.remove()}function ne(Ge,Ue){const ge=Ue.createElement("style");return ge.textContent=Ge,ge}function xe(Ge,Ue){const ge=Ue.createElement("link");return ge.setAttribute("rel","stylesheet"),ge.setAttribute("href",Ge),ge}let Le=(()=>{class Ge{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(ge,De,et,_t={}){this.doc=ge,this.appId=De,this.nonce=et,this.isServer=(0,U.Vy)(_t),function oe(Ge,Ue,ge,De){const et=Ge.head?.querySelectorAll(`style[${te}="${Ue}"],link[${te}="${Ue}"]`);if(et)for(const _t of et)_t.removeAttribute(te),_t instanceof HTMLLinkElement?De.set(_t.href.slice(_t.href.lastIndexOf("/")+1),{usage:0,elements:[_t]}):_t.textContent&&ge.set(_t.textContent,{usage:0,elements:[_t]})}(ge,De,this.inline,this.external),this.hosts.add(ge.head)}addStyles(ge,De){for(const et of ge)this.addUsage(et,this.inline,ne);De?.forEach(et=>this.addUsage(et,this.external,xe))}removeStyles(ge,De){for(const et of ge)this.removeUsage(et,this.inline);De?.forEach(et=>this.removeUsage(et,this.external))}addUsage(ge,De,et){const _t=De.get(ge);_t?_t.usage++:De.set(ge,{usage:1,elements:[...this.hosts].map(wn=>this.addElement(wn,et(ge,this.doc)))})}removeUsage(ge,De){const et=De.get(ge);et&&(et.usage--,et.usage<=0&&(Ne(et.elements),De.delete(ge)))}ngOnDestroy(){for(const[,{elements:ge}]of[...this.inline,...this.external])Ne(ge);this.hosts.clear()}addHost(ge){this.hosts.add(ge);for(const[De,{elements:et}]of this.inline)et.push(this.addElement(ge,ne(De,this.doc)));for(const[De,{elements:et}]of this.external)et.push(this.addElement(ge,xe(De,this.doc)))}removeHost(ge){this.hosts.delete(ge)}addElement(ge,De){return this.nonce&&De.setAttribute("nonce",this.nonce),this.isServer&&De.setAttribute(te,this.appId),ge.appendChild(De)}static \u0275fac=function(De){return new(De||Ge)(G.KVO(W.q),G.KVO(G.sZ2),G.KVO(G.BIS,8),G.KVO(G.Agw))};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rt=/%COMP%/g,Ie=new G.nKC("",{providedIn:"root",factory:()=>!0});function st(Ge,Ue){return Ue.map(ge=>ge.replace(rt,Ge))}let Dn=(()=>{class Ge{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(ge,De,et,_t,wn,on,nr,Rr=null,Xt=null){this.eventManager=ge,this.sharedStylesHost=De,this.appId=et,this.removeStylesOnCompDestroy=_t,this.doc=wn,this.platformId=on,this.ngZone=nr,this.nonce=Rr,this.tracingService=Xt,this.platformIsServer=(0,U.Vy)(on),this.defaultRenderer=new Fn(ge,wn,nr,this.platformIsServer,this.tracingService)}createRenderer(ge,De){if(!ge||!De)return this.defaultRenderer;this.platformIsServer&&De.encapsulation===G.gXe.ShadowDom&&(De={...De,encapsulation:G.gXe.Emulated});const et=this.getOrCreateRenderer(ge,De);return et instanceof Vn?et.applyToHost(ge):et instanceof Zt&&et.applyStyles(),et}getOrCreateRenderer(ge,De){const et=this.rendererByCompId;let _t=et.get(De.id);if(!_t){const wn=this.doc,on=this.ngZone,nr=this.eventManager,Rr=this.sharedStylesHost,Xt=this.removeStylesOnCompDestroy,Wr=this.platformIsServer,_n=this.tracingService;switch(De.encapsulation){case G.gXe.Emulated:_t=new Vn(nr,Rr,De,this.appId,Xt,wn,on,Wr,_n);break;case G.gXe.ShadowDom:return new dn(nr,Rr,ge,De,wn,on,this.nonce,Wr,_n);default:_t=new Zt(nr,Rr,De,Xt,wn,on,Wr,_n)}et.set(De.id,_t)}return _t}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(ge){this.rendererByCompId.delete(ge)}static \u0275fac=function(De){return new(De||Ge)(G.KVO(Me),G.KVO(Le),G.KVO(G.sZ2),G.KVO(Ie),G.KVO(W.q),G.KVO(G.Agw),G.KVO(G.SKi),G.KVO(G.BIS),G.KVO(G.Lf2,8))};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();class Fn{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Ue,ge,De,et,_t){this.eventManager=Ue,this.doc=ge,this.ngZone=De,this.platformIsServer=et,this.tracingService=_t}destroy(){}destroyNode=null;createElement(Ue,ge){return ge?this.doc.createElementNS(He[ge]||ge,Ue):this.doc.createElement(Ue)}createComment(Ue){return this.doc.createComment(Ue)}createText(Ue){return this.doc.createTextNode(Ue)}appendChild(Ue,ge){(Qt(Ue)?Ue.content:Ue).appendChild(ge)}insertBefore(Ue,ge,De){Ue&&(Qt(Ue)?Ue.content:Ue).insertBefore(ge,De)}removeChild(Ue,ge){ge.remove()}selectRootElement(Ue,ge){let De="string"==typeof Ue?this.doc.querySelector(Ue):Ue;if(!De)throw new G.wOt(-5104,!1);return ge||(De.textContent=""),De}parentNode(Ue){return Ue.parentNode}nextSibling(Ue){return Ue.nextSibling}setAttribute(Ue,ge,De,et){if(et){ge=et+":"+ge;const _t=He[et];_t?Ue.setAttributeNS(_t,ge,De):Ue.setAttribute(ge,De)}else Ue.setAttribute(ge,De)}removeAttribute(Ue,ge,De){if(De){const et=He[De];et?Ue.removeAttributeNS(et,ge):Ue.removeAttribute(`${De}:${ge}`)}else Ue.removeAttribute(ge)}addClass(Ue,ge){Ue.classList.add(ge)}removeClass(Ue,ge){Ue.classList.remove(ge)}setStyle(Ue,ge,De,et){et&(G.czy.DashCase|G.czy.Important)?Ue.style.setProperty(ge,De,et&G.czy.Important?"important":""):Ue.style[ge]=De}removeStyle(Ue,ge,De){De&G.czy.DashCase?Ue.style.removeProperty(ge):Ue.style[ge]=""}setProperty(Ue,ge,De){null!=Ue&&(Ue[ge]=De)}setValue(Ue,ge){Ue.nodeValue=ge}listen(Ue,ge,De,et){if("string"==typeof Ue&&!(Ue=(0,N.rb)().getGlobalEventTarget(this.doc,Ue)))throw new G.wOt(5102,!1);let _t=this.decoratePreventDefault(De);return this.tracingService?.wrapEventListener&&(_t=this.tracingService.wrapEventListener(Ue,ge,_t)),this.eventManager.addEventListener(Ue,ge,_t,et)}decoratePreventDefault(Ue){return ge=>{if("__ngUnwrap__"===ge)return Ue;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ue(ge)):Ue(ge))&&ge.preventDefault()}}}function Qt(Ge){return"TEMPLATE"===Ge.tagName&&void 0!==Ge.content}class dn extends Fn{sharedStylesHost;hostEl;shadowRoot;constructor(Ue,ge,De,et,_t,wn,on,nr,Rr){super(Ue,_t,wn,nr,Rr),this.sharedStylesHost=ge,this.hostEl=De,this.shadowRoot=De.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Xt=et.styles;Xt=st(et.id,Xt);for(const _n of Xt){const ae=document.createElement("style");on&&ae.setAttribute("nonce",on),ae.textContent=_n,this.shadowRoot.appendChild(ae)}const Wr=et.getExternalStyles?.();if(Wr)for(const _n of Wr){const ae=xe(_n,_t);on&&ae.setAttribute("nonce",on),this.shadowRoot.appendChild(ae)}}nodeOrShadowRoot(Ue){return Ue===this.hostEl?this.shadowRoot:Ue}appendChild(Ue,ge){return super.appendChild(this.nodeOrShadowRoot(Ue),ge)}insertBefore(Ue,ge,De){return super.insertBefore(this.nodeOrShadowRoot(Ue),ge,De)}removeChild(Ue,ge){return super.removeChild(null,ge)}parentNode(Ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ue)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zt extends Fn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Ue,ge,De,et,_t,wn,on,nr,Rr){super(Ue,_t,wn,on,nr),this.sharedStylesHost=ge,this.removeStylesOnCompDestroy=et;let Xt=De.styles;this.styles=Rr?st(Rr,Xt):Xt,this.styleUrls=De.getExternalStyles?.(Rr)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Vn extends Zt{contentAttr;hostAttr;constructor(Ue,ge,De,et,_t,wn,on,nr,Rr){const Xt=et+"-"+De.id;super(Ue,ge,De,_t,wn,on,nr,Rr,Xt),this.contentAttr=function Ke(Ge){return"_ngcontent-%COMP%".replace(rt,Ge)}(Xt),this.hostAttr=function Fe(Ge){return"_nghost-%COMP%".replace(rt,Ge)}(Xt)}applyToHost(Ue){this.applyStyles(),this.setAttribute(Ue,this.hostAttr,"")}createElement(Ue,ge){const De=super.createElement(Ue,ge);return super.setAttribute(De,this.contentAttr,""),De}}class qn extends N.qj{supportsDOMEvents=!0;static makeCurrent(){(0,N.ig)(new qn)}onAndCancel(Ue,ge,De,et){return Ue.addEventListener(ge,De,et),()=>{Ue.removeEventListener(ge,De,et)}}dispatchEvent(Ue,ge){Ue.dispatchEvent(ge)}remove(Ue){Ue.remove()}createElement(Ue,ge){return(ge=ge||this.getDefaultDocument()).createElement(Ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ue){return Ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ue){return Ue instanceof DocumentFragment}getGlobalEventTarget(Ue,ge){return"window"===ge?window:"document"===ge?Ue:"body"===ge?Ue.body:null}getBaseHref(Ue){const ge=function tn(){return Xn=Xn||document.querySelector("base"),Xn?Xn.getAttribute("href"):null}();return null==ge?null:function Ee(Ge){return new URL(Ge,document.baseURI).pathname}(ge)}resetBaseElement(){Xn=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ue){return(0,U.bS)(document.cookie,Ue)}}let Xn=null,Ve=(()=>{class Ge{build(){return new XMLHttpRequest}static \u0275fac=function(De){return new(De||Ge)};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})(),Oe=(()=>{class Ge extends le{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,De,et,_t){return ge.addEventListener(De,et,_t),()=>this.removeEventListener(ge,De,et,_t)}removeEventListener(ge,De,et,_t){return ge.removeEventListener(De,et,_t)}static \u0275fac=function(De){return new(De||Ge)(G.KVO(W.q))};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const Je=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kt={alt:Ge=>Ge.altKey,control:Ge=>Ge.ctrlKey,meta:Ge=>Ge.metaKey,shift:Ge=>Ge.shiftKey};let Ct=(()=>{class Ge extends le{constructor(ge){super(ge)}supports(ge){return null!=Ge.parseEventName(ge)}addEventListener(ge,De,et,_t){const wn=Ge.parseEventName(De),on=Ge.eventCallback(wn.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.rb)().onAndCancel(ge,wn.domEventName,on,_t))}static parseEventName(ge){const De=ge.toLowerCase().split("."),et=De.shift();if(0===De.length||"keydown"!==et&&"keyup"!==et)return null;const _t=Ge._normalizeKey(De.pop());let wn="",on=De.indexOf("code");if(on>-1&&(De.splice(on,1),wn="code."),Je.forEach(Rr=>{const Xt=De.indexOf(Rr);Xt>-1&&(De.splice(Xt,1),wn+=Rr+".")}),wn+=_t,0!=De.length||0===_t.length)return null;const nr={};return nr.domEventName=et,nr.fullKey=wn,nr}static matchEventFullKeyCode(ge,De){let et=it[ge.key]||ge.key,_t="";return De.indexOf("code.")>-1&&(et=ge.code,_t="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),Je.forEach(wn=>{wn!==et&&(0,kt[wn])(ge)&&(_t+=wn+".")}),_t+=et,_t===De)}static eventCallback(ge,De,et){return _t=>{Ge.matchEventFullKeyCode(_t,ge)&&et.runGuarded(()=>De(_t))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}static \u0275fac=function(De){return new(De||Ge)(G.KVO(W.q))};static \u0275prov=G.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function an(Ge){return{appProviders:[...Ai,...Ge?.providers??[]],platformProviders:kn}}const kn=[{provide:G.Agw,useValue:U.Zn},{provide:G.PLl,useValue:function br(){qn.makeCurrent()},multi:!0},{provide:W.q,useFactory:function Kn(){return(0,G.TL$)(document),document}}],Ai=[{provide:G.H8p,useValue:"root"},{provide:G.zcH,useFactory:function Tn(){return new G.zcH}},{provide:O,useClass:Oe,multi:!0,deps:[W.q]},{provide:O,useClass:Ct,multi:!0,deps:[W.q]},Dn,Le,Me,{provide:G._9s,useExisting:Dn},{provide:U.N0,useClass:Ve},[]];var kr=L(33),li=L(3165),xr=L(3290),Zi=L(7440);const mt_firebase={apiKey:"AIzaSyC0C4QTFrY5TxxYZNYK8nvw4Z4ITwCXeZc",authDomain:"recipe-finder-a977f.firebaseapp.com",projectId:"recipe-finder-a977f",storageBucket:"recipe-finder-a977f.firebasestorage.app",messagingSenderId:"224043316407",appId:"1:224043316407:web:ee3f85984db114f6e4c932"},ri={providers:[(0,kr.lh)([{path:"",loadComponent:()=>Promise.all([L.e(724),L.e(76),L.e(214)]).then(L.bind(L,8214)).then(Ge=>Ge.RecipeSearchComponent)},{path:"recipe/:id",loadComponent:()=>L.e(737).then(L.bind(L,737)).then(Ge=>Ge.RecipeDetailComponent)},{path:"favorites",loadComponent:()=>Promise.all([L.e(76),L.e(957)]).then(L.bind(L,957)).then(Ge=>Ge.FavoritesComponent)},{path:"new-recipe",loadComponent:()=>Promise.all([L.e(724),L.e(111)]).then(L.bind(L,5111)).then(Ge=>Ge.AddRecipeComponent)},{path:"books",loadComponent:()=>L.e(548).then(L.bind(L,4548)).then(Ge=>Ge.BooksComponent)},{path:"**",redirectTo:""}]),(0,li.$R)(),(0,Zi.MW)(()=>(0,Zi.Wp)(mt_firebase)),(0,xr.hV)(()=>(0,xr.aU)())]};var Sr=L(7430),Li=L(8434);const zr=()=>({exact:!0});let ii=(()=>{class Ge{static \u0275fac=function(De){return new(De||Ge)};static \u0275cmp=G.VBU({type:Ge,selectors:[["app-nav-bar"]],decls:20,vars:8,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["href","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse","d-lg-flex","flex-lg-row-reverse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/favorites","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/new-recipe","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/books","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"]],template:function(De,et){1&De&&(G.j41(0,"nav",0)(1,"div",1)(2,"a",2),G.EFF(3,"Recipe finder"),G.k0s(),G.j41(4,"button",3),G.nrm(5,"span",4),G.k0s(),G.j41(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),G.EFF(10,"Search"),G.k0s()(),G.j41(11,"li",7)(12,"a",9),G.EFF(13,"Favorites"),G.k0s()(),G.j41(14,"li",7)(15,"a",10),G.EFF(16,"Add recipe"),G.k0s()(),G.j41(17,"li",7)(18,"a",11),G.EFF(19,"Recipe books"),G.k0s()()()()()()),2&De&&(G.R7$(9),G.Y8G("routerLinkActiveOptions",G.lJ4(4,zr)),G.R7$(3),G.Y8G("routerLinkActiveOptions",G.lJ4(5,zr)),G.R7$(3),G.Y8G("routerLinkActiveOptions",G.lJ4(6,zr)),G.R7$(3),G.Y8G("routerLinkActiveOptions",G.lJ4(7,zr)))},dependencies:[kr.Wk,kr.wQ],styles:[".navbar[_ngcontent-%COMP%]{background-color:#e3f2fd}"]})}return Ge})(),go=(()=>{class Ge{static \u0275fac=function(De){return new(De||Ge)};static \u0275cmp=G.VBU({type:Ge,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(De,et){1&De&&(G.j41(0,"footer",0)(1,"p"),G.EFF(2,"\xa9 Recipe finder"),G.k0s()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 0;text-align:center;box-shadow:0 -2px 4px #0000001a}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}"]})}return Ge})();(function An(Ge,Ue){return(0,G.TL3)({rootComponent:Ge,...an(Ue)})})((()=>{class Ge{title="Recipe Finder";static \u0275fac=function(De){return new(De||Ge)};static \u0275cmp=G.VBU({type:Ge,selectors:[["app-root"]],features:[G.Jv_([{provide:Sr.nX,useValue:{snapshot:{params:{id:"1"}}}}])],decls:4,vars:0,consts:[[1,"main-content"]],template:function(De,et){1&De&&(G.nrm(0,"app-nav-bar"),G.j41(1,"main",0),G.nrm(2,"router-outlet"),G.k0s(),G.nrm(3,"app-footer"))},dependencies:[Li.MD,ii,Sr.n3,go],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px 0;background-color:#f8f9fa}@media (max-width: 768px){.nav-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.nav-links[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}return Ge})(),ri).catch(Ge=>console.error(Ge))},941:($t,Qe,L)=>{L.d(Qe,{Q:()=>G});var N=L(5225),U=L(9974),W=L(4360);function G(O,Me=0){return(0,U.N)((le,te)=>{le.subscribe((0,W._)(te,Ne=>(0,N.N)(te,O,()=>te.next(Ne),Me),()=>(0,N.N)(te,O,()=>te.complete(),Me),Ne=>(0,N.N)(te,O,()=>te.error(Ne),Me)))})}},980:($t,Qe,L)=>{L.d(Qe,{j:()=>U});var N=L(9974);function U(W){return(0,N.N)((G,O)=>{try{G.subscribe(O)}finally{O.add(W)}})}},1026:($t,Qe,L)=>{L.d(Qe,{$:()=>N});const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:($t,Qe,L)=>{L.d(Qe,{F:()=>U,m:()=>W});var N=L(3669);function U(...G){return W(G)}function W(G){return 0===G.length?N.D:1===G.length?G[0]:function(Me){return G.reduce((le,te)=>te(le),Me)}}},1360:($t,Qe,L)=>{L.d(Qe,{iLQ:()=>Xd,sZ2:()=>qh,o8S:()=>is,BIS:()=>lN,gRc:()=>Bk,Ql9:()=>_h,Ocv:()=>Nx,abz:()=>Ta,Z63:()=>Ri,aKT:()=>Hh,uvJ:()=>uo,zcH:()=>Qo,bkB:()=>wa,$GK:()=>nn,nKC:()=>St,zZn:()=>Ii,_q3:()=>PM,MKu:()=>MM,xe9:()=>AM,Co$:()=>pI,Vns:()=>Ha,SKi:()=>vr,Xx1:()=>ds,Agw:()=>cN,PLl:()=>Kw,u5s:()=>Iw,sFG:()=>kA,_9s:()=>Wm,czy:()=>bf,bk:()=>Qr,kdw:()=>Us,C4Q:()=>Mr,NYb:()=>U0,giA:()=>WI,xvI:()=>YC,RxE:()=>Ao,c1b:()=>Ym,gXe:()=>Yo,mal:()=>aD,Af3:()=>co,tdH:()=>gN,L39:()=>AO,EWP:()=>nw,Ol2:()=>qu,w6W:()=>gI,QZP:()=>kM,Rfq:()=>Ye,WQX:()=>Dt,hFB:()=>$b,naY:()=>Hx,QuC:()=>yo,uuI:()=>xM,EmA:()=>Mi,geq:()=>n0,phd:()=>WR,HJs:()=>WO,N4e:()=>ha,vPA:()=>Xl,O8t:()=>Za,H3F:()=>hp,H8p:()=>Vl,KH2:()=>Np,Ua0:()=>Ks,waE:()=>dx,wOt:()=>mt,WHO:()=>fp,e01:()=>Mn,Lf2:()=>Qh,H5H:()=>_T,Zy3:()=>Sr,mq5:()=>kP,JZv:()=>on,TL3:()=>rO,LfX:()=>Kt,plB:()=>pl,jNT:()=>wi,zjR:()=>ti,ngT:()=>No,TL$:()=>aN,Tbb:()=>_n,Vt3:()=>sp,OA$:()=>dg,Jv_:()=>X_,R7$:()=>If,BMQ:()=>Dl,AVh:()=>Cl,vxM:()=>Sp,wni:()=>Ki,VBU:()=>mI,FsC:()=>h_,jDH:()=>pe,G2t:()=>wt,$C:()=>_I,EJ8:()=>f_,rXU:()=>gl,nrm:()=>Mp,k0s:()=>Pp,j41:()=>O_,RV6:()=>vC,xGo:()=>mw,KVO:()=>pr,kS0:()=>zy,QTQ:()=>$a,bIt:()=>hn,lsd:()=>AC,XpG:()=>re,nI1:()=>$T,bMT:()=>HT,Y8G:()=>uT,FS9:()=>de,lJ4:()=>J_,eq3:()=>LT,mGM:()=>ah,sdS:()=>Lp,Dyx:()=>fT,Z7z:()=>hC,Vm6:()=>k_,Njj:()=>hb,eBV:()=>db,npT:()=>zv,B4B:()=>gm,n$t:()=>Gv,DNE:()=>AI,C5r:()=>Wp,EFF:()=>ST,JRh:()=>q_,SpI:()=>Up,Lme:()=>Bp,E5c:()=>PT,DH7:()=>kT,mxI:()=>lh,R50:()=>Ka});var N=L(467);function U(t,r){return Object.is(t,r)}let W=null,G=!1,O=1;const Me=Symbol("SIGNAL");function le(t){const r=W;return W=t,r}function te(){return W}const oe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xe(t){if(G)throw new Error("");if(null===W)return;W.consumerOnSignalRead(t);const r=W.nextProducerIndex++;yt(W),r<W.producerNode.length&&W.producerNode[r]!==t&&st(W)&&Fe(W.producerNode[r],W.producerIndexOfThis[r]),W.producerNode[r]!==t&&(W.producerNode[r]=t,W.producerIndexOfThis[r]=st(W)?Ke(t,W,r):0),W.producerLastReadVersion[r]=t.version}function He(t){if((!st(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==O)){if(!t.producerMustRecompute(t)&&!at(t))return void Et(t);t.producerRecomputeValue(t),Et(t)}}function rt(t){if(void 0===t.liveConsumerNode)return;const r=G;G=!0;try{for(const i of t.liveConsumerNode)i.dirty||Mt(i)}finally{G=r}}function Rt(){return!1!==W?.consumerAllowSignalWrites}function Mt(t){t.dirty=!0,rt(t),t.consumerMarkedDirty?.(t)}function Et(t){t.dirty=!1,t.lastCleanEpoch=O}function Ht(t){return t&&(t.nextProducerIndex=0),le(t)}function rn(t,r){if(le(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(st(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Fe(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function at(t){yt(t);for(let r=0;r<t.producerNode.length;r++){const i=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==i.version||(He(i),a!==i.version))return!0}return!1}function Ie(t){if(yt(t),st(t))for(let r=0;r<t.producerNode.length;r++)Fe(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ke(t,r,i){if(Dn(t),0===t.liveConsumerNode.length&&Fn(t))for(let a=0;a<t.producerNode.length;a++)t.producerIndexOfThis[a]=Ke(t.producerNode[a],t,a);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(r)-1}function Fe(t,r){if(Dn(t),1===t.liveConsumerNode.length&&Fn(t))for(let a=0;a<t.producerNode.length;a++)Fe(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];yt(c),c.producerIndexOfThis[a]=r}}function st(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Dn(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Fn(t){return void 0!==t.producerNode}const qt=Symbol("UNSET"),Qt=Symbol("COMPUTING"),dn=Symbol("ERRORED"),Zt={...oe,value:qt,dirty:!0,error:null,equal:U,kind:"computed",producerMustRecompute:t=>t.value===qt||t.value===Qt,producerRecomputeValue(t){if(t.value===Qt)throw new Error("Detected cycle in computations.");const r=t.value;t.value=Qt;const i=Ht(t);let a,c=!1;try{a=t.computation(),le(null),c=r!==qt&&r!==dn&&a!==dn&&t.equal(r,a)}catch(d){a=dn,t.error=d}finally{rn(t,i)}c?t.value=r:(t.value=a,t.version++)}};let qn=function Vn(){throw new Error};function Xn(t){qn(t)}let Ee=null;function Oe(t,r){Rt()||Xn(t),t.equal(t.value,r)||(t.value=r,function Ct(t){t.version++,function Le(){O++}(),rt(t),Ee?.()}(t))}function Je(t,r){Rt()||Xn(t),Oe(t,r(t.value))}const kt={...oe,equal:U,value:void 0,kind:"signal"};function An(t,r,i){const a=Object.create(Wt);a.source=t,a.computation=r,null!=i&&(a.equal=i);const d=()=>{if(He(a),xe(a),a.value===dn)throw a.error;return a.value};return d[Me]=a,d}const Wt={...oe,value:qt,dirty:!0,error:null,equal:U,kind:"linkedSignal",producerMustRecompute:t=>t.value===qt||t.value===Qt,producerRecomputeValue(t){if(t.value===Qt)throw new Error("Detected cycle in computations.");const r=t.value;t.value=Qt;const i=Ht(t);let a;try{const c=t.source();a=t.computation(c,r===qt||r===dn?void 0:{source:t.sourceValue,value:r}),t.sourceValue=c}catch(c){a=dn,t.error=c}finally{rn(t,i)}r!==qt&&a!==dn&&t.equal(r,a)?t.value=r:(t.value=a,t.version++)}};let Kn;function kn(){return Kn}function Jn(t){const r=Kn;return Kn=t,r}const Er=Symbol("NotFound");Error;var Ci=L(4412),kr=L(1413),li=L(8359),xr=L(6354);const Xr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class mt extends Error{code;constructor(r,i){super(Sr(r,i)),this.code=r}}function Sr(t,r){return`${function ri(t){return`NG0${Math.abs(t)}`}(t)}${r?": "+r:""}`}const Li=Symbol("InputSignalNode#UNSET"),zr={...kt,transformFn:void 0,applyValueToInputSignal(t,r){Oe(t,r)}};function go(t,r){const i=Object.create(zr);function a(){if(xe(i),i.value===Li)throw new mt(-950,null);return i.value}return i.value=t,i.transformFn=r?.transform,a[Me]=i,a}function or(t){return{toString:t}.toString()}const Ue="__parameters__";function _t(t,r,i){return or(()=>{const a=function et(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const f=new c(...d);return m.annotation=f,m;function m(v,A,S){const k=v.hasOwnProperty(Ue)?v[Ue]:Object.defineProperty(v,Ue,{value:[]})[Ue];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(f),v}}return c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const on=globalThis;function Xt(t){for(let r in t)if(t[r]===Xt)return r;throw Error("Could not find renamed property on target object.")}function Wr(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function _n(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(_n).join(", ")}]`;if(null==t)return""+t;const r=t.overriddenName||t.name;if(r)return`${r}`;const i=t.toString();if(null==i)return""+i;const a=i.indexOf("\n");return a>=0?i.slice(0,a):i}function ae(t,r){return t?r?`${t} ${r}`:t:r||""}const _e=Xt({__forward_ref__:Xt});function Ye(t){return t.__forward_ref__=Ye,t.toString=function(){return _n(this())},t}function ce(t){return bt(t)?t():t}function bt(t){return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===Ye}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ft(t){return pn(t,vn)||pn(t,_i)}function Kt(t){return null!==Ft(t)}function pn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Nn(t){return t&&(t.hasOwnProperty(Hn)||t.hasOwnProperty(Co))?t[Hn]:null}const vn=Xt({\u0275prov:Xt}),Hn=Xt({\u0275inj:Xt}),_i=Xt({ngInjectableDef:Xt}),Co=Xt({ngInjectorDef:Xt});class St{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(r,i){this._desc=r,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=pe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yi(t){return t&&!!t.\u0275providers}const jo=Xt({\u0275cmp:Xt}),$o=Xt({\u0275dir:Xt}),oi=Xt({\u0275pipe:Xt}),C=Xt({\u0275mod:Xt}),Z=Xt({\u0275fac:Xt}),M=Xt({__NG_ELEMENT_ID__:Xt}),V=Xt({__NG_ENV_ID__:Xt});function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function Un(t,r){throw new mt(-200,t)}function Rn(t,r){throw new mt(-201,!1)}var nn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nn||{});let Bn;function Or(){return Bn}function sr(t){const r=Bn;return Bn=t,r}function so(t,r,i){const a=Ft(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&nn.Optional?null:void 0!==r?r:void Rn()}const me={},ee="__NG_DI_FLAG__";class Ce{injector;constructor(r){this.injector=r}retrieve(r,i){return this.injector.get(r,i.optional?Er:me,i)}}const Ze="ngTempTokenPath",Ut=/\n/gm,ar="__source";function us(t,r=nn.Default){if(void 0===kn())throw new mt(-203,!1);if(null===kn())return so(t,void 0,r);{const i=kn();let a;return a=i instanceof Ce?i.injector:i,a.get(t,r&nn.Optional?null:void 0,r)}}function pr(t,r=nn.Default){return(Or()||us)(ce(t),r)}function Dt(t,r=nn.Default){return pr(t,_o(r))}function _o(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cs(t){const r=[];for(let i=0;i<t.length;i++){const a=ce(t[i]);if(Array.isArray(a)){if(0===a.length)throw new mt(900,!1);let c,d=nn.Default;for(let f=0;f<a.length;f++){const m=a[f],v=xl(m);"number"==typeof v?-1===v?c=m.token:d|=v:c=m}r.push(pr(c,d))}else r.push(pr(a))}return r}function ls(t,r){return t[ee]=r,t.prototype[ee]=r,t}function xl(t){return t[ee]}const ds=ls(_t("Optional"),8),Us=ls(_t("SkipSelf"),4);function zo(t,r){return t.hasOwnProperty(Z)?t[Z]:null}function _c(t,r){t.forEach(i=>Array.isArray(i)?_c(i,r):r(i))}function tg(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function tu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Qn(t,r,i){let a=hs(t,r);return a>=0?t[1|a]=i:(a=~a,function Eh(t,r,i,a){let c=t.length;if(c==r)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=i,t[r+1]=a}}(t,a,r,i)),a}function Ec(t,r){const i=hs(t,r);if(i>=0)return t[1|i]}function hs(t,r){return function cy(t,r,i){let a=0,c=t.length>>i;for(;c!==a;){const d=a+(c-a>>1),f=t[d<<i];if(r===f)return d<<i;f>r?c=d:a=d+1}return~(c<<i)}(t,r,1)}const yi={},Pn=[],Ri=new St(""),Ll=new St("",-1),Fi=new St("");class fs{get(r,i=me){if(i===me){const a=new Error(`NullInjectorError: No provider for ${_n(r)}!`);throw a.name="NullInjectorError",a}return i}}function Vi(t,r){const i=t[C]||null;if(!i&&!0===r)throw new Error(`Type ${_n(t)} does not have '\u0275mod' property.`);return i}function bn(t){return t[jo]||null}function si(t){return t[$o]||null}function Pi(t){return t[oi]||null}function yo(t){const r=bn(t)||si(t)||Pi(t);return null!==r&&r.standalone}function Mi(t){return{\u0275providers:t}}function ao(...t){return{\u0275providers:Ic(0,t),\u0275fromNgModule:!0}}function Ic(t,...r){const i=[],a=new Set;let c;const d=f=>{i.push(f)};return _c(r,f=>{const m=f;Tc(m,d,[],a)&&(c||=[],c.push(m))}),void 0!==c&&vo(c,d),i}function vo(t,r){for(let i=0;i<t.length;i++){const{ngModule:a,providers:c}=t[i];nu(c,d=>{r(d,a)})}}function Tc(t,r,i,a){if(!(t=ce(t)))return!1;let c=null,d=Nn(t);const f=!d&&bn(t);if(d||f){if(f&&!f.standalone)return!1;c=t}else{const v=t.ngModule;if(d=Nn(v),!d)return!1;c=v}const m=a.has(c);if(f){if(m)return!1;if(a.add(c),f.dependencies){const v="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const A of v)Tc(A,r,i,a)}}else{if(!d)return!1;{if(null!=d.imports&&!m){let A;a.add(c);try{_c(d.imports,S=>{Tc(S,r,i,a)&&(A||=[],A.push(S))})}finally{}void 0!==A&&vo(A,r)}if(!m){const A=zo(c)||(()=>new c);r({provide:c,useFactory:A,deps:Pn},c),r({provide:Fi,useValue:c,multi:!0},c),r({provide:Ri,useValue:()=>pr(c),multi:!0},c)}const v=d.providers;if(null!=v&&!m){const A=t;nu(v,S=>{r(S,A)})}}}return c!==t&&void 0!==t.providers}function nu(t,r){for(let i of t)Yi(i)&&(i=i.\u0275providers),Array.isArray(i)?nu(i,r):r(i)}const da=Xt({provide:String,useValue:Xt});function Fl(t){return null!==t&&"object"==typeof t&&da in t}function js(t){return"function"==typeof t}const Vl=new St(""),wc={},Dc={};let ou;function su(){return void 0===ou&&(ou=new fs),ou}class uo{}class au extends uo{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(r,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,Hs(r,f=>this.processProvider(f)),this.records.set(Ll,ps(void 0,this)),c.has("environment")&&this.records.set(uo,ps(void 0,this));const d=this.records.get(Vl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Fi,Pn,nn.Self))}retrieve(r,i){return this.get(r,i.optional?Er:me,i)}destroy(){$s(this),this._destroyed=!0;const r=le(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(r)}}onDestroy(r){return $s(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){$s(this);const i=Jn(this),a=sr(void 0);try{return r()}finally{Jn(i),sr(a)}}get(r,i=me,a=nn.Default){if($s(this),r.hasOwnProperty(V))return r[V](this);a=_o(a);const d=Jn(this),f=sr(void 0);try{if(!(a&nn.SkipSelf)){let v=this.records.get(r);if(void 0===v){const A=function dr(t){return"function"==typeof t||"object"==typeof t&&t instanceof St}(r)&&Ft(r);v=A&&this.injectableDefInScope(A)?ps(Ul(r),wc):null,this.records.set(r,v)}if(null!=v)return this.hydrate(r,v)}return(a&nn.Self?su():this.parent).get(r,i=a&nn.Optional&&i===me?null:i)}catch(m){if("NullInjectorError"===m.name){if((m[Ze]=m[Ze]||[]).unshift(_n(r)),d)throw m;return function eu(t,r,i,a){const c=t[Ze];throw r[ar]&&c.unshift(r[ar]),t.message=function Ol(t,r,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=_n(r);if(Array.isArray(r))c=r.map(_n).join(" -> ");else if("object"==typeof r){let d=[];for(let f in r)if(r.hasOwnProperty(f)){let m=r[f];d.push(f+":"+("string"==typeof m?JSON.stringify(m):_n(m)))}c=`{${d.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[Ze]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{sr(f),Jn(d)}}resolveInjectorInitializers(){const r=le(null),i=Jn(this),a=sr(void 0);try{const d=this.get(Ri,Pn,nn.Self);for(const f of d)f()}finally{Jn(i),sr(a),le(r)}}toString(){const r=[],i=this.records;for(const a of i.keys())r.push(_n(a));return`R3Injector[${r.join(", ")}]`}processProvider(r){let i=js(r=ce(r))?r:ce(r&&r.provide);const a=function dy(t){return Fl(t)?ps(void 0,t.useValue):ps(rg(t),wc)}(r);if(!js(r)&&!0===r.multi){let c=this.records.get(i);c||(c=ps(void 0,wc,!0),c.factory=()=>cs(c.multi),this.records.set(i,c)),i=r,c.multi.push(r)}this.records.set(i,a)}hydrate(r,i){const a=le(null);try{return i.value===Dc?Un(_n(r)):i.value===wc&&(i.value=Dc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function fy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{le(a)}}injectableDefInScope(r){if(!r.providedIn)return!1;const i=ce(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(r){const i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ul(t){const r=Ft(t),i=null!==r?r.factory:zo(t);if(null!==i)return i;if(t instanceof St)throw new mt(204,!1);if(t instanceof Function)return function ly(t){if(t.length>0)throw new mt(204,!1);const i=function yn(t){return t&&(t[vn]||t[_i])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new mt(204,!1)}function rg(t,r,i){let a;if(js(t)){const c=ce(t);return zo(c)||Ul(c)}if(Fl(t))a=()=>ce(t.useValue);else if(function Ih(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...cs(t.deps||[]));else if(function ru(t){return!(!t||!t.useExisting)}(t))a=()=>pr(ce(t.useExisting));else{const c=ce(t&&(t.useClass||t.provide));if(!function hy(t){return!!t.deps}(t))return zo(c)||Ul(c);a=()=>new c(...cs(t.deps))}return a}function $s(t){if(t.destroyed)throw new mt(205,!1)}function ps(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function Hs(t,r){for(const i of t)Array.isArray(i)?Hs(i,r):i&&Yi(i)?Hs(i.\u0275providers,r):r(i)}function ha(t,r){let i;t instanceof au?($s(t),i=t):i=new Ce(t);const c=Jn(i),d=sr(void 0);try{return r()}finally{Jn(c),sr(d)}}function ig(){return void 0!==Or()||null!=kn()}function co(t){if(!ig())throw new mt(-203,!1)}const jn=0,ct=1,Yt=2,gr=3,vi=4,Kr=5,Ui=6,Ws=7,Wn=8,rr=9,Go=10,sn=11,pa=12,qo=13,ga=14,ur=15,ma=16,gs=17,ms=18,_a=19,ag=20,Ko=21,_s=23,Ni=24,Vt=26,Cc=1,Eo=7,va=9,mr=10;function _r(t){return Array.isArray(t)&&"object"==typeof t[Cc]}function ai(t){return Array.isArray(t)&&!0===t[Cc]}function Sc(t){return!!(4&t.flags)}function Io(t){return t.componentOffset>-1}function cu(t){return!(1&~t.flags)}function Bi(t){return!!t.template}function Ei(t){return!!(512&t[Yt])}function To(t){return!(256&~t[Yt])}class ow{previousValue;currentValue;firstChange;constructor(r,i,a){this.previousValue=r,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function lg(t,r,i,a){null!==r?r.applyValueToInputSignal(r,a):t[i]=a}const dg=(()=>{const t=()=>Ea;return t.ngInherit=!0,t})();function Ea(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dh),Dy}function Dy(){const t=Ah(this),r=t?.current;if(r){const i=t.previous;if(i===yi)t.previous=r;else for(let a in r)i[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Dh(t,r,i,a,c){const d=this.declaredInputs[a],f=Ah(t)||function Ch(t,r){return t[Ay]=r}(t,{previous:yi,current:null}),m=f.current||(f.current={}),v=f.previous,A=v[d];m[d]=new ow(A&&A.currentValue,i,v===yi),lg(t,r,c,i)}const Ay="__ngSimpleChanges__";function Ah(t){return t[Ay]||null}const y=function(t,r=null,i){};function F(t){for(;Array.isArray(t);)t=t[jn];return t}function ye(t,r){return F(r[t])}function be(t,r){return F(r[t.index])}function un(t,r){return t.data[r]}function Zn(t,r){return t[r]}function tr(t,r){const i=r[t];return _r(i)?i:i[jn]}function ui(t){return!(128&~t[Yt])}function Lr(t,r){return null==r?null:t[r]}function pu(t){t[gs]=0}function Rc(t){1024&t[Yt]||(t[Yt]|=1024,ui(t)&&gu(t))}function Mc(t){return!!(9216&t[Yt]||t[Ni]?.dirty)}function Cy(t){t[Go].changeDetectionScheduler?.notify(8),64&t[Yt]&&(t[Yt]|=1024),Mc(t)&&gu(t)}function gu(t){t[Go].changeDetectionScheduler?.notify(0);let r=mu(t);for(;null!==r&&!(8192&r[Yt])&&(r[Yt]|=8192,ui(r));)r=mu(r)}function hg(t,r){if(To(t))throw new mt(911,!1);null===t[Ko]&&(t[Ko]=[]),t[Ko].push(r)}function mu(t){const r=t[gr];return ai(r)?r[gr]:r}function Sh(t){return t[Ws]??=[]}function Nc(t){return t.cleanup??=[]}const fn={lFrame:Eb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ph=!1;function Mh(){return fn.bindingsEnabled}function je(){return fn.lFrame.lView}function ln(){return fn.lFrame.tView}function db(t){return fn.lFrame.contextLView=t,t[Wn]}function hb(t){return fn.lFrame.contextLView=null,t}function Sn(){let t=fb();for(;null!==t&&64===t.type;)t=t.parent;return t}function fb(){return fn.lFrame.currentTNode}function Mo(t,r){const i=fn.lFrame;i.currentTNode=t,i.isParent=r}function Ny(){return fn.lFrame.isParent}function gb(){return Ph}function Gl(t){const r=Ph;return Ph=t,r}function lo(){const t=fn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function vs(){return fn.lFrame.bindingIndex}function wo(){return fn.lFrame.bindingIndex++}function _u(t){const r=fn.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function xy(t,r){const i=fn.lFrame;i.bindingIndex=i.bindingRootIndex=t,yu(r)}function yu(t){fn.lFrame.currentDirectiveIndex=t}function Oy(){return fn.lFrame.currentQueryIndex}function mg(t){fn.lFrame.currentQueryIndex=t}function yb(t){const r=t[ct];return 2===r.type?r.declTNode:1===r.type?t[Kr]:null}function aw(t,r,i){if(i&nn.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||i&nn.Host||(c=yb(d),null===c||(d=d[ga],10&c.type))););if(null===c)return!1;r=c,t=d}const a=fn.lFrame=vb();return a.currentTNode=r,a.lView=t,!0}function uw(t){const r=vb(),i=t[ct];fn.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function vb(){const t=fn.lFrame,r=null===t?null:t.child;return null===r?Eb(t):r}function Eb(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ib(){const t=fn.lFrame;return fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _g=Ib;function Ly(){const t=Ib();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ji(){return fn.lFrame.selectedIndex}function ql(t){fn.lFrame.selectedIndex=t}function yr(){const t=fn.lFrame;return un(t.tView,t.selectedIndex)}let yg=!0;function vg(){return yg}function Es(t){yg=t}function cw(t,r){for(let i=r.directiveStart,a=r.directiveEnd;i<a;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:A,ngOnDestroy:S}=d;f&&(t.contentHooks??=[]).push(-i,f),m&&((t.contentHooks??=[]).push(i,m),(t.contentCheckHooks??=[]).push(i,m)),v&&(t.viewHooks??=[]).push(-i,v),A&&((t.viewHooks??=[]).push(i,A),(t.viewCheckHooks??=[]).push(i,A)),null!=S&&(t.destroyHooks??=[]).push(i,S)}}function Eg(t,r,i){Tg(t,r,3,i)}function Ig(t,r,i,a){(3&t[Yt])===i&&Tg(t,r,i,a)}function kh(t,r){let i=t[Yt];(3&i)===r&&(i&=16383,i+=1,t[Yt]=i)}function Tg(t,r,i,a){const d=a??-1,f=r.length-1;let m=0;for(let v=void 0!==a?65535&t[gs]:0;v<f;v++)if("number"==typeof r[v+1]){if(m=r[v],null!=a&&m>=a)break}else r[v]<0&&(t[gs]+=65536),(m<d||-1==d)&&(lw(t,i,r,v),t[gs]=(4294901760&t[gs])+v+2),v++}function Db(t,r){y(4,t,r);const i=le(null);try{r.call(t)}finally{le(i),y(5,t,r)}}function lw(t,r,i,a){const c=i[a]<0,d=i[a+1],m=t[c?-i[a]:i[a]];c?t[Yt]>>14<t[gs]>>16&&(3&t[Yt])===r&&(t[Yt]+=16384,Db(m,d)):Db(m,d)}const xh=-1;class wg{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,i,a){this.factory=r,this.canSeeViewProviders=i,this.injectImpl=a}}function Cb(t){return 3===t||4===t||6===t}function Vy(t){return 64===t.charCodeAt(0)}function Oh(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?i=c:0===i||bb(t,i,c,0,-1===i||2===i?r[++a]:null)}}return t}function bb(t,r,i,a,c){let d=0,f=t.length;if(-1===r)f=-1;else for(;d<t.length;){const m=t[d++];if("number"==typeof m){if(m===r){f=-1;break}if(m>r){f=d-1;break}}}for(;d<t.length;){const m=t[d];if("number"==typeof m)break;if(m===i)return void(null!==c&&(t[d+1]=c));d++,null!==c&&d++}-1!==f&&(t.splice(f,0,r),d=f+1),t.splice(d++,0,i),null!==c&&t.splice(d++,0,c)}function Lh(t){return t!==xh}function Dg(t){return 32767&t}function Fh(t,r){let i=function hi(t){return t>>16}(t),a=r;for(;i>0;)a=a[ga],i--;return a}let Ag=!0;function Uy(t){const r=Ag;return Ag=t,r}const Sb=255,Rb=5;let pw=0;const qs={};function Vh(t,r){const i=bg(t,r);if(-1!==i)return i;const a=r[ct];a.firstCreatePass&&(t.injectorIndex=r.length,Kl(a.data,t),Kl(r,null),Kl(a.blueprint,null));const c=Sg(t,r),d=t.injectorIndex;if(Lh(c)){const f=Dg(c),m=Fh(c,r),v=m[ct].data;for(let A=0;A<8;A++)r[d+A]=m[f+A]|v[f+A]}return r[d+8]=c,d}function Kl(t,r){t.push(0,0,0,0,0,0,0,0,r)}function bg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Sg(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=r;for(;null!==c;){if(a=_w(c),null===a)return xh;if(i++,c=c[ga],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return xh}function By(t,r,i){!function Cg(t,r,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(M)&&(a=i[M]),null==a&&(a=i[M]=pw++);const c=a&Sb;r.data[t+(c>>Rb)]|=1<<c}(t,r,i)}function Rg(t,r,i){if(i&nn.Optional||void 0!==t)return t;Rn()}function Pb(t,r,i,a){if(i&nn.Optional&&void 0===a&&(a=null),!(i&(nn.Self|nn.Host))){const c=t[rr],d=sr(void 0);try{return c?c.get(r,a,i&nn.Optional):so(r,a,i&nn.Optional)}finally{sr(d)}}return Rg(a,0,i)}function Pg(t,r,i,a=nn.Default,c){if(null!==t){if(2048&r[Yt]&&!(a&nn.Self)){const f=function Uh(t,r,i,a,c){let d=t,f=r;for(;null!==d&&null!==f&&2048&f[Yt]&&!Ei(f);){const m=Mb(d,f,i,a|nn.Self,qs);if(m!==qs)return m;let v=d.parent;if(!v){const A=f[ag];if(A){const S=A.get(i,qs,a);if(S!==qs)return S}v=_w(f),f=f[ga]}d=v}return c}(t,r,i,a,qs);if(f!==qs)return f}const d=Mb(t,r,i,a,qs);if(d!==qs)return d}return Pb(r,i,a,c)}function Mb(t,r,i,a,c){const d=function Nb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(M)?t[M]:void 0;return"number"==typeof r?r>=0?r&Sb:kb:r}(i);if("function"==typeof d){if(!aw(r,t,a))return a&nn.Host?Rg(c,0,a):Pb(r,i,a,c);try{let f;if(f=d(a),null!=f||a&nn.Optional)return f;Rn()}finally{_g()}}else if("number"==typeof d){let f=null,m=bg(t,r),v=xh,A=a&nn.Host?r[ur][Kr]:null;for((-1===m||a&nn.SkipSelf)&&(v=-1===m?Sg(t,r):r[m+8],v!==xh&&gw(a,!1)?(f=r[ct],m=Dg(v),r=Fh(v,r)):m=-1);-1!==m;){const S=r[ct];if($y(d,m,S.data)){const k=KM(m,r,i,f,a,A);if(k!==qs)return k}v=r[m+8],v!==xh&&gw(a,r[ct].data[m+8]===A)&&$y(d,m,r)?(f=S,m=Dg(v),r=Fh(v,r)):m=-1}}return c}function KM(t,r,i,a,c,d){const f=r[ct],m=f.data[t+8],S=jy(m,f,i,null==a?Io(m)&&Ag:a!=f&&!!(3&m.type),c&nn.Host&&d===m);return null!==S?Mg(r,f,S,m):qs}function jy(t,r,i,a,c){const d=t.providerIndexes,f=r.data,m=1048575&d,v=t.directiveStart,S=d>>20,X=c?m+S:t.directiveEnd;for(let H=a?m:m+S;H<X;H++){const fe=f[H];if(H<v&&i===fe||H>=v&&fe.type===i)return H}if(c){const H=f[v];if(H&&Bi(H)&&H.type===i)return v}return null}function Mg(t,r,i,a){let c=t[i];const d=r.data;if(c instanceof wg){const f=c;f.resolving&&Un(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}(d[i]));const m=Uy(f.canSeeViewProviders);f.resolving=!0;const A=f.injectImpl?sr(f.injectImpl):null;aw(t,a,nn.Default);try{c=t[i]=f.factory(void 0,d,t,a),r.firstCreatePass&&i>=a.directiveStart&&function wb(t,r,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const f=Ea(r);(i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],r)}finally{null!==A&&sr(A),Uy(m),f.resolving=!1,_g()}}return c}function $y(t,r,i){return!!(i[r+(t>>Rb)]&1<<t)}function gw(t,r){return!(t&nn.Self||t&nn.Host&&r)}class Yr{_tNode;_lView;constructor(r,i){this._tNode=r,this._lView=i}get(r,i,a){return Pg(this._tNode,this._lView,r,_o(a),i)}}function kb(){return new Yr(Sn(),je())}function mw(t){return or(()=>{const r=t.prototype.constructor,i=r[Z]||Hy(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Z]||Hy(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Hy(t){return bt(t)?()=>{const r=Hy(ce(t));return r&&r()}:zo(t)}function _w(t){const r=t[ct],i=r.type;return 2===i?r.declTNode:1===i?t[Kr]:null}function zy(t){return function qM(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const d=i[c];if(Cb(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(d===r)return i[c+1];c+=2}}}return null}(Sn(),t)}function Fb(t,r=null,i=null,a){const c=Iu(t,r,i,a);return c.resolveInjectorInitializers(),c}function Iu(t,r=null,i=null,a,c=new Set){const d=[i||Pn,ao(t)];return a=a||("object"==typeof t?void 0:_n(t)),new au(d,r||su(),a||null,c)}class Ii{static THROW_IF_NOT_FOUND=me;static NULL=new fs;static create(r,i){if(Array.isArray(r))return Fb({name:""},i,r,"");{const a=r.name??"";return Fb({name:a},r.parent,r.providers,a)}}static \u0275prov=pe({token:Ii,providedIn:"any",factory:()=>pr(Ll)});static __NG_ELEMENT_ID__=-1}new St("").__NG_ELEMENT_ID__=t=>{const r=Sn();if(null===r)throw new mt(204,!1);if(2&r.type)return r.value;if(t&nn.Optional)return null;throw new mt(204,!1)};const xg=!1;let Ta=(()=>class t{static __NG_ELEMENT_ID__=YM;static __NG_ENV_ID__=i=>i})();class Ub extends Ta{_lView;constructor(r){super(),this._lView=r}onDestroy(r){return hg(this._lView,r),()=>function bh(t,r){if(null===t[Ko])return;const i=t[Ko].indexOf(r);-1!==i&&t[Ko].splice(i,1)}(this._lView,r)}}function YM(){return new Ub(je())}class Is{}const Og=new St("",{providedIn:"root",factory:()=>!1}),Bb=new St(""),Bh=new St("");let Ks=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ci.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})(),Iw=(()=>{class t{internalPendingTasks=Dt(Ks);scheduler=Dt(Is);add(){const i=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(i)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(i))}}run(i){var a=this;return(0,N.A)(function*(){const c=a.add();try{return yield i()}finally{c()}})()}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})();const wa=class jh extends kr.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,ig()&&(this.destroyRef=Dt(Ta,{optional:!0})??void 0,this.pendingTasks=Dt(Ks,{optional:!0})??void 0)}emit(r){const i=le(null);try{super.next(r)}finally{le(i)}}subscribe(r,i,a){let c=r,d=i||(()=>null),f=a;if(r&&"object"==typeof r){const v=r;c=v.next?.bind(v),d=v.error?.bind(v),f=v.complete?.bind(v)}this.__isAsync&&(d=this.wrapInTimeout(d),c&&(c=this.wrapInTimeout(c)),f&&(f=this.wrapInTimeout(f)));const m=super.subscribe({next:c,error:d,complete:f});return r instanceof li.yU&&r.add(m),m}wrapInTimeout(r){return i=>{const a=this.pendingTasks?.add();setTimeout(()=>{r(i),void 0!==a&&this.pendingTasks?.remove(a)})}}};function $h(...t){}function Lg(t){let r,i;function a(){t=$h;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),a()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{t(),a()})),()=>a()}function Fg(t){return queueMicrotask(()=>t()),()=>{t=$h}}const ww="isAngularZone",Vg=ww+"_ID";let Dw=0;class vr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wa(!1);onMicrotaskEmpty=new wa(!1);onStable=new wa(!1);onError=new wa(!1);constructor(r){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:d=xg}=r;if(typeof Zone>"u")throw new mt(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.callbackScheduled=!1,f.scheduleInRootZone=d,function eN(t){const r=()=>{!function Zy(t){function r(){Lg(()=>{t.callbackScheduled=!1,Yy(t),t.isCheckStableRunning=!0,Xy(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{r()}):t._outer.run(()=>{r()}),Yy(t))}(t)},i=Dw++;t._inner=t._inner.fork({name:"angular",properties:{[ww]:!0,[Vg]:i,[Vg+i]:!0},onInvokeTask:(a,c,d,f,m,v)=>{if(function ev(t){return Bg(t,"__ignore_ng_zone__")}(v))return a.invokeTask(d,f,m,v);try{return Ug(t),a.invokeTask(d,f,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&r(),jb(t)}},onInvoke:(a,c,d,f,m,v,A)=>{try{return Ug(t),a.invoke(d,f,m,v,A)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function tN(t){return Bg(t,"__scheduler_tick__")}(v)&&r(),jb(t)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Yy(t),Xy(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ww)}static assertInAngularZone(){if(!vr.isInAngularZone())throw new mt(909,!1)}static assertNotInAngularZone(){if(vr.isInAngularZone())throw new mt(909,!1)}run(r,i,a){return this._inner.run(r,i,a)}runTask(r,i,a,c){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+c,r,JM,$h,$h);try{return d.runTask(f,i,a)}finally{d.cancelTask(f)}}runGuarded(r,i,a){return this._inner.runGuarded(r,i,a)}runOutsideAngular(r){return this._outer.run(r)}}const JM={};function Xy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Ug(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jb(t){t._nesting--,Xy(t)}class Jy{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wa;onMicrotaskEmpty=new wa;onStable=new wa;onError=new wa;run(r,i,a){return r.apply(i,a)}runGuarded(r,i,a){return r.apply(i,a)}runOutsideAngular(r){return r()}runTask(r,i,a,c){return r.apply(i,a)}}function Bg(t,r){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[r]}class Qo{_console=console;handleError(r){this._console.error("ERROR",r)}}const Cw=new St("",{providedIn:"root",factory:()=>{const t=Dt(vr),r=Dt(Qo);return i=>t.runOutsideAngular(()=>r.handleError(i))}});class jg{destroyed=!1;listeners=null;errorHandler=Dt(Qo,{optional:!0});destroyRef=Dt(Ta);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(r){if(this.destroyed)throw new mt(953,!1);return(this.listeners??=[]).push(r),{unsubscribe:()=>{const i=this.listeners?.indexOf(r);void 0!==i&&-1!==i&&this.listeners?.splice(i,1)}}}emit(r){if(this.destroyed)return void console.warn(Sr(953,!1));if(null===this.listeners)return;const i=le(null);try{for(const a of this.listeners)try{a(r)}catch(c){this.errorHandler?.handleError(c)}}finally{le(i)}}}function tv(t,r){return go(t,r)}const $b=(tv.required=function bw(t){return go(Li,t)},tv);function Hb(){return Tu(Sn(),je())}function Tu(t,r){return new Hh(be(t,r))}let Hh=(()=>class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=Hb})();function Sw(t){return t instanceof Hh?t.nativeElement:t}function Xl(t,r){const i=function Pe(t,r){const i=Object.create(kt);i.value=t,void 0!==r&&(i.equal=r);const a=()=>(xe(i),i.value);return a[Me]=i,a}(t,r?.equal),a=i[Me];return i.set=c=>Oe(a,c),i.update=c=>Je(a,c),i.asReadonly=$g.bind(i),i}function $g(){const t=this[Me];if(void 0===t.readonlyFn){const r=()=>this();r[Me]=t,t.readonlyFn=r}return t.readonlyFn}function nv(t){return function Rw(t){return"function"==typeof t&&void 0!==t[Me]}(t)&&"function"==typeof t.set}function zb(){return this._results[Symbol.iterator]()}class Hg{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new kr.B}constructor(r=!1){this._emitDistinctChangesOnly=r}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){this.dirty=!1;const a=function qr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function mc(t,r,i){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zb}function Wh(t){return!(128&~t.flags)}var zg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zg||{});const Zl=new Map;let Gb=0;function iv(t){Zl.delete(t[_a])}const sv="__ngContext__";function ho(t,r){_r(r)?(t[sv]=r[_a],function Kb(t){Zl.set(t[_a],t)}(r)):t[sv]=r}function lv(t){return jw(t[pa])}function Bw(t){return jw(t[vi])}function jw(t){for(;null!==t&&!ai(t);)t=t[vi];return t}let pv;function aN(t){pv=t}function Da(){if(void 0!==pv)return pv;if(typeof document<"u")return document;throw new mt(210,!1)}const qh=new St("",{providedIn:"root",factory:()=>uN}),uN="ng",Kw=new St(""),cN=new St("",{providedIn:"platform",factory:()=>"unknown"}),lN=new St("",{providedIn:"root",factory:()=>Da().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),iS=new St("",{providedIn:"root",factory:()=>!1});var oD=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(oD||{});const Qh=new St(""),uS=new Set;function No(t){uS.has(t)||(uS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gN(t,r){if(null!==te())throw new mt(-602,!1)}let vv=(()=>class t{view;node;constructor(i,a){this.view=i,this.node=a}static __NG_ELEMENT_ID__=mN})();function mN(){return new vv(je(),Sn())}var Xh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xh||{});let sD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})();const cS=[Xh.EarlyRead,Xh.Write,Xh.MixedReadWrite,Xh.Read];let lS=(()=>{class t{ngZone=Dt(vr);scheduler=Dt(Is);errorHandler=Dt(Qo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Dt(Qh,{optional:!0})}execute(){const i=this.sequences.size>0;i&&y(16),this.executing=!0;for(const a of cS)for(const c of this.sequences)if(!c.erroredOrDestroyed&&c.hooks[a])try{c.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,c.hooks[a])(c.pipelinedValue),c.snapshot))}catch(d){c.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const a of this.sequences)a.afterRun(),a.once&&(this.sequences.delete(a),a.destroy());for(const a of this.deferredRegistrations)this.sequences.add(a);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&y(17)}register(i){const{view:a}=i;void 0!==a?((a[25]??=[]).push(i),gu(a),a[Yt]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,a){return a?a.run(oD.AFTER_NEXT_RENDER,i):i()}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})();class dS{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(r,i,a,c,d,f=null){this.impl=r,this.hooks=i,this.view=a,this.once=c,this.snapshot=f,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const r=this.view?.[25];r&&(this.view[25]=r.filter(i=>i!==this))}}function aD(t,r){!r?.injector&&co();const i=r?.injector??Dt(Ii);return No("NgAfterNextRender"),function fS(t,r,i,a){const c=r.get(sD);c.impl??=r.get(lS);const d=r.get(Qh,null,{optional:!0}),f=i?.phase??Xh.MixedReadWrite,m=!0!==i?.manualCleanup?r.get(Ta):null,v=r.get(vv,null,{optional:!0}),A=new dS(c.impl,function _N(t,r){if(t instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[r]=t,i}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,f),v?.view,a,m,d?.snapshot(null));return c.impl.register(A),A}(t,i,r,!0)}let Du=()=>null;function fD(t,r,i=!1){return Du(t,r,i)}function Mv(t,r){const i=t.contentQueries;if(null!==i){const a=le(null);try{for(let c=0;c<i.length;c+=2){const f=i[c+1];if(-1!==f){const m=t.data[f];mg(i[c]),m.contentQueries(2,r[f],f)}}}finally{le(a)}}}function Ra(t,r,i){mg(0);const a=le(null);try{r(t,i)}finally{le(a)}}function um(t,r,i){if(Sc(r)){const a=le(null);try{const d=r.directiveEnd;for(let f=r.directiveStart;f<d;f++){const m=t.data[f];m.contentQueries&&m.contentQueries(1,i[f],f)}}finally{le(a)}}}var Yo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yo||{});let lf,lm;function ws(t){return function TD(){if(void 0===lf&&(lf=null,on.trustedTypes))try{lf=on.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}()?.createHTML(t)||t}function id(){if(void 0===lm&&(lm=null,on.trustedTypes))try{lm=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lm}function wD(t){return id()?.createHTML(t)||t}function DD(t){return id()?.createScriptURL(t)||t}class od{changingThisBreaksApplicationSecurity;constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xr})`}}function Cu(t){return t instanceof od?t.changingThisBreaksApplicationSecurity:t}function Kc(t,r){const i=function yS(t){return t instanceof od&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${Xr})`)}return i===r}class hm{inertDocumentHelper;constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(ws(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.firstChild?.remove(),i)}catch{return null}}}class vS{defaultDoc;inertDocument;constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=ws(r),i}}const ES=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hf(t){return(t=String(t)).match(ES)?t:"unsafe:"+t}function Pa(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function Qc(...t){const r={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(r[a]=!0);return r}const bD=Pa("area,br,col,hr,img,wbr"),ff=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SD=Pa("rp,rt"),Lv=Qc(bD,Qc(ff,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qc(SD,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qc(SD,ff)),pm=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),RD=Qc(pm,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vv=Pa("script,style,template");class TS{sanitizedSomething=!1;buf=[];sanitizeChildren(r){let i=r.firstChild,a=!0,c=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)c.push(i),i=Uv(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=wS(i);if(d){i=d;break}i=c.pop()}return this.buf.join("")}startElement(r){const i=MD(r).toLowerCase();if(!Lv.hasOwnProperty(i))return this.sanitizedSomething=!0,!Vv.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),f=d.name,m=f.toLowerCase();if(!RD.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=d.value;pm[m]&&(v=hf(v)),this.buf.push(" ",f,'="',jv(v),'"')}return this.buf.push(">"),!0}endElement(r){const i=MD(r).toLowerCase();Lv.hasOwnProperty(i)&&!bD.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(jv(r))}}function wS(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw Bv(r);return r}function Uv(t){const r=t.firstChild;if(r&&function PD(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw Bv(r);return r}function MD(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function Bv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const DS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ND=/([^\#-~ |!])/g;function jv(t){return t.replace(/&/g,"&amp;").replace(DS,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(ND,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cd;function $v(t){return"content"in t&&function Hv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vr||{});function zv(t){const r=ld();return r?wD(r.sanitize(Vr.HTML,t)||""):Kc(t,"HTML")?wD(Cu(t)):function AS(t,r){let i=null;try{cd=cd||function CD(t){const r=new vS(t);return function fm(){try{return!!(new window.DOMParser).parseFromString(ws(""),"text/html")}catch{return!1}}()?new hm(r):r}(t);let a=r?String(r):"";i=cd.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=i.innerHTML,i=cd.getInertBodyElement(a)}while(a!==d);return ws((new TS).sanitizeChildren($v(i)||i))}finally{if(i){const a=$v(i)||i;for(;a.firstChild;)a.firstChild.remove()}}}(Da(),ie(t))}function gm(t){const r=ld();return r?r.sanitize(Vr.URL,t)||"":Kc(t,"URL")?Cu(t):hf(ie(t))}function Wv(t){const r=ld();if(r)return DD(r.sanitize(Vr.RESOURCE_URL,t)||"");if(Kc(t,"ResourceURL"))return DD(Cu(t));throw new mt(904,!1)}function Gv(t,r,i){return function cr(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Wv:gm}(r,i)(t)}function ld(){const t=je();return t&&t[Go].sanitizer}function Jo(t){return t instanceof Function?t():t}function _f(t,r,i){let a=t.length;for(;;){const c=t.indexOf(r,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}i=c+1}}const eE="ng-template";function UD(t,r,i,a){let c=0;if(a){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==_f(r[c+1].toLowerCase(),i,0))return!0}else if(tE(t))return!1;if(c=r.indexOf(1,c),c>-1){let d;for(;++c<r.length&&"string"==typeof(d=r[c]);)if(d.toLowerCase()===i)return!0}return!1}function tE(t){return 4===t.type&&t.value!==eE}function RS(t,r,i){return r===(4!==t.type||i?t.value:eE)}function BD(t,r,i){let a=4;const c=t.attrs,d=null!==c?function Ru(t){for(let r=0;r<t.length;r++)if(Cb(t[r]))return r;return t.length}(c):0;let f=!1;for(let m=0;m<r.length;m++){const v=r[m];if("number"!=typeof v){if(!f)if(4&a){if(a=2|1&a,""!==v&&!RS(t,v,i)||""===v&&1===r.length){if(es(a))return!1;f=!0}}else if(8&a){if(null===c||!UD(t,c,v,i)){if(es(a))return!1;f=!0}}else{const A=r[++m],S=Gi(v,c,tE(t),i);if(-1===S){if(es(a))return!1;f=!0;continue}if(""!==A){let k;if(k=S>d?"":c[S+1].toLowerCase(),2&a&&A!==k){if(es(a))return!1;f=!0}}}}else{if(!f&&!es(a)&&!es(v))return!1;if(f&&es(v))continue;f=!1,a=v|1&a}}return es(a)||f}function es(t){return!(1&t)}function Gi(t,r,i,a){if(null===r)return-1;let c=0;if(a||!i){let d=!1;for(;c<r.length;){const f=r[c];if(f===t)return c;if(3===f||6===f)d=!0;else{if(1===f||2===f){let m=r[++c];for(;"string"==typeof m;)m=r[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=d?1:2}return-1}return function jD(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===r)return i;i++}return-1}(r,t)}function nE(t,r,i=!1){for(let a=0;a<r.length;a++)if(BD(t,r[a],i))return!0;return!1}function gd(t,r){return t?":not("+r.trim()+")":r}function PS(t){let r=t[0],i=1,a=2,c="",d=!1;for(;i<t.length;){let f=t[i];if("string"==typeof f)if(2&a){const m=t[++i];c+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?c+="."+f:4&a&&(c+=" "+f);else""!==c&&!es(f)&&(r+=gd(d,c),c=""),a=f,d=d||!es(a);i++}return""!==c&&(r+=gd(d,c)),r}const xt={};function vf(t,r,i){return t.createElement(r,i)}function xa(t,r,i,a,c){t.insertBefore(r,i,a,c)}function rE(t,r,i){t.appendChild(r,i)}function iE(t,r,i,a,c){null!==a?xa(t,r,i,a,c):rE(t,r,i)}function oE(t,r,i){const{mergedAttrs:a,classes:c,styles:d}=i;null!==a&&function GM(t,r,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const d=i[a++],f=i[a++],m=i[a++];t.setAttribute(r,f,m,d)}else{const d=c,f=i[++a];Vy(d)?t.setProperty(r,d,f):t.setAttribute(r,d,f),a++}}}(t,r,a),null!==c&&function NS(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}(t,r,c),null!==d&&function MS(t,r,i){t.setAttribute(r,"style",i)}(t,r,d)}function sE(t,r,i,a,c,d,f,m,v,A,S){const k=Vt+a,X=k+c,H=function WD(t,r){const i=[];for(let a=0;a<r;a++)i.push(a<t?null:xt);return i}(k,X),fe="function"==typeof A?A():A;return H[ct]={type:t,blueprint:H,template:i,queries:null,viewQuery:m,declTNode:r,data:H.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:v,consts:fe,incompleteFirstPass:!1,ssrId:S}}function Im(t,r,i,a,c,d,f,m,v,A,S){const k=r.blueprint.slice();return k[jn]=c,k[Yt]=1228|a,(null!==A||t&&2048&t[Yt])&&(k[Yt]|=2048),pu(k),k[gr]=k[ga]=t,k[Wn]=i,k[Go]=f||t&&t[Go],k[sn]=m||t&&t[sn],k[rr]=v||t&&t[rr]||null,k[Kr]=d,k[_a]=function qb(){return Gb++}(),k[Ui]=S,k[ag]=A,k[ur]=2==r.type?t[ur]:k,k}function Ef(t){let r=16;return t.signals?r=4096:t.onPush&&(r=64),r}function Cs(t,r,i,a){if(0===i)return-1;const c=r.length;for(let d=0;d<i;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Yc(t,r){return t[pa]?t[qo][vi]=r:t[pa]=r,t[qo]=r,r}function If(t=1){Tf(ln(),je(),Ji()+t,!1)}function Tf(t,r,i,a){if(!a)if(3&~r[Yt]){const d=t.preOrderHooks;null!==d&&Ig(r,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&Eg(r,d,i)}ql(i)}var wf=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wf||{});function Tm(t,r,i,a){const c=le(null);try{const[d,f,m]=t.inputs[i];let v=null;!!(f&wf.SignalBased)&&(v=r[d][Me]),null!==v&&void 0!==v.transformFn?a=v.transformFn(a):null!==m&&(a=m.call(r,a)),null!==t.setInput?t.setInput(r,v,a,i,d):lg(r,v,d,a)}finally{le(c)}}function Ys(t,r,i,a,c){const d=Ji(),f=2&a;try{ql(-1),f&&r.length>Vt&&Tf(t,r,Vt,!1),y(f?2:0,c),i(a,c)}finally{ql(d),y(f?3:1,c)}}function Df(t,r,i){(function yd(t,r,i){const a=i.directiveStart,c=i.directiveEnd;Io(i)&&function kS(t,r,i){const a=be(r,t),c=function GD(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=sE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}(i),d=t[Go].rendererFactory,f=Yc(t,Im(t,c,null,Ef(i),a,r,null,d.createRenderer(a,i),null,null,null));t[r.index]=f}(r,i,t.data[a+i.componentOffset]),t.firstCreatePass||Vh(i,r);const d=i.initialInputs;for(let f=a;f<c;f++){const m=t.data[f],v=Mg(r,t,f,i);ho(v,r),null!==d&&OS(0,f-a,v,m,0,d),Bi(m)&&(tr(i.index,r)[Wn]=Mg(r,t,f,i))}})(t,r,i),!(64&~i.flags)&&function Af(t,r,i){const a=i.directiveStart,c=i.directiveEnd,d=i.index,f=function _b(){return fn.lFrame.currentDirectiveIndex}();try{ql(d);for(let m=a;m<c;m++){const v=t.data[m],A=r[m];yu(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&XD(v,A)}}finally{ql(-1),yu(f)}}(t,r,i)}function Mu(t,r,i=be){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const f=a[d+1],m=-1===f?i(r,t):t[f];t[c++]=m}}}let cE,Jc=()=>null;function no(t,r,i,a,c,d,f,m){if(m||!Am(r,t,i,a,c)){if(3&r.type){const v=be(r,i);a=function QD(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=f?f(c,r.value||"",a):c,d.setProperty(v,a,c)}}else Io(r)&&function wm(t,r){const i=tr(r,t);16&i[Yt]||(i[Yt]|=64)}(i,r.index)}function XD(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Dm(t,r){const i=t.directiveRegistry;let a=null;if(i)for(let c=0;c<i.length;c++){const d=i[c];nE(r,d.selectors,!1)&&(a??=[],Bi(d)?a.unshift(d):a.push(d))}return a}function Js(t,r,i,a,c,d){const f=be(t,r);!function bs(t,r,i,a,c,d,f){if(null==d)t.removeAttribute(r,c,i);else{const m=null==f?ie(d):f(d,a||"",c);t.setAttribute(r,c,m,i)}}(r[sn],f,d,t.value,i,a,c)}function OS(t,r,i,a,c,d){const f=d[r];if(null!==f)for(let m=0;m<f.length;m+=2)Tm(a,i,f[m],f[m+1])}function Am(t,r,i,a,c){const d=t.inputs?.[a],f=t.hostDirectiveInputs?.[a];let m=!1;if(f)for(let v=0;v<f.length;v+=2){const A=f[v];Tm(r.data[A],i[A],f[v+1],c),m=!0}if(d)for(const v of d)Tm(r.data[v],i[v],a,c),m=!0;return m}function ea(t,r){const i=tr(r,t),a=i[ct];!function ZD(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])}(a,i);const c=i[jn];null!==c&&null===i[Ui]&&(i[Ui]=fD(c,i[rr])),y(18),Nu(a,i,i[Wn]),y(19,i[Wn])}function Nu(t,r,i){uw(r);try{const a=t.viewQuery;null!==a&&Ra(1,a,i);const c=t.template;null!==c&&Ys(t,r,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),r[ms]?.finishViewCreation(t),t.staticContentQueries&&Mv(t,r),t.staticViewQueries&&Ra(2,t.viewQuery,i);const d=t.components;null!==d&&function LS(t,r){for(let i=0;i<r.length;i++)ea(t,r[i])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Yt]&=-5,Ly()}}function vd(t,r,i,a){const c=le(null);try{const d=r.tView,v=Im(t,d,i,4096&t[Yt]?4096:16,null,r,null,null,a?.injector??null,a?.embeddedViewInjector??null,a?.dehydratedView??null);v[ma]=t[r.index];const S=t[ms];return null!==S&&(v[ms]=S.createEmbeddedView(d)),Nu(d,v,i),v}finally{le(c)}}function gn(t,r){return!r||null===r.firstChild||Wh(t)}function Cf(t,r){return cE(t,r)}var bf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bf||{});function Oa(t){return!(32&~t.flags)}function La(t,r,i,a,c){if(null!=a){let d,f=!1;ai(a)?d=a:_r(a)&&(f=!0,a=a[jn]);const m=F(a);0===t&&null!==i?null==c?rE(r,i,m):xa(r,i,m,c||null,!0):1===t&&null!==i?xa(r,i,m,c||null,!0):2===t?function md(t,r,i){t.removeChild(null,r,i)}(r,m,f):3===t&&r.destroyNode(m),null!=d&&function rA(t,r,i,a,c){const d=i[Eo];d!==F(i)&&La(r,t,a,d,c);for(let m=mr;m<i.length;m++){const v=i[m];Rf(v[ct],v,t,r,a,d)}}(r,t,d,i,c)}}function dE(t,r){r[Go].changeDetectionScheduler?.notify(9),Rf(t,r,r[sn],2,null,null)}function Fa(t,r){const i=t[va],a=i.indexOf(r);i.splice(a,1)}function Id(t,r){if(To(r))return;const i=r[sn];i.destroyNode&&Rf(t,r,i,3,null,null),function Ed(t){let r=t[pa];if(!r)return Va(t[ct],t);for(;r;){let i=null;if(_r(r))i=r[pa];else{const a=r[mr];a&&(i=a)}if(!i){for(;r&&!r[vi]&&r!==t;)_r(r)&&Va(r[ct],r),r=r[gr];null===r&&(r=t),_r(r)&&Va(r[ct],r),i=r&&r[vi]}r=i}}(r)}function Va(t,r){if(To(r))return;const i=le(null);try{r[Yt]&=-129,r[Yt]|=256,r[Ni]&&Ie(r[Ni]),function Td(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=r[i[a]];if(!(c instanceof wg)){const d=i[a+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const m=c[d[f]],v=d[f+1];y(4,m,v);try{v.call(m)}finally{y(5,m,v)}}else{y(4,c,d);try{d.call(c)}finally{y(5,c,d)}}}}}(t,r),function JD(t,r){const i=t.cleanup,a=r[Ws];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const m=i[f+3];m>=0?a[m]():a[-m].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(r[Ws]=null);const c=r[Ko];if(null!==c){r[Ko]=null;for(let f=0;f<c.length;f++)(0,c[f])()}const d=r[_s];if(null!==d){r[_s]=null;for(const f of d)f.destroy()}}(t,r),1===r[ct].type&&r[sn].destroy();const a=r[ma];if(null!==a&&ai(r[gr])){a!==r[gr]&&Fa(a,r);const c=r[ms];null!==c&&c.detachView(t)}iv(r)}finally{le(i)}}function Cm(t,r,i){return function hE(t,r,i){let a=r;for(;null!==a&&168&a.type;)a=(r=a).parent;if(null===a)return i[jn];if(Io(a)){const{encapsulation:c}=t.data[a.directiveStart+a.componentOffset];if(c===Yo.None||c===Yo.Emulated)return null}return be(a,i)}(t,r.parent,i)}let Dr,tA=function eA(t,r,i){return 40&t.type?be(t,i):null};function tl(t,r,i,a){const c=Cm(t,a,r),d=r[sn],m=function wd(t,r,i){return tA(t,r,i)}(a.parent||r[Kr],a,r);if(null!=c)if(Array.isArray(i))for(let v=0;v<i.length;v++)iE(d,c,i[v],m,!1);else iE(d,c,i,m,!1);void 0!==Dr&&Dr(d,a,r,i,c)}function ku(t,r){if(null!==r){const i=r.type;if(3&i)return be(r,t);if(4&i)return nl(-1,t[r.index]);if(8&i){const a=r.child;if(null!==a)return ku(t,a);{const c=t[r.index];return ai(c)?nl(-1,c):F(c)}}if(128&i)return ku(t,r.next);if(32&i)return Cf(r,t)()||F(t[r.index]);{const a=nA(t,r);return null!==a?Array.isArray(a)?a[0]:ku(mu(t[ur]),a):ku(t,r.next)}}return null}function nA(t,r){return null!==r?t[ur][Kr].projection[r.projection]:null}function nl(t,r){const i=mr+t+1;if(i<r.length){const a=r[i],c=a[ct].firstChild;if(null!==c)return ku(a,c)}return r[Eo]}function fE(t,r,i,a,c,d,f){for(;null!=i;){if(128===i.type){i=i.next;continue}const m=a[i.index],v=i.type;if(f&&0===r&&(m&&ho(F(m),a),i.flags|=2),!Oa(i))if(8&v)fE(t,r,i.child,a,c,d,!1),La(r,t,c,m,d);else if(32&v){const A=Cf(i,a);let S;for(;S=A();)La(r,t,c,S,d);La(r,t,c,m,d)}else 16&v?ta(t,r,a,i,c,d):La(r,t,c,m,d);i=f?i.projectionNext:i.next}}function Rf(t,r,i,a,c,d){fE(i,a,t.firstChild,r,c,d,!1)}function ta(t,r,i,a,c,d){const f=i[ur],v=f[Kr].projection[a.projection];if(Array.isArray(v))for(let A=0;A<v.length;A++)La(r,t,c,v[A],d);else{let A=v;const S=f[gr];Wh(a)&&(A.flags|=128),fE(t,r,A,S,c,d,!0)}}function rl(t,r,i,a,c=!1){for(;null!==i;){if(128===i.type){i=c?i.projectionNext:i.next;continue}const d=r[i.index];null!==d&&a.push(F(d)),ai(d)&&xu(d,a);const f=i.type;if(8&f)rl(t,r,i.child,a);else if(32&f){const m=Cf(i,r);let v;for(;v=m();)a.push(v)}else if(16&f){const m=nA(r,i);if(Array.isArray(m))a.push(...m);else{const v=mu(r[ur]);rl(v[ct],v,m,a,!0)}}i=c?i.projectionNext:i.next}return a}function xu(t,r){for(let i=mr;i<t.length;i++){const a=t[i],c=a[ct].firstChild;null!==c&&rl(a[ct],a,c,r)}t[Eo]!==t[jn]&&r.push(t[Eo])}function bm(t){if(null!==t[25]){for(const r of t[25])r.impl.addSequence(r);t[25].length=0}}let Sm=[];const VS={...oe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{gu(t.lView)},consumerOnSignalRead(){this.lView[Ni]=this}},Gn={...oe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let r=mu(t.lView);for(;r&&!mE(r[ct]);)r=mu(r);r&&Rc(r)},consumerOnSignalRead(){this.lView[Ni]=this}};function mE(t){return 2!==t.type}function _E(t){if(null===t[_s])return;let r=!0;for(;r;){let i=!1;for(const a of t[_s])a.dirty&&(i=!0,null===a.zone||Zone.current===a.zone?a.run():a.zone.run(()=>a.run()));r=i&&!!(8192&t[Yt])}}function Pm(t,r=!0,i=0){const c=t[Go].rendererFactory;c.begin?.();try{!function sA(t,r){const i=gb();try{Gl(!0),Nm(t,r);let a=0;for(;Mc(t);){if(100===a)throw new mt(103,!1);a++,Nm(t,1)}}finally{Gl(i)}}(t,i)}catch(f){throw r&&function el(t,r){const i=t[rr],a=i?i.get(Qo,null):null;a&&a.handleError(r)}(t,f),f}finally{c.end?.()}}function Mm(t,r,i,a){if(To(r))return;const c=r[Yt];uw(r);let m=!0,v=null,A=null;mE(t)?(A=function pE(t){return t[Ni]??function gE(t){const r=Sm.pop()??Object.create(VS);return r.lView=t,r}(t)}(r),v=Ht(A)):null===te()?(m=!1,A=function gi(t){const r=t[Ni]??Object.create(Gn);return r.lView=t,r}(r),v=Ht(A)):r[Ni]&&(Ie(r[Ni]),r[Ni]=null);try{pu(r),function mb(t){return fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ys(t,r,i,2,a);const S=!(3&~c);if(S){const H=t.preOrderCheckHooks;null!==H&&Eg(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Ig(r,H,0,null),kh(r,0)}if(function Pf(t){for(let r=lv(t);null!==r;r=Bw(r)){if(!(2&r[Yt]))continue;const i=r[va];for(let a=0;a<i.length;a++)Rc(i[a])}}(r),_E(r),Ad(r,0),null!==t.contentQueries&&Mv(t,r),S){const H=t.contentCheckHooks;null!==H&&Eg(r,H)}else{const H=t.contentHooks;null!==H&&Ig(r,H,1),kh(r,1)}!function aA(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)ql(~c);else{const d=c,f=i[++a],m=i[++a];xy(f,d);const v=r[d];y(24,v),m(2,v),y(25,v)}}}finally{ql(-1)}}(t,r);const k=t.components;null!==k&&vE(r,k,0);const X=t.viewQuery;if(null!==X&&Ra(2,X,a),S){const H=t.viewCheckHooks;null!==H&&Eg(r,H)}else{const H=t.viewHooks;null!==H&&Ig(r,H,2),kh(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[22]){for(const H of r[22])H();r[22]=null}bm(r),r[Yt]&=-73}catch(S){throw gu(r),S}finally{null!==A&&(rn(A,v),m&&function oA(t){t.lView[Ni]!==t&&(t.lView=null,Sm.push(t))}(A)),Ly()}}function Ad(t,r){for(let i=lv(t);null!==i;i=Bw(i))for(let a=mr;a<i.length;a++)Nf(i[a],r)}function Mf(t,r,i){y(18);const a=tr(r,t);Nf(a,i),y(19,a[Wn])}function Nf(t,r){ui(t)&&Nm(t,r)}function Nm(t,r){const a=t[ct],c=t[Yt],d=t[Ni];let f=!!(0===r&&16&c);if(f||=!!(64&c&&0===r),f||=!!(1024&c),f||=!(!d?.dirty||!at(d)),f||=!1,d&&(d.dirty=!1),t[Yt]&=-9217,f)Mm(a,t,a.template,t[Wn]);else if(8192&c){_E(t),Ad(t,1);const m=a.components;null!==m&&vE(t,m,1),bm(t)}}function vE(t,r,i){for(let a=0;a<r.length;a++)Mf(t,r[a],i)}function kf(t,r){const i=gb()?64:1088;for(t[Go].changeDetectionScheduler?.notify(r);t;){t[Yt]|=i;const a=mu(t);if(Ei(t)&&!a)return t;t=a}return null}function xf(t,r,i,a){return[t,!0,0,r,null,a,null,i,null,null]}function EE(t,r){const i=mr+r;if(i<t.length)return t[i]}function Cd(t,r,i,a=!0){const c=r[ct];if(function US(t,r,i,a){const c=mr+a,d=i.length;a>0&&(i[c-1][vi]=r),a<d-mr?(r[vi]=i[c],tg(i,mr+a,r)):(i.push(r),r[vi]=null),r[gr]=i;const f=r[ma];null!==f&&i!==f&&km(f,r);const m=r[ms];null!==m&&m.insertView(t),Cy(r),r[Yt]|=128}(c,r,t,i),a){const f=nl(i,t),m=r[sn],v=m.parentNode(t[Eo]);null!==v&&function FS(t,r,i,a,c,d){a[jn]=c,a[Kr]=r,Rf(t,a,i,1,c,d)}(c,t[Kr],m,r,v,f)}const d=r[Ui];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function IE(t,r){const i=Of(t,r);return void 0!==i&&Id(i[ct],i),i}function Of(t,r){if(t.length<=mr)return;const i=mr+r,a=t[i];if(a){const c=a[ma];null!==c&&c!==t&&Fa(c,a),r>0&&(t[i-1][vi]=a[vi]);const d=tu(t,mr+r);!function YD(t,r){dE(t,r),r[jn]=null,r[Kr]=null}(a[ct],a);const f=d[ms];null!==f&&f.detachView(d[ct]),a[gr]=null,a[vi]=null,a[Yt]&=-129}return a}function km(t,r){const i=t[va],a=r[gr];(_r(a)||r[ur]!==a[gr][ur])&&(t[Yt]|=2),null===i?t[va]=[r]:i.push(r)}let na=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const r=this._lView,i=r[ct];return rl(i,r,i.firstChild,[])}constructor(r,i,a=!0){this._lView=r,this._cdRefInjectingView=i,this.notifyErrorHandler=a}get context(){return this._lView[Wn]}set context(r){this._lView[Wn]=r}get destroyed(){return To(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[gr];if(ai(r)){const i=r[8],a=i?i.indexOf(this):-1;a>-1&&(Of(r,a),tu(i,a))}this._attachedToViewContainer=!1}Id(this._lView[ct],this._lView)}onDestroy(r){hg(this._lView,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Yt]&=-129}reattach(){Cy(this._lView),this._lView[Yt]|=128}detectChanges(){this._lView[Yt]|=1024,Pm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Ei(this._lView),i=this._lView[ma];null!==i&&!r&&Fa(i,this._lView),dE(this._lView[ct],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new mt(902,!1);this._appRef=r;const i=Ei(this._lView),a=this._lView[ma];null!==a&&!i&&km(a,this._lView),Cy(this._lView)}},Mr=(()=>class t{static __NG_ELEMENT_ID__=uA})();const TE=Mr,wE=class extends TE{_declarationLView;_declarationTContainer;elementRef;constructor(r,i,a){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,i){return this.createEmbeddedViewImpl(r,i)}createEmbeddedViewImpl(r,i,a){const c=vd(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new na(c)}};function uA(){return Ou(Sn(),je())}function Ou(t,r){return 4&t.type?new wE(r,t,Tu(t,r)):null}function ol(t,r,i,a,c){let d=t.data[r];if(null===d)d=function AE(t,r,i,a,c){const d=fb(),f=Ny(),v=t.data[r]=function Ba(t,r,i,a,c,d){let f=r?r.injectorIndex:-1,m=0;return function Wl(){return null!==fn.skipHydrationRootTNode}()&&(m|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,i,r,a,c);return function gA(t,r,i,a){null===t.firstChild&&(t.firstChild=r),null!==i&&(a?null==i.child&&null!==r.parent&&(i.child=r):null===i.next&&(i.next=r,r.prev=i))}(t,v,d,f),v}(t,r,i,a,c),function BM(){return fn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=a,d.attrs=c;const f=function fg(){const t=fn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return Mo(d,!0),d}let qf=()=>null;function hl(t,r){return qf(t,r)}let eR=class{},VE=class{};class fl{resolveComponentFactory(r){throw Error(`No component factory found for ${_n(r)}.`)}}let ju=class{static NULL=new fl};class Wm{}let kA=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function tR(){const t=je(),i=tr(Sn().index,t);return(_r(i)?i:t)[sn]}()})(),xA=(()=>{class t{static \u0275prov=pe({token:t,providedIn:"root",factory:()=>null})}return t})();function pl(t){return!!Vi(t)}const Od={};class ja{injector;parentInjector;constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,a){a=_o(a);const c=this.injector.get(r,Od,a);return c!==Od||i===Od?c:this.parentInjector.get(r,i,a)}}function BE(t,r,i){let a=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?d=m:1==d?c=ae(c,m):2==d&&(a=ae(a,m+": "+r[++f]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}function gl(t,r=nn.Default){const i=je();return null===i?pr(t,r):Pg(Sn(),i,ce(t),r)}function $a(){throw new Error("invalid")}function Qf(t,r,i,a,c){const d=null===a?null:{"":-1},f=c(t,i);if(null!==f){let m,v=null,A=null;const S=function $E(t){let r=null,i=!1;for(let f=0;f<t.length;f++){const m=t[f];if(0===f&&Bi(m)&&(r=m),null!==m.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let a=null,c=null,d=null;for(const f of t)null!==f.findHostDirectiveDefs&&(a??=[],c??=new Map,d??=new Map,OA(f,a,d,c)),f===r&&(a??=[],a.push(f));return null!==a?(a.push(...null===r?t:t.slice(1)),[a,c,d]):null}(f);null===S?m=f:[m,v,A]=S,function Xf(t,r,i,a,c,d,f){const m=a.length;let v=!1;for(let X=0;X<m;X++){const H=a[X];!v&&Bi(H)&&(v=!0,HE(t,i,X)),By(Vh(i,r),t,H.type)}!function VA(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,m);for(let X=0;X<m;X++){const H=a[X];H.providersResolver&&H.providersResolver(H)}let A=!1,S=!1,k=Cs(t,r,m,null);m>0&&(i.directiveToIndex=new Map);for(let X=0;X<m;X++){const H=a[X];if(i.mergedAttrs=Oh(i.mergedAttrs,H.hostAttrs),WE(t,i,r,k,H),FA(k,H,c),null!==f&&f.has(H)){const[$e,pt]=f.get(H);i.directiveToIndex.set(H.type,[k,$e+i.directiveStart,pt+i.directiveStart])}else(null===d||!d.has(H))&&i.directiveToIndex.set(H.type,k);null!==H.contentQueries&&(i.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(i.flags|=64);const fe=H.type.prototype;!A&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),A=!0),!S&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),S=!0),k++}!function Km(t,r,i){for(let a=r.directiveStart;a<r.directiveEnd;a++){const c=t.data[a];if(null!==i&&i.has(c)){const d=i.get(c);Xm(0,r,d,a),Xm(1,r,d,a),zE(r,a,!0)}else Qm(0,r,c,a),Qm(1,r,c,a),zE(r,a,!1)}}(t,i,d)}(t,r,i,m,d,v,A)}null!==d&&null!==a&&function jE(t,r,i){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=i[r[c+1]];if(null==d)throw new mt(-301,!1);a.push(r[c],d)}}(i,a,d)}function OA(t,r,i,a){const c=r.length;t.findHostDirectiveDefs(t,r,a),i.set(t,[c,r.length-1])}function HE(t,r,i){r.componentOffset=i,(t.components??=[]).push(r.index)}function Qm(t,r,i,a){const c=0===t?i.inputs:i.outputs;for(const d in c)if(c.hasOwnProperty(d)){let f;f=0===t?r.inputs??={}:r.outputs??={},f[d]??=[],f[d].push(a),LA(r,d)}}function Xm(t,r,i,a){const c=0===t?i.inputs:i.outputs;for(const d in c)if(c.hasOwnProperty(d)){const f=c[d];let m;m=0===t?r.hostDirectiveInputs??={}:r.hostDirectiveOutputs??={},m[f]??=[],m[f].push(a,d),LA(r,f)}}function LA(t,r){"class"===r?t.flags|=8:"style"===r&&(t.flags|=16)}function zE(t,r,i){const{attrs:a,inputs:c,hostDirectiveInputs:d}=t;if(null===a||!i&&null===c||i&&null===d||tE(t))return t.initialInputs??=[],void t.initialInputs.push(null);let f=null,m=0;for(;m<a.length;){const v=a[m];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!i&&c.hasOwnProperty(v)){const A=c[v];for(const S of A)if(S===r){f??=[],f.push(v,a[m+1]);break}}else if(i&&d.hasOwnProperty(v)){const A=d[v];for(let S=0;S<A.length;S+=2)if(A[S]===r){f??=[],f.push(A[S+1],a[m+1]);break}}m+=2}else m+=2;else m+=4}t.initialInputs??=[],t.initialInputs.push(f)}function WE(t,r,i,a,c){t.data[a]=c;const d=c.factory||(c.factory=zo(c.type)),f=new wg(d,Bi(c),gl);t.blueprint[a]=f,i[a]=f,function oR(t,r,i,a,c){const d=c.hostBindings;if(d){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const m=~r.index;(function sR(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(f)!=m&&f.push(m),f.push(i,a,d)}}(t,r,a,Cs(t,i,c.hostVars,xt),c)}function FA(t,r,i){if(i){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)i[r.exportAs[a]]=t;Bi(r)&&(i[""]=t)}}function BA(t,r,i,a,c,d,f,m){const v=r.consts,S=ol(r,t,2,a,Lr(v,f));return d&&Qf(r,i,S,Lr(v,m),c),S.mergedAttrs=Oh(S.mergedAttrs,S.attrs),null!==S.attrs&&BE(S,S.attrs,!1),null!==S.mergedAttrs&&BE(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}function GE(t,r){cw(t,r),Sc(r)&&t.queries.elementEnd(r)}class jA extends ju{ngModule;constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=bn(r);return new Fd(i,this.ngModule)}}class Fd extends VE{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function $A(t){return Object.keys(t).map(r=>{const[i,a,c]=t[r],d={propName:i,templateName:r,isSignal:!!(a&wf.SignalBased)};return c&&(d.transform=c),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function aR(t){return Object.keys(t).map(r=>({propName:t[r],templateName:r}))}(this.componentDef.outputs),this.cachedOutputs}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function HD(t){return t.map(PS).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors??[],this.isBoundToModule=!!i}create(r,i,a,c){y(22);const d=le(null);try{const f=this.componentDef,m=a?["ng-version","19.2.7"]:function On(t){const r=[],i=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&i.push(d);else{if(!es(c))break;c=d}a++}return i.length&&r.push(1,...i),r}(this.componentDef.selectors[0]),v=sE(0,null,null,1,0,null,null,null,null,[m],null),A=function Ld(t,r,i){let a=r instanceof uo?r:r?.injector;return a&&null!==t.getStandaloneInjector&&(a=t.getStandaloneInjector(a)||a),a?new ja(i,a):i}(f,c||this.ngModule,r),S=function qE(t){const r=t.get(Wm,null);if(null===r)throw new mt(407,!1);return{rendererFactory:r,sanitizer:t.get(xA,null),changeDetectionScheduler:t.get(Is,null)}}(A),k=S.rendererFactory.createRenderer(null,f),X=a?function qD(t,r,i,a){const d=a.get(iS,!1)||i===Yo.ShadowDom,f=t.selectRootElement(r,d);return function aE(t){Jc(t)}(f),f}(k,a,f.encapsulation,A):function Zm(t,r){const i=(t.selectors[0][0]||"div").toLowerCase();return vf(r,i,"svg"===i?"svg":"math"===i?"math":null)}(f,k),H=Im(null,v,null,512|Ef(f),null,null,S,k,A,null,fD(X,A,!0));H[Vt]=X,uw(H);let fe=null;try{const $e=BA(Vt,v,H,"#host",()=>[this.componentDef],!0,0);X&&(oE(k,X,$e),ho(X,H)),Df(v,H,$e),um(v,$e,H),GE(v,$e),void 0!==i&&function zA(t,r,i){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=i[c];a.push(null!=d&&d.length?Array.from(d):null)}}($e,this.ngContentSelectors,i),fe=tr($e.index,H),H[Wn]=fe[Wn],Nu(v,H,null)}catch($e){throw null!==fe&&iv(fe),iv(H),$e}finally{y(23),Ly()}return new HA(this.componentType,H)}finally{le(d)}}}class HA extends eR{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(r,i){super(),this._rootLView=i,this._tNode=un(i[ct],Vt),this.location=Tu(this._tNode,i),this.instance=tr(this._tNode.index,i)[Wn],this.hostView=this.changeDetectorRef=new na(i,void 0,!1),this.componentType=r}setInput(r,i){const a=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;const c=this._rootLView;Am(a,c[ct],c,r,i),this.previousInputValues.set(r,i),kf(tr(a.index,c),1)}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}let Ym=(()=>class t{static __NG_ELEMENT_ID__=KE})();function KE(){return XE(Sn(),je())}const uR=Ym,Jm=class extends uR{_lContainer;_hostTNode;_hostLView;constructor(r,i,a){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=a}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sg(this._hostTNode,this._hostLView);if(Lh(r)){const i=Fh(r,this._hostLView),a=Dg(r);return new Yr(i[ct].data[a+8],i)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=QE(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(r,i,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const f=hl(this._lContainer,r.ssrId),m=r.createEmbeddedViewImpl(i||{},d,f);return this.insertImpl(m,c,gn(this._hostTNode,f)),m}createComponent(r,i,a,c,d){const f=r&&!function zs(t){return"function"==typeof t}(r);let m;if(f)m=i;else{const fe=i||{};m=fe.index,a=fe.injector,c=fe.projectableNodes,d=fe.environmentInjector||fe.ngModuleRef}const v=f?r:new Fd(bn(r)),A=a||this.parentInjector;if(!d&&null==v.ngModule){const $e=(f?A:this.parentInjector).get(uo,null);$e&&(d=$e)}const S=bn(v.componentType??{}),k=hl(this._lContainer,S?.id??null),H=v.create(A,c,k?.firstChild??null,d);return this.insertImpl(H.hostView,m,gn(this._hostTNode,k)),H}insert(r,i){return this.insertImpl(r,i,!0)}insertImpl(r,i,a){const c=r._lView;if(function ys(t){return ai(t[gr])}(c)){const m=this.indexOf(r);if(-1!==m)this.detach(m);else{const v=c[gr],A=new Jm(v,v[Kr],v[gr]);A.detach(A.indexOf(r))}}const d=this._adjustIndex(i),f=this._lContainer;return Cd(f,c,d,a),r.attachToViewContainerRef(),tg(e_(f),d,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=QE(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),a=Of(this._lContainer,i);a&&(tu(e_(this._lContainer),i),Id(a[ct],a))}detach(r){const i=this._adjustIndex(r,-1),a=Of(this._lContainer,i);return a&&null!=tu(e_(this._lContainer),i)?new na(a):null}_adjustIndex(r,i=0){return r??this.length+i}};function QE(t){return t[8]}function e_(t){return t[8]||(t[8]=[])}function XE(t,r){let i;const a=r[t.index];return ai(a)?i=a:(i=xf(a,r,null,t),r[t.index]=i,Yc(r,i)),ZE(i,r,t,a),new Jm(i,t,r)}let ZE=function Jf(t,r,i,a){if(t[Eo])return;let c;c=8&i.type?F(a):function WA(t,r){const i=t[sn],a=i.createComment(""),c=be(r,t),d=i.parentNode(c);return xa(i,d,a,i.nextSibling(c),!1),a}(r,i),t[Eo]=c},Yf=()=>!1;class tp{queryList;matches=null;constructor(r){this.queryList=r}clone(){return new tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class np{queries;constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const a=null!==r.contentQueries?r.contentQueries[0]:i.length,c=[];for(let d=0;d<a;d++){const f=i.getByIndex(d);c.push(this.queries[f.indexInDeclarationView].clone())}return new np(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==o_(r,i).matches&&this.queries[i].setDirty()}}class JE{flags;read;predicate;constructor(r,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof r?function i_(t){return t.split(",").map(r=>r.trim())}(r):r}}class eI{queries;constructor(r=[]){this.queries=r}elementStart(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==i?i.push(d):i=[d])}return null!==i?new eI(i):null}template(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class n_{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(r,i=-1){this.metadata=r,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new n_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,i,GA(i,d)),this.matchTNodeWithReadOption(r,i,jy(i,r,d,!1,!1))}else a===Mr?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,jy(i,r,a,!1,!1))}matchTNodeWithReadOption(r,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Hh||c===Ym||c===Mr&&4&i.type)this.addMatch(i.index,-2);else{const d=jy(i,r,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,a)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function GA(t,r){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===r)return i[a+1];return null}function tI(t,r,i,a){return-1===i?function r_(t,r){return 11&t.type?Tu(t,r):4&t.type?Ou(t,r):null}(r,t):-2===i?function nI(t,r,i){return i===Hh?Tu(r,t):i===Mr?Ou(r,t):i===Ym?XE(r,t):void 0}(t,r,a):Mg(t,t[ct],i,r)}function qA(t,r,i,a){const c=r[ms].queries[a];if(null===c.matches){const d=t.data,f=i.matches,m=[];for(let v=0;null!==f&&v<f.length;v+=2){const A=f[v];m.push(A<0?null:tI(r,d[A],f[v+1],i.metadata.read))}c.matches=m}return c.matches}function rI(t,r,i,a){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const f=qA(t,r,c,i);for(let m=0;m<d.length;m+=2){const v=d[m];if(v>0)a.push(f[m/2]);else{const A=d[m+1],S=r[-v];for(let k=mr;k<S.length;k++){const X=S[k];X[ma]===X[gr]&&rI(X[ct],X,A,a)}if(null!==S[va]){const k=S[va];for(let X=0;X<k.length;X++){const H=k[X];rI(H[ct],H,A,a)}}}}}return a}function oI(t,r,i,a){const c=ln();if(c.firstCreatePass){const d=Sn();(function Vd(t,r,i){null===t.queries&&(t.queries=new eI),t.queries.track(new n_(r,i))})(c,new JE(r,i,a),d.index),function sI(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(c,t),!(2&~i)&&(c.staticContentQueries=!0)}return function qi(t,r,i){const a=new Hg(!(4&~i));return function by(t,r,i,a){const c=Sh(r);c.push(i),t.firstCreatePass&&Nc(t).push(a,c.length-1)}(t,r,a,a.destroy),(r[ms]??=new np).queries.push(new tp(a))-1}(c,je(),i)}function o_(t,r){return t.queries.getByIndex(r)}function aI(t,r){const i=t[ct],a=o_(i,r);return a.crossesNgTemplate?rI(i,t,r,[]):qA(i,t,a,r)}function lI(t,r){const i=Object.create(zr),a=new jg;function c(){return xe(i),a_(i.value),i.value}return i.value=t,c[Me]=i,c.asReadonly=$g.bind(c),c.set=d=>{i.equal(i.value,d)||(Oe(i,d),a.emit(d))},c.update=d=>{a_(i.value),c.set(d(i.value))},c.subscribe=a.subscribe.bind(a),c.destroyRef=a.destroyRef,c}function a_(t){if(t===Li)throw new mt(952,!1)}function u_(t,r){return lI(t)}const n0=(u_.required=function $u(t){return lI(Li)},u_);let Ha=class{},pI=class{};function gI(t,r){return new op(t,r??null,[])}class op extends Ha{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jA(this);constructor(r,i,a,c=!0){super(),this.ngModuleType=r,this._parent=i;const d=Vi(r);this._bootstrapComponents=Jo(d.bootstrap),this._r3Injector=Iu(r,i,[{provide:Ha,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...a],_n(r),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Wu extends pI{moduleType;constructor(r){super(),this.moduleType=r}create(r){return new op(this.moduleType,r,[])}}class d_ extends Ha{injector;componentFactoryResolver=new jA(this);instance=null;constructor(r){super();const i=new au([...r.providers,{provide:Ha,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],r.parent||su(),r.debugName,new Set(["environment"]));this.injector=i,r.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function qu(t,r,i=null){return new d_({providers:t,parent:r,debugName:i,runEnvironmentInitializers:!0}).injector}let Ud=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Ic(0,i.type),c=a.length>0?qu([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=pe({token:t,providedIn:"environment",factory:()=>new t(pr(uo))})}return t})();function mI(t){return or(()=>{const r=p_(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:r.standalone?c=>c.get(Ud).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yo.Emulated,styles:t.styles||Pn,_:null,schemas:t.schemas||null,tView:null,id:""};r.standalone&&No("NgStandalone"),f0(i);const a=t.dependencies;return i.directiveDefs=g_(a,!1),i.pipeDefs=g_(a,!0),i.id=function EI(t){let r=0;const a=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const d of a.join("|"))r=Math.imul(31,r)+d.charCodeAt(0)|0;return r+=2147483648,"c"+r}(i),i})}function Bd(t){return bn(t)||si(t)}function pR(t){return null!==t}function _I(t){return or(()=>({type:t.type,bootstrap:t.bootstrap||Pn,declarations:t.declarations||Pn,imports:t.imports||Pn,exports:t.exports||Pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function h0(t,r){if(null==t)return yi;const i={};for(const a in t)if(t.hasOwnProperty(a)){const c=t[a];let d,f,m,v;Array.isArray(c)?(m=c[0],d=c[1],f=c[2]??d,v=c[3]||null):(d=c,f=c,m=wf.None,v=null),i[d]=[a,m,v],r[d]=f}return i}function yI(t){if(null==t)return yi;const r={};for(const i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);return r}function h_(t){return or(()=>{const r=p_(t);return f0(r),r})}function f_(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function p_(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputConfig:t.inputs||yi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h0(t.inputs,r),outputs:yI(t.outputs),debugInfo:null}}function f0(t){t.features?.forEach(r=>r(t))}function g_(t,r){if(!t)return null;const i=r?Pi:Bd;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(pR)}function sp(t){let r=function II(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;r;){let c;if(Bi(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new mt(903,!1);c=r.\u0275dir}if(c){if(i){a.push(c);const f=t;f.inputs=TI(t.inputs),f.declaredInputs=TI(t.declaredInputs),f.outputs=TI(t.outputs);const m=c.hostBindings;m&&_0(t,m);const v=c.viewQuery,A=c.contentQueries;if(v&&g0(t,v),A&&m0(t,A),gR(t,c),Wr(t.outputs,c.outputs),Bi(c)&&c.data.animation){const S=t.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let f=0;f<d.length;f++){const m=d[f];m&&m.ngInherit&&m(t),m===sp&&(i=!1)}}r=Object.getPrototypeOf(r)}!function p0(t){let r=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Oh(c.hostAttrs,i=Oh(i,c.hostAttrs))}}(a)}function gR(t,r){for(const i in r.inputs){if(!r.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const a=r.inputs[i];void 0!==a&&(t.inputs[i]=a,t.declaredInputs[i]=r.declaredInputs[i])}}function TI(t){return t===yi?{}:t===Pn?[]:t}function g0(t,r){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{r(a,c),i(a,c)}:r}function m0(t,r){const i=t.contentQueries;t.contentQueries=i?(a,c,d)=>{r(a,c,d),i(a,c,d)}:r}function _0(t,r){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{r(a,c),i(a,c)}:r}function jd(t){return!!up(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function up(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function rs(t,r,i){return t[r]=i}function Br(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function Qu(t,r,i,a){const c=Br(t,r,i);return Br(t,r+1,a)||c}function yl(t,r,i,a,c,d,f,m,v,A){const S=i+Vt,k=r.firstCreatePass?function IR(t,r,i,a,c,d,f,m,v){const A=r.consts,S=ol(r,t,4,f||null,m||null);Mh()&&Qf(r,i,S,Lr(A,v),Dm),S.mergedAttrs=Oh(S.mergedAttrs,S.attrs),cw(r,S);const k=S.tView=sE(2,S,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,A,null);return null!==r.queries&&(r.queries.template(r,S),k.queries=r.queries.embeddedTView(S)),S}(S,r,t,a,c,d,f,m,v):r.data[S];Mo(k,!1);const X=__(r,t,k,i);vg()&&tl(r,t,X,k),ho(X,t);const H=xf(X,t,X,k);return t[S]=H,Yc(t,H),function Ps(t,r,i){return Yf(t,r,i)}(H,k,t),cu(k)&&Df(r,t,k),null!=v&&Mu(t,k,A),k}function AI(t,r,i,a,c,d,f,m){const v=je(),A=ln();return yl(v,A,t,r,i,a,c,Lr(A.consts,d),f,m),AI}let __=function T0(t,r,i,a){return Es(!0),r[sn].createComment("")};let hp=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const fp=new St(""),Mn=new St("");let A_,U0=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(i,a,c){this._ngZone=i,this.registry=a,A_||(function B0(t){A_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),i()},a)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}static \u0275fac=function(a){return new(a||t)(pr(vr),pr(WI),pr(Mn))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{_applications=new Map;registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return A_?.findTestabilityInTree(this,i,a)??null}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),vl=(()=>{class t{static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new zR})}return t})();class zR{queuedEffectCount=0;queues=new Map;schedule(r){this.enqueue(r)}remove(r){const a=this.queues.get(r.zone);a.has(r)&&(a.delete(r),this.queuedEffectCount--)}enqueue(r){const i=r.zone;this.queues.has(i)||this.queues.set(i,new Set);const a=this.queues.get(i);a.has(r)||(this.queuedEffectCount++,a.add(r))}flush(){for(;this.queuedEffectCount>0;)for(const[r,i]of this.queues)null===r?this.flushQueue(i):r.run(()=>this.flushQueue(i))}flushQueue(r){for(const i of r)r.delete(i),this.queuedEffectCount--,i.run()}}function wi(t){return!!t&&"function"==typeof t.then}function ti(t){return!!t&&"function"==typeof t.subscribe}const Ms=new St("");function WR(t){return Mi([{provide:Ms,multi:!0,useValue:t}])}let GR=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a});appInits=Dt(Ms,{optional:!0})??[];injector=Dt(Ii);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=ha(this.injector,c);if(wi(d))i.push(d);else if(ti(d)){const f=new Promise((m,v)=>{d.subscribe({complete:m,error:v})});i.push(f)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xd=new St("");let is=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Dt(Cw);afterRenderManager=Dt(sD);zonelessEnabled=Dt(Og);rootEffectScheduler=Dt(vl);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new kr.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Dt(Ks).hasPendingTasks.pipe((0,xr.T)(i=>!i));constructor(){Dt(Qh,{optional:!0})}whenStable(){let i;return new Promise(a=>{i=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{i.unsubscribe()})}_injector=Dt(uo);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,a){return this.bootstrapImpl(i,a)}bootstrapImpl(i,a,c=Ii.NULL){y(10);const d=i instanceof VE;if(!this._injector.get(GR).done)throw new mt(405,"");let m;m=d?i:this._injector.get(ju).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const v=function j0(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Ha),S=m.create(c,[],a||m.selector,v),k=S.location.nativeElement,X=S.injector.get(fp,null);return X?.registerApplication(k),S.onDestroy(()=>{this.detachView(S.hostView),KI(this.components,S),X?.unregisterApplication(k)}),this._loadComponent(S),y(11,S),S}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){y(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(oD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new mt(101,!1);const i=le(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(i),this.afterTick.next(),y(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wm,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)y(14),this.synchronizeOnce(),y(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a,notifyErrorHandler:c}of this.allViews)KR(a,c,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Mc(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;KI(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Xd,[]).forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>KI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new mt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KI(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function KR(t,r,i,a){(i||Mc(t))&&Pm(t,r,i&&!a?0:1)}function Dl(t,r,i,a){const c=je();return Br(c,wo(),r)&&(ln(),Js(yr(),c,t,r,i,a)),Dl}function oa(t,r,i,a){return Br(t,wo(),i)?r+ie(i)+a:xt}function Ns(t,r,i,a,c,d,f,m){const A=function $d(t,r,i,a,c){const d=Qu(t,r,i,a);return Br(t,r+2,c)||d}(t,vs(),i,c,f);return _u(3),A?r+ie(i)+a+ie(c)+d+ie(f)+m:xt}function Dp(t,r){return t<<17|r<<2}function ic(t){return t>>17&32767}function M_(t){return 2|t}function Wa(t){return(131068&t)>>2}function aT(t,r){return-131069&t|r<<2}function nC(t){return 1|t}function cP(t,r,i,a){const c=t[i+1],d=null===r;let f=a?ic(c):Wa(c),m=!1;for(;0!==f&&(!1===m||d);){const A=t[f+1];Al(t[f],r)&&(m=!0,t[f+1]=a?nC(A):M_(A)),f=a?ic(A):Wa(A)}m&&(t[i+1]=a?M_(c):nC(c))}function Al(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&hs(t,r)>=0}function uT(t,r,i){const a=je();return Br(a,wo(),r)&&no(ln(),yr(),a,t,r,a[sn],i,!1),uT}function cT(t,r,i,a,c){Am(r,t,i,c?"class":"style",a)}function Cl(t,r){return function ks(t,r,i,a){const c=je(),d=ln(),f=_u(2);d.firstUpdatePass&&function _P(t,r,i,a){const c=t.data;if(null===c[i+1]){const d=c[Ji()],f=function iC(t,r){return r>=t.expandoStartIndex}(t,i);(function EP(t,r){return!!(t.flags&(r?8:16))})(d,a)&&null===r&&!f&&(r=!1),r=function $N(t,r,i,a){const c=function gg(t){const r=fn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(i=bp(i=lT(null,t,r,i,a),r.attrs,a),d=null);else{const f=r.directiveStylingLast;if(-1===f||t[f]!==c)if(i=lT(c,t,r,i,a),null===d){let v=function HN(t,r,i){const a=i?r.classBindings:r.styleBindings;if(0!==Wa(a))return t[ic(a)]}(t,r,a);void 0!==v&&Array.isArray(v)&&(v=lT(null,t,r,v[1],a),v=bp(v,r.attrs,a),function zN(t,r,i,a){t[ic(i?r.classBindings:r.styleBindings)]=a}(t,r,a,v))}else d=function yP(t,r,i){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=bp(a,t[d].hostAttrs,i);return bp(a,r.attrs,i)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),i}(c,d,r,a),function uP(t,r,i,a,c,d){let f=d?r.classBindings:r.styleBindings,m=ic(f),v=Wa(f);t[a]=i;let S,A=!1;if(Array.isArray(i)?(S=i[1],(null===S||hs(i,S)>0)&&(A=!0)):S=i,c)if(0!==v){const X=ic(t[m+1]);t[a+1]=Dp(X,m),0!==X&&(t[X+1]=aT(t[X+1],a)),t[m+1]=function tC(t,r){return 131071&t|r<<17}(t[m+1],a)}else t[a+1]=Dp(m,0),0!==m&&(t[m+1]=aT(t[m+1],a)),m=a;else t[a+1]=Dp(v,0),0===m?m=a:t[v+1]=aT(t[v+1],a),v=a;A&&(t[a+1]=M_(t[a+1])),cP(t,S,a,!0),cP(t,S,a,!1),function LN(t,r,i,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&hs(d,r)>=0&&(i[a+1]=nC(i[a+1]))}(r,S,t,a,d),f=Dp(m,v),d?r.classBindings=f:r.styleBindings=f}(c,d,r,i,f,a)}}(d,t,f,a),r!==xt&&Br(c,f,r)&&function sC(t,r,i,a,c,d,f,m){if(!(3&r.type))return;const v=t.data,A=v[m+1],S=function ON(t){return!(1&~t)}(A)?aC(v,r,i,c,Wa(A),f):void 0;dT(S)||(dT(d)||function eC(t){return!(2&~t)}(A)&&(d=aC(v,null,i,c,m,f)),function iA(t,r,i,a,c){if(r)c?t.addClass(i,a):t.removeClass(i,a);else{let d=-1===a.indexOf("-")?void 0:bf.DashCase;null==c?t.removeStyle(i,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=bf.Important),t.setStyle(i,a,c,d))}}(a,f,ye(Ji(),i),c,d))}(d,d.data[Ji()],c,c[sn],t,c[f+1]=function GN(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=_n(Cu(t)))),t}(r,i),a,f)}(t,r,null,!0),Cl}function lT(t,r,i,a,c){let d=null;const f=i.directiveEnd;let m=i.directiveStylingLast;for(-1===m?m=i.directiveStart:m++;m<f&&(d=r[m],a=bp(a,d.hostAttrs,c),d!==t);)m++;return null!==t&&(i.directiveStylingLast=m),a}function bp(t,r,i){const a=i?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const f=r[d];"number"==typeof f?c=f:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qn(t,f,!!i||r[++d]))}return void 0===t?null:t}function aC(t,r,i,a,c,d){const f=null===r;let m;for(;c>0;){const v=t[c],A=Array.isArray(v),S=A?v[1]:v,k=null===S;let X=i[c+1];X===xt&&(X=k?Pn:void 0);let H=k?Ec(X,a):S===a?X:void 0;if(A&&!dT(H)&&(H=Ec(v,a)),dT(H)&&(m=H,f))return m;const fe=t[c+1];c=f?ic(fe):Wa(fe)}if(null!==r){let v=d?r.residualClasses:r.residualStyles;null!=v&&(m=Ec(v,a))}return m}function dT(t){return void 0!==t}class tk{destroy(r){}updateValue(r,i){}swap(r,i){const a=Math.min(r,i),c=Math.max(r,i),d=this.detach(c);if(c-a>1){const f=this.detach(a);this.attach(a,d),this.attach(c,f)}else this.attach(a,d)}move(r,i){this.attach(i,this.detach(r))}}function cC(t,r,i,a,c){return t===i&&Object.is(r,a)?1:Object.is(c(t,r),c(i,a))?-1:0}function dC(t,r,i,a){return!(void 0===r||!r.has(a)||(t.attach(i,r.get(a)),r.delete(a),0))}function wP(t,r,i,a,c){if(dC(t,r,a,i(a,c)))t.updateValue(a,c);else{const d=t.create(a,c);t.attach(a,d)}}function DP(t,r,i,a){const c=new Set;for(let d=r;d<=i;d++)c.add(a(d,t.at(d)));return c}class N_{kvMap=new Map;_vMap=void 0;has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const i=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(r,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,i){if(this.kvMap.has(r)){let a=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const c=this._vMap;for(;c.has(a);)a=c.get(a);c.set(a,i)}else this.kvMap.set(r,i)}forEach(r){for(let[i,a]of this.kvMap)if(r(a,i),void 0!==this._vMap){const c=this._vMap;for(;c.has(a);)a=c.get(a),r(a,i)}}}function Sp(t,r){No("NgControlFlow");const i=je(),a=wo(),c=i[a]!==xt?i[a]:-1,d=-1!==c?Rp(i,Vt+c):void 0;if(Br(i,a,t)){const m=le(null);try{if(void 0!==d&&IE(d,0),-1!==t){const v=Vt+t,A=Rp(i,v),S=gT(i[ct],v),k=hl(A,S.tView.ssrId);Cd(A,vd(i,S,r,{dehydratedView:k}),0,gn(S,k))}}finally{le(m)}}else if(void 0!==d){const m=EE(d,0);void 0!==m&&(m[Wn]=r)}}class AP{lContainer;$implicit;$index;constructor(r,i,a){this.lContainer=r,this.$implicit=i,this.$index=a}get $count(){return this.lContainer.length-mr}}function k_(t){return t}class hT{hasEmptyBlock;trackByFn;liveCollection;constructor(r,i,a){this.hasEmptyBlock=r,this.trackByFn=i,this.liveCollection=a}}function hC(t,r,i,a,c,d,f,m,v,A,S,k,X){No("NgControlFlow");const H=je(),fe=ln(),$e=void 0!==v,pt=je(),gt=m?f.bind(pt[ur][Wn]):f,ot=new hT($e,gt);pt[Vt+t]=ot,yl(H,fe,t+1,r,i,a,c,Lr(fe.consts,d)),$e&&yl(H,fe,t+2,v,A,S,k,Lr(fe.consts,X))}class CP extends tk{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(r,i,a){super(),this.lContainer=r,this.hostLView=i,this.templateTNode=a}get length(){return this.lContainer.length-mr}at(r){return this.getLView(r)[Wn].$implicit}attach(r,i){const a=i[Ui];this.needsIndexUpdate||=r!==this.length,Cd(this.lContainer,i,r,gn(this.templateTNode,a))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function bP(t,r){return Of(t,r)}(this.lContainer,r)}create(r,i){const a=hl(this.lContainer,this.templateTNode.tView.ssrId),c=vd(this.hostLView,this.templateTNode,new AP(this.lContainer,i,r),{dehydratedView:a});return this.operationsCounter?.recordCreate(),c}destroy(r){Id(r[ct],r),this.operationsCounter?.recordDestroy()}updateValue(r,i){this.getLView(r)[Wn].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[Wn].$index=r}getLView(r){return function pT(t,r){return EE(t,r)}(this.lContainer,r)}}function fT(t){const r=le(null),i=Ji();try{const a=je(),c=a[ct],d=a[i],f=i+1,m=Rp(a,f);if(void 0===d.liveCollection){const A=gT(c,f);d.liveCollection=new CP(m,a,A)}else d.liveCollection.reset();const v=d.liveCollection;if(function lC(t,r,i){let a,c,d=0,f=t.length-1;if(Array.isArray(r)){let v=r.length-1;for(;d<=f&&d<=v;){const A=t.at(d),S=r[d],k=cC(d,A,d,S,i);if(0!==k){k<0&&t.updateValue(d,S),d++;continue}const X=t.at(f),H=r[v],fe=cC(f,X,v,H,i);if(0!==fe){fe<0&&t.updateValue(f,H),f--,v--;continue}const $e=i(d,A),pt=i(f,X),gt=i(d,S);if(Object.is(gt,pt)){const ot=i(v,H);Object.is(ot,$e)?(t.swap(d,f),t.updateValue(f,H),v--,f--):t.move(f,d),t.updateValue(d,S),d++}else if(a??=new N_,c??=DP(t,d,f,i),dC(t,a,d,gt))t.updateValue(d,S),d++,f++;else if(c.has(gt))a.set($e,t.detach(d)),f--;else{const ot=t.create(d,r[d]);t.attach(d,ot),d++,f++}}for(;d<=v;)wP(t,a,i,d,r[d]),d++}else if(null!=r){const v=r[Symbol.iterator]();let A=v.next();for(;!A.done&&d<=f;){const S=t.at(d),k=A.value,X=cC(d,S,d,k,i);if(0!==X)X<0&&t.updateValue(d,k),d++,A=v.next();else{a??=new N_,c??=DP(t,d,f,i);const H=i(d,k);if(dC(t,a,d,H))t.updateValue(d,k),d++,f++,A=v.next();else if(c.has(H)){const fe=i(d,S);a.set(fe,t.detach(d)),f--}else t.attach(d,t.create(d,k)),d++,f++,A=v.next()}}for(;!A.done;)wP(t,a,i,t.length,A.value),A=v.next()}for(;d<=f;)t.destroy(t.detach(f--));a?.forEach(v=>{t.destroy(v)})}(v,t,d.trackByFn),v.updateIndexes(),d.hasEmptyBlock){const A=wo(),S=0===v.length;if(Br(a,A,S)){const k=i+2,X=Rp(a,k);if(S){const H=gT(c,k),fe=hl(X,H.tView.ssrId);Cd(X,vd(a,H,void 0,{dehydratedView:fe}),0,gn(H,fe))}else IE(X,0)}}}finally{le(r)}}function Rp(t,r){return t[r]}function gT(t,r){return un(t,r)}function O_(t,r,i,a){const c=je(),d=ln(),f=Vt+t,m=c[sn],v=d.firstCreatePass?BA(f,d,c,r,Dm,Mh(),i,a):d.data[f],A=pC(d,c,v,m,r,t);c[f]=A;const S=cu(v);return Mo(v,!0),oE(m,A,v),!Oa(v)&&vg()&&tl(d,c,A,v),(0===function FM(){return fn.lFrame.elementDepthCount}()||S)&&ho(A,c),function Sy(){fn.lFrame.elementDepthCount++}(),S&&(Df(d,c,v),um(d,v,c)),null!==a&&Mu(c,v),O_}function Pp(){let t=Sn();Ny()?function Nh(){fn.lFrame.isParent=!1}():(t=t.parent,Mo(t,!1));const r=t;(function Ry(t){return fn.skipHydrationRootTNode===t})(r)&&function My(){fn.skipHydrationRootTNode=null}(),function VM(){fn.lFrame.elementDepthCount--}();const i=ln();return i.firstCreatePass&&GE(i,r),null!=r.classesWithoutHost&&function zM(t){return!!(8&t.flags)}(r)&&cT(i,r,je(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function WM(t){return!!(16&t.flags)}(r)&&cT(i,r,je(),r.stylesWithoutHost,!1),Pp}function Mp(t,r,i,a){return O_(t,r,i,a),Pp(),Mp}let pC=(t,r,i,a,c,d)=>(Es(!0),vf(a,c,function vu(){return fn.lFrame.currentNamespace}()));function vC(){return je()}const bl=void 0;var NP=["en",[["a","p"],["AM","PM"],bl],[["AM","PM"],bl,bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bl,"{1} 'at' {0}",bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MP(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let rh={};function _T(t){const r=function OP(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=xP(r);if(i)return i;const a=r.split("-")[0];if(i=xP(a),i)return i;if("en"===a)return NP;throw new mt(701,!1)}function kP(t){return _T(t)[Np.PluralCase]}function xP(t){return t in rh||(rh[t]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[t]),rh[t]}var Np=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Np||{});const yT="en-US";let FP=yT;function we(t,r,i){return function a(c){if(c===Function)return i;kf(Io(t)?tr(t.index,r):r,5);const f=r[Wn];let m=qe(r,f,i,c),v=a.__ngNextListenerFn__;for(;v;)m=qe(r,f,v,c)&&m,v=v.__ngNextListenerFn__;return m}}function qe(t,r,i,a){const c=le(null);try{return y(6,r,i),!1!==i(a)}catch(d){return function ht(t,r){const i=t[rr],a=i?i.get(Qo,null):null;a&&a.handleError(r)}(t,d),!1}finally{y(7,r,i),le(c)}}function ut(t,r,i,a,c,d){const m=r[ct],S=r[i][m.data[i].outputs[a]],k=m.firstCreatePass?Nc(m):null,X=Sh(r),H=S.subscribe(d),fe=X.length;X.push(d,H),k&&k.push(c,t.index,fe,-(fe+1))}let Jt=(t,r,i)=>{};function hn(t,r,i,a){const c=je(),d=ln(),f=Sn();return ve(d,c,c[sn],f,t,r,a),hn}function ve(t,r,i,a,c,d,f){const m=cu(a),A=t.firstCreatePass?Nc(t):null,S=Sh(r);let k=!0;if(3&a.type||f){const X=be(a,r),H=f?f(X):X,fe=S.length,$e=f?gt=>f(F(gt[a.index])):a.index;let pt=null;if(!f&&m&&(pt=function En(t,r,i,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const f=c[d];if(f===i&&c[d+1]===a){const m=r[Ws],v=c[d+2];return m.length>v?m[v]:null}"string"==typeof f&&(d+=2)}return null}(t,r,c,a.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=d,pt.__ngLastListenerFn__=d,k=!1;else{d=we(a,r,d),Jt(H,c,d);const gt=i.listen(H,c,d);S.push(d,gt),A&&A.push(c,$e,fe,fe+1)}}else d=we(a,r,d);if(k){const X=a.outputs?.[c],H=a.hostDirectiveOutputs?.[c];if(H&&H.length)for(let fe=0;fe<H.length;fe+=2)ut(a,r,H[fe],H[fe+1],c,d);if(X&&X.length)for(const fe of X)ut(a,r,fe,c,c,d)}}function re(t=1){return function Tb(t){return(fn.lFrame.contextLView=function Pc(t,r){for(;t>0;)r=r[ga],t--;return r}(t,fn.lFrame.contextLView))[Wn]}(t)}function de(t,r,i){return Os(t,"",r,"",i),de}function Os(t,r,i,a,c){const d=je(),f=oa(d,r,i,a);return f!==xt&&no(ln(),yr(),d,t,f,d[sn],c,!1),Os}function Ki(t,r,i,a){oI(t,r,i,a)}function ah(t){const r=je(),i=ln(),a=Oy();mg(a+1);const c=o_(i,a);if(t.dirty&&function Po(t){return!(4&~t[Yt])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const d=aI(r,a);t.reset(d,Sw),t.notifyOnChanges()}return!0}return!1}function AC(){return function iI(t,r){return t[ms].queries[r].queryList}(je(),Oy())}function Lp(t){return Zn(function pb(){return fn.lFrame.contextLView}(),Vt+t)}function ST(t,r=""){const i=je(),a=ln(),c=t+Vt,d=a.firstCreatePass?ol(a,c,1,r,null):a.data[c],f=RT(a,i,d,r,t);i[c]=f,vg()&&tl(a,i,f,d),Mo(d,!1)}let RT=(t,r,i,a,c)=>(Es(!0),function Pu(t,r){return t.createText(r)}(r[sn],a));function q_(t){return Up("",t,""),q_}function Up(t,r,i){const a=je(),c=oa(a,t,r,i);return c!==xt&&Ls(a,Ji(),c),Up}function Bp(t,r,i,a,c){const d=je(),f=function th(t,r,i,a,c,d){const m=Qu(t,vs(),i,c);return _u(2),m?r+ie(i)+a+ie(c)+d:xt}(d,t,r,i,a,c);return f!==xt&&Ls(d,Ji(),f),Bp}function PT(t,r,i,a,c,d,f){const m=je(),v=Ns(m,t,r,i,a,c,d,f);return v!==xt&&Ls(m,Ji(),v),PT}function Ls(t,r,i){const a=ye(r,t);!function Em(t,r,i){t.setValue(r,i)}(t[sn],a,i)}function Ka(t,r,i){nv(r)&&(r=r());const a=je();return Br(a,wo(),r)&&no(ln(),yr(),a,t,r,a[sn],i,!1),Ka}function kT(t,r){const i=nv(t);return i&&t.set(r),i}function lh(t,r){const i=je(),a=ln(),c=Sn();return ve(a,i,i[sn],c,t,r),lh}function Sl(t,r,i,a,c){if(t=ce(t),Array.isArray(t))for(let d=0;d<t.length;d++)Sl(t[d],r,i,a,c);else{const d=ln(),f=je(),m=Sn();let v=js(t)?t:ce(t.provide);const A=rg(t),S=1048575&m.providerIndexes,k=m.directiveStart,X=m.providerIndexes>>20;if(js(t)||!t.multi){const H=new wg(A,c,gl),fe=sc(v,r,c?S:S+X,k);-1===fe?(By(Vh(m,f),d,v),OT(d,t,r.length),r.push(v),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),i.push(H),f.push(H)):(i[fe]=H,f[fe]=H)}else{const H=sc(v,r,S+X,k),fe=sc(v,r,S,S+X),pt=fe>=0&&i[fe];if(c&&!pt||!c&&!(H>=0&&i[H])){By(Vh(m,f),d,v);const gt=function OC(t,r,i,a,c){const d=new wg(t,i,gl);return d.multi=[],d.index=r,d.componentProviders=0,xC(d,c,a&&!i),d}(c?oM:iM,i.length,c,a,A);!c&&pt&&(i[fe].providerFactory=gt),OT(d,t,r.length,0),r.push(v),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),i.push(gt),f.push(gt)}else OT(d,t,H>-1?H:fe,xC(i[c?fe:H],A,!c&&a));!c&&a&&pt&&i[fe].componentProviders++}}}function OT(t,r,i,a){const c=js(r),d=function iu(t){return!!t.useClass}(r);if(c||d){const v=(d?ce(r.useClass):r).prototype.ngOnDestroy;if(v){const A=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const S=A.indexOf(i);-1===S?A.push(i,[a,v]):A[S+1].push(a,v)}else A.push(i,v)}}}function xC(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function sc(t,r,i,a){for(let c=i;c<a;c++)if(r[c]===t)return c;return-1}function iM(t,r,i,a){return hh(this.multi,[])}function oM(t,r,i,a){const c=this.multi;let d;if(this.providerFactory){const f=this.providerFactory.componentProviders,m=Mg(i,i[ct],this.providerFactory.index,a);d=m.slice(0,f),hh(c,d);for(let v=f;v<m.length;v++)d.push(m[v])}else d=[],hh(c,d);return d}function hh(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function X_(t,r=[]){return i=>{i.providersResolver=(a,c)=>function jp(t,r,i){const a=ln();if(a.firstCreatePass){const c=Bi(t);Sl(i,a.data,a.blueprint,c,!0),Sl(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}function J_(t,r,i){const a=lo()+t,c=je();return c[a]===xt?rs(c,a,i?r.call(i):r()):function cp(t,r){return t[r]}(c,a)}function LT(t,r,i,a){return UT(je(),lo(),t,r,i,a)}function UT(t,r,i,a,c,d){const f=r+i;return Br(t,f,c)?rs(t,f+1,d?a.call(d,c):a(c)):function zp(t,r){const i=t[r];return i===xt?void 0:i}(t,f+1)}function $T(t,r){const i=ln();let a;const c=t+Vt;i.firstCreatePass?(a=function UC(t,r){if(r)for(let i=r.length-1;i>=0;i--){const a=r[i];if(t===a.name)return a}}(r,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks??=[]).push(c,a.onDestroy)):a=i.data[c];const d=a.factory||(a.factory=zo(a.type)),m=sr(gl);try{const v=Uy(!1),A=d();return Uy(v),function uh(t,r,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),r[i]=a}(i,je(),c,A),A}finally{sr(m)}}function HT(t,r,i){const a=t+Vt,c=je(),d=Zn(c,a);return function uc(t,r){return t[ct].data[r].pure}(c,a)?UT(c,lo(),r,d.transform,i,d):d.transform(i)}function Wp(t,r){return Ou(t,r)}class Ao{full;major;minor;patch;constructor(r){this.full=r;const i=r.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const YC=new Ao("19.2.7");class JC{ngModuleFactory;componentFactories;constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let _h=(()=>{class t{compileModuleSync(i){return new Wu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),d=Jo(Vi(i).declarations).reduce((f,m)=>{const v=bn(m);return v&&f.push(new Fd(v)),f},[]);return new JC(a,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Se=(()=>{class t{zone=Dt(vr);changeDetectionScheduler=Dt(Is);applicationRef=Dt(is);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function It({ngZoneFactory:t,ignoreChangesOutsideZone:r,scheduleInRootZone:i}){return t??=()=>new vr({...Di(),scheduleInRootZone:i}),[{provide:vr,useFactory:t},{provide:Ri,multi:!0,useFactory:()=>{const a=Dt(Se,{optional:!0});return()=>a.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{const a=Dt(Yn);return()=>{a.initialize()}}},!0===r?{provide:Bb,useValue:!0}:[],{provide:Bh,useValue:i??xg}]}function Di(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Yn=(()=>{class t{subscription=new li.yU;initialized=!1;zone=Dt(vr);pendingTasks=Dt(Ks);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vr.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vr.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fc=(()=>{class t{appRef=Dt(is);taskService=Dt(Ks);ngZone=Dt(vr);zonelessEnabled=Dt(Og);tracing=Dt(Qh,{optional:!0});disableScheduling=Dt(Bb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new li.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Dt(Bh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jy||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let a=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,a=!0;break;case 12:this.appRef.dirtyFlags|=16,a=!0;break;case 11:a=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(a))return;const c=this.useMicrotaskScheduler?Fg:Lg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(i),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(a){return new(a||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const AM=new St("",{providedIn:"root",factory:()=>Dt(AM,nn.Optional|nn.SkipSelf)||function Mx(){return typeof $localize<"u"&&$localize.locale||yT}()}),Nx=new St("",{providedIn:"root",factory:()=>"USD"}),tb=new St(""),Fx=new St("");function ew(t){return!t.moduleRef}let yh=null;function Hx(){return!1}let Bk=(()=>class t{static __NG_ELEMENT_ID__=zx})();function zx(t){return function Wx(t,r,i){if(Io(t)&&!i){const a=tr(t.index,r);return new na(a,a)}return 175&t.type?new na(r[ur],r):null}(Sn(),je(),!(16&~t))}class zk{constructor(){}supports(r){return jd(r)}create(r){return new Xx(r)}}const Qx=(t,r)=>r;class Xx{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(r){this._trackByFn=r||Qx}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,a=this._removalsHead,c=0,d=null;for(;i||a;){const f=!a||i&&i.currentIndex<Gk(a,c,d)?i:a,m=Gk(f,c,d),v=f.currentIndex;if(f===a)c--,a=a._nextRemoved;else if(i=i._next,null==f.previousIndex)c++;else{d||(d=[]);const A=m-c,S=v-c;if(A!=S){for(let X=0;X<A;X++){const H=X<d.length?d[X]:d[X]=0,fe=H+X;S<=fe&&fe<A&&(d[X]=H+1)}d[f.previousIndex]=S-A}}m!==v&&r(f,m,v)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!jd(r))throw new mt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,f,i=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let m=0;m<this.length;m++)d=r[m],f=this._trackByFn(m,d),null!==i&&Object.is(i.trackById,f)?(a&&(i=this._verifyReinsertion(i,d,f,m)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,f,m),a=!0),i=i._next}else c=0,function vR(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)r(a.value)}}(r,m=>{f=this._trackByFn(c,m),null!==i&&Object.is(i.trackById,f)?(a&&(i=this._verifyReinsertion(i,m,f,c)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,f,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,d,c)):r=this._addAfter(new Zx(i,a),d,c),r}_verifyReinsertion(r,i,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,i,a),this._addToMoves(r,a),r}_moveAfter(r,i,a){return this._unlink(r),this._insertAfter(r,i,a),this._addToMoves(r,a),r}_addAfter(r,i,a){return this._insertAfter(r,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,a){const c=null===i?this._itHead:i._next;return r._next=c,r._prev=i,null===c?this._itTail=r:c._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new Wk),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,a=r._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wk),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Zx{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(r,i){this.item=r,this.trackById=i}}class Yx{_head=null;_tail=null;add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const i=r._prevDup,a=r._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Wk{map=new Map;put(r){const i=r.trackById;let a=this.map.get(i);a||(a=new Yx,this.map.set(i,a)),a.add(r)}get(r,i){const c=this.map.get(r);return c?c.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gk(t,r,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+r+c}class qk{constructor(){}supports(r){return r instanceof Map||up(r)}create(){return new Jx}}class Jx{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||up(r)))throw new mt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const a=r._prev;return i._next=r,i._prev=a,r._prev=i,a&&(a._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,i);const d=c._prev,f=c._next;return d&&(d._next=f),f&&(f._prev=d),c._next=null,c._prev=null,c}const a=new eO(r);return this._records.set(r,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(a=>i(r[a],a))}}class eO{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(r){this.key=r}}function Kk(){return new PM([new zk])}let PM=(()=>{class t{factories;static \u0275prov=pe({token:t,providedIn:"root",factory:Kk});constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Kk()),deps:[[t,new Us,new ds]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new mt(901,!1)}}return t})();function Qk(){return new MM([new qk])}let MM=(()=>{class t{static \u0275prov=pe({token:t,providedIn:"root",factory:Qk});factories;constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Qk()),deps:[[t,new Us,new ds]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new mt(901,!1)}}return t})();function rO(t){y(8);try{const{rootComponent:r,appProviders:i,platformProviders:a}=t,c=function $x(t=[]){if(yh)return yh;const r=function Fk(t=[],r){return Ii.create({name:r,providers:[{provide:Vl,useValue:"platform"},{provide:tb,useValue:new Set([()=>yh=null])},...t]})}(t);return yh=r,function GI(){!function tn(t){qn=t}(()=>{throw new mt(600,!1)})}(),function Vk(t){const r=t.get(Kw,null);ha(t,()=>{r?.forEach(i=>i())})}(r),r}(a),d=[It({}),{provide:Is,useExisting:fc},...i||[]];return function xk(t){const r=ew(t)?t.r3Injector:t.moduleRef.injector,i=r.get(vr);return i.run(()=>{ew(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const a=r.get(Qo,null);let c;if(i.runOutsideAngular(()=>{c=i.onError.subscribe({next:d=>{a.handleError(d)}})}),ew(t)){const d=()=>r.destroy(),f=t.platformInjector.get(tb);f.add(d),r.onDestroy(()=>{c.unsubscribe(),f.delete(d)})}else{const d=()=>t.moduleRef.destroy(),f=t.platformInjector.get(tb);f.add(d),t.moduleRef.onDestroy(()=>{KI(t.allPlatformModules,t.moduleRef),c.unsubscribe(),f.delete(d)})}return function Ux(t,r,i){try{const a=i();return wi(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(a,i,()=>{const d=r.get(GR);return d.runInitializers(),d.donePromise.then(()=>{if(function sk(t){"string"==typeof t&&(FP=t.toLowerCase().replace(/_/g,"-"))}(r.get(AM,yT)||yT),!r.get(Fx,!0))return ew(t)?r.get(is):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ew(t)){const v=r.get(is);return void 0!==t.rootComponent&&v.bootstrap(t.rootComponent),v}return function Vx(t,r){const i=t.injector.get(is);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!t.instance.ngDoBootstrap)throw new mt(-403,!1);t.instance.ngDoBootstrap(i)}r.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new d_({providers:d,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:c,rootComponent:r})}catch(r){return Promise.reject(r)}finally{y(9)}}function AO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Za(t){return function Tn(t){const r=le(null);try{return t()}finally{le(r)}}(t)}function nw(t,r){return function Nt(t,r){const i=Object.create(Zt);i.computation=t,void 0!==r&&(i.equal=r);const a=()=>{if(He(i),xe(i),i.value===dn)throw i.error;return i.value};return a[Me]=i,a}(t,r?.equal)}class PO{[Me];constructor(r){this[Me]=r}destroy(){this[Me].destroy()}}function kM(t,r){!r?.injector&&co();const i=r?.injector??Dt(Ii);let c,a=!0!==r?.manualCleanup?i.get(Ta):null;const d=i.get(vv,null,{optional:!0}),f=i.get(Is);return null===d||r?.forceRoot?c=function xO(t,r,i){const a=Object.create(MO);return a.fn=t,a.scheduler=r,a.notifier=i,a.zone=typeof Zone<"u"?Zone.current:null,a.scheduler.schedule(a),a.notifier.notify(12),a}(t,i.get(vl),f):(c=function kO(t,r,i){const a=Object.create(NO);return a.view=t,a.zone=typeof Zone<"u"?Zone.current:null,a.notifier=r,a.fn=i,t[_s]??=new Set,t[_s].add(a),a.consumerMarkedDirty(a),a}(d.view,f,t),a instanceof Ub&&a._lView===d.view&&(a=null)),c.injector=i,null!==a&&(c.onDestroyFn=a.onDestroy(()=>c.destroy())),new PO(c)}const cx={...oe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:$h,run(){if(this.dirty=!1,this.hasRun&&!at(this))return;this.hasRun=!0;const t=a=>(this.cleanupFns??=[]).push(a),r=Ht(this),i=Gl(!1);try{this.maybeCleanup(),this.fn(t)}finally{Gl(i),rn(this,r)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},MO={...cx,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ie(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},NO={...cx,consumerMarkedDirty(){this.view[Yt]|=8192,gu(this.view),this.notifier.notify(13)},destroy(){Ie(this),this.onDestroyFn(),this.maybeCleanup(),this.view[_s]?.delete(this)}};var Qr=function(t){return t[t.Idle=0]="Idle",t[t.Error=1]="Error",t[t.Loading=2]="Loading",t[t.Reloading=3]="Reloading",t[t.Resolved=4]="Resolved",t[t.Local=5]="Local",t}(Qr||{});const OO=t=>t;function xM(t,r){return lx("function"==typeof t?An(t,OO,r?.equal):An(t.source,t.computation,t.equal))}function lx(t){const r=t[Me],i=t;return i.set=a=>function Tt(t,r){He(t),Oe(t,r),Et(t)}(r,a),i.update=a=>function an(t,r){He(t),Je(t,r),Et(t)}(r,a),i.asReadonly=$g.bind(t),i}class FO{value;constructor(r){this.value=r,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=$g}update(r){this.set(r(Za(this.value)))}isLoading=nw(()=>this.status()===Qr.Loading||this.status()===Qr.Reloading);hasValue(){return void 0!==this.value()}asReadonly(){return this}}class dx extends FO{loaderFn;defaultValue;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;constructor(r,i,a,c,d){super(nw(()=>{const f=this.state().stream?.();return f&&OM(f)?f.value:this.defaultValue},{equal:c})),this.loaderFn=i,this.defaultValue=a,this.equal=c,this.extRequest=xM({source:r,computation:f=>({request:f,reload:0})}),this.state=xM({source:this.extRequest,computation:(f,m)=>{const v=void 0===f.request?Qr.Idle:Qr.Loading;return m?{extRequest:f,status:v,previousStatus:hx(m.value),stream:m.value.extRequest.request===f.request?m.value.stream:void 0}:{extRequest:f,status:v,previousStatus:Qr.Idle,stream:void 0}}}),this.effectRef=kM(this.loadEffect.bind(this),{injector:d,manualCleanup:!0}),this.pendingTasks=d.get(Iw),d.get(Ta).onDestroy(()=>this.destroy())}status=nw(()=>hx(this.state()));error=nw(()=>{const r=this.state().stream?.();return r&&!OM(r)?r.error:void 0});set(r){if(this.destroyed)return;const i=Za(this.value),a=Za(this.state);a.status===Qr.Local&&(this.equal?this.equal(i,r):i===r)||(this.state.set({extRequest:a.extRequest,status:Qr.Local,previousStatus:Qr.Local,stream:Xl({value:r})}),this.abortInProgressLoad())}reload(){const{status:r}=Za(this.state);return r!==Qr.Idle&&r!==Qr.Loading&&(this.extRequest.update(({request:i,reload:a})=>({request:i,reload:a+1})),!0)}destroy(){this.destroyed=!0,this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:Qr.Idle,previousStatus:Qr.Idle,stream:void 0})}loadEffect(){var r=this;return(0,N.A)(function*(){const i=r.extRequest(),{status:a,previousStatus:c}=Za(r.state);if(void 0===i.request)return;if(a!==Qr.Loading)return;r.abortInProgressLoad();let d=r.resolvePendingTask=r.pendingTasks.add();const{signal:f}=r.pendingController=new AbortController;try{const m=yield Za(()=>r.loaderFn({request:i.request,abortSignal:f,previous:{status:c}}));if(f.aborted||Za(r.extRequest)!==i)return;r.state.set({extRequest:i,status:Qr.Resolved,previousStatus:Qr.Resolved,stream:m})}catch(m){if(f.aborted||Za(r.extRequest)!==i)return;r.state.set({extRequest:i,status:Qr.Resolved,previousStatus:Qr.Error,stream:Xl({error:m})})}finally{d?.(),d=void 0}})()}abortInProgressLoad(){Za(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}}function hx(t){switch(t.status){case Qr.Loading:return 0===t.extRequest.reload?Qr.Loading:Qr.Reloading;case Qr.Resolved:return OM(Za(t.stream))?Qr.Resolved:Qr.Error;default:return t.status}}function OM(t){return void 0===t.error}function WO(t){const r=bn(t);if(!r)return null;const i=new Fd(r);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1362:($t,Qe,L)=>{L.d(Qe,{h1:()=>te,uA:()=>W});var N=L(467),U=L(6858);class W{constructor(ne,oe,xe){this.name=ne,this.instanceFactory=oe,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const G="[DEFAULT]";class O{constructor(ne,oe){this.name=ne,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const oe=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(oe)){const xe=new U.cY;if(this.instancesDeferred.set(oe,xe),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:oe});Le&&xe.resolve(Le)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ne){var oe;const xe=this.normalizeInstanceIdentifier(ne?.identifier),Le=null!==(oe=ne?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(He){if(Le)return null;throw He}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function le(Ne){return"EAGER"===Ne.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[oe,xe]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(oe);try{const He=this.getOrInitializeService({instanceIdentifier:Le});xe.resolve(He)}catch{}}}}clearInstance(ne=G){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,N.A)(function*(){const oe=Array.from(ne.instances.values());yield Promise.all([...oe.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...oe.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=G){return this.instances.has(ne)}getOptions(ne=G){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:oe={}}=ne,xe=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:xe,options:oe});for(const[He,rt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(He)&&rt.resolve(Le);return Le}onInit(ne,oe){var xe;const Le=this.normalizeInstanceIdentifier(oe),He=null!==(xe=this.onInitCallbacks.get(Le))&&void 0!==xe?xe:new Set;He.add(ne),this.onInitCallbacks.set(Le,He);const rt=this.instances.get(Le);return rt&&ne(rt,Le),()=>{He.delete(ne)}}invokeOnInitCallbacks(ne,oe){const xe=this.onInitCallbacks.get(oe);if(xe)for(const Le of xe)try{Le(ne,oe)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:oe={}}){let xe=this.instances.get(ne);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=ne,Ne===G?void 0:Ne),options:oe}),this.instances.set(ne,xe),this.instancesOptions.set(ne,oe),this.invokeOnInitCallbacks(xe,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,xe)}catch{}var Ne;return xe||null}normalizeInstanceIdentifier(ne=G){return this.component?this.component.multipleInstances?ne:G:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const oe=this.getProvider(ne.name);if(oe.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);oe.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const oe=new O(ne,this);return this.providers.set(ne,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1397:($t,Qe,L)=>{L.d(Qe,{Z:()=>te});var N=L(6354),U=L(8750),W=L(9974),G=L(5225),O=L(4360),le=L(8071);function te(Ne,ne,oe=1/0){return(0,le.T)(ne)?te((xe,Le)=>(0,N.T)((He,rt)=>ne(xe,He,Le,rt))((0,U.Tg)(Ne(xe,Le))),oe):("number"==typeof ne&&(oe=ne),(0,W.N)((xe,Le)=>function Me(Ne,ne,oe,xe,Le,He,rt,Rt){const Mt=[];let Et=0,Ht=0,rn=!1;const at=()=>{rn&&!Mt.length&&!Et&&ne.complete()},Ie=Fe=>Et<xe?Ke(Fe):Mt.push(Fe),Ke=Fe=>{He&&ne.next(Fe),Et++;let st=!1;(0,U.Tg)(oe(Fe,Ht++)).subscribe((0,O._)(ne,yt=>{Le?.(yt),He?Ie(yt):ne.next(yt)},()=>{st=!0},void 0,()=>{if(st)try{for(Et--;Mt.length&&Et<xe;){const yt=Mt.shift();rt?(0,G.N)(ne,rt,()=>Ke(yt)):Ke(yt)}at()}catch(yt){ne.error(yt)}}))};return Ne.subscribe((0,O._)(ne,Ie,()=>{rn=!0,at()})),()=>{Rt?.()}}(xe,Le,Ne,oe)))}},1413:($t,Qe,L)=>{L.d(Qe,{B:()=>le});var N=L(1985),U=L(8359);const G=(0,L(1853).L)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=L(7908),Me=L(9786);let le=(()=>{class Ne extends N.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const xe=new te(this,this);return xe.operator=oe,xe}_throwIfClosed(){if(this.closed)throw new G}next(oe){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(oe)}})}error(oe){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:xe}=this;for(;xe.length;)xe.shift().error(oe)}})}complete(){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:xe,isStopped:Le,observers:He}=this;return xe||Le?U.Kn:(this.currentObservers=null,He.push(oe),new U.yU(()=>{this.currentObservers=null,(0,O.o)(He,oe)}))}_checkFinalizedStatuses(oe){const{hasError:xe,thrownError:Le,isStopped:He}=this;xe?oe.error(Le):He&&oe.complete()}asObservable(){const oe=new N.c;return oe.source=this,oe}}return Ne.create=(ne,oe)=>new te(ne,oe),Ne})();class te extends le{constructor(ne,oe){super(),this.destination=ne,this.source=oe}next(ne){var oe,xe;null===(xe=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===xe||xe.call(oe,ne)}error(ne){var oe,xe;null===(xe=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===xe||xe.call(oe,ne)}complete(){var ne,oe;null===(oe=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===oe||oe.call(ne)}_subscribe(ne){var oe,xe;return null!==(xe=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ne))&&void 0!==xe?xe:U.Kn}}},1482:($t,Qe,L)=>{L.d(Qe,{Q:()=>Le,Sm:()=>Rt,Vw:()=>te,aZ:()=>Mt,hb:()=>He,hj:()=>Ne,ig:()=>Me,kB:()=>rt,om:()=>oe,qj:()=>le,rb:()=>O});var N=L(1360),U=L(1413),W=L(9361);let G=null;function O(){return G}function Me(Ie){G??=Ie}class le{}let te=(()=>{class Ie{historyGo(Fe){throw new Error("")}static \u0275fac=function(st){return new(st||Ie)};static \u0275prov=N.jDH({token:Ie,factory:()=>(0,N.WQX)(ne),providedIn:"platform"})}return Ie})();const Ne=new N.nKC("");let ne=(()=>{class Ie extends te{_location;_history;_doc=(0,N.WQX)(W.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(Fe){const st=O().getGlobalEventTarget(this._doc,"window");return st.addEventListener("popstate",Fe,!1),()=>st.removeEventListener("popstate",Fe)}onHashChange(Fe){const st=O().getGlobalEventTarget(this._doc,"window");return st.addEventListener("hashchange",Fe,!1),()=>st.removeEventListener("hashchange",Fe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Fe){this._location.pathname=Fe}pushState(Fe,st,yt){this._history.pushState(Fe,st,yt)}replaceState(Fe,st,yt){this._history.replaceState(Fe,st,yt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Fe=0){this._history.go(Fe)}getState(){return this._history.state}static \u0275fac=function(st){return new(st||Ie)};static \u0275prov=N.jDH({token:Ie,factory:()=>new Ie,providedIn:"platform"})}return Ie})();function oe(Ie,Ke){return Ie?Ke?Ie.endsWith("/")?Ke.startsWith("/")?Ie+Ke.slice(1):Ie+Ke:Ke.startsWith("/")?Ie+Ke:`${Ie}/${Ke}`:Ie:Ke}function xe(Ie){const Ke=Ie.search(/#|\?|$/);return"/"===Ie[Ke-1]?Ie.slice(0,Ke-1)+Ie.slice(Ke):Ie}function Le(Ie){return Ie&&"?"!==Ie[0]?`?${Ie}`:Ie}let He=(()=>{class Ie{historyGo(Fe){throw new Error("")}static \u0275fac=function(st){return new(st||Ie)};static \u0275prov=N.jDH({token:Ie,factory:()=>(0,N.WQX)(Rt),providedIn:"root"})}return Ie})();const rt=new N.nKC("");let Rt=(()=>{class Ie extends He{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Fe,st){super(),this._platformLocation=Fe,this._baseHref=st??this._platformLocation.getBaseHrefFromDOM()??(0,N.WQX)(W.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Fe){this._removeListenerFns.push(this._platformLocation.onPopState(Fe),this._platformLocation.onHashChange(Fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Fe){return oe(this._baseHref,Fe)}path(Fe=!1){const st=this._platformLocation.pathname+Le(this._platformLocation.search),yt=this._platformLocation.hash;return yt&&Fe?`${st}${yt}`:st}pushState(Fe,st,yt,Dn){const Fn=this.prepareExternalUrl(yt+Le(Dn));this._platformLocation.pushState(Fe,st,Fn)}replaceState(Fe,st,yt,Dn){const Fn=this.prepareExternalUrl(yt+Le(Dn));this._platformLocation.replaceState(Fe,st,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Fe=0){this._platformLocation.historyGo?.(Fe)}static \u0275fac=function(st){return new(st||Ie)(N.KVO(te),N.KVO(rt,8))};static \u0275prov=N.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),Mt=(()=>{class Ie{_subject=new U.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Fe){this._locationStrategy=Fe;const st=this._locationStrategy.getBaseHref();this._basePath=function at(Ie){if(new RegExp("^(https?:)?//").test(Ie)){const[,Fe]=Ie.split(/\/\/[^\/]+/);return Fe}return Ie}(xe(rn(st))),this._locationStrategy.onPopState(yt=>{this._subject.next({url:this.path(!0),pop:!0,state:yt.state,type:yt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Fe=!1){return this.normalize(this._locationStrategy.path(Fe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Fe,st=""){return this.path()==this.normalize(Fe+Le(st))}normalize(Fe){return Ie.stripTrailingSlash(function Ht(Ie,Ke){if(!Ie||!Ke.startsWith(Ie))return Ke;const Fe=Ke.substring(Ie.length);return""===Fe||["/",";","?","#"].includes(Fe[0])?Fe:Ke}(this._basePath,rn(Fe)))}prepareExternalUrl(Fe){return Fe&&"/"!==Fe[0]&&(Fe="/"+Fe),this._locationStrategy.prepareExternalUrl(Fe)}go(Fe,st="",yt=null){this._locationStrategy.pushState(yt,"",Fe,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Fe+Le(st)),yt)}replaceState(Fe,st="",yt=null){this._locationStrategy.replaceState(yt,"",Fe,st),this._notifyUrlChangeListeners(this.prepareExternalUrl(Fe+Le(st)),yt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Fe=0){this._locationStrategy.historyGo?.(Fe)}onUrlChange(Fe){return this._urlChangeListeners.push(Fe),this._urlChangeSubscription??=this.subscribe(st=>{this._notifyUrlChangeListeners(st.url,st.state)}),()=>{const st=this._urlChangeListeners.indexOf(Fe);this._urlChangeListeners.splice(st,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Fe="",st){this._urlChangeListeners.forEach(yt=>yt(Fe,st))}subscribe(Fe,st,yt){return this._subject.subscribe({next:Fe,error:st??void 0,complete:yt??void 0})}static normalizeQueryParams=Le;static joinWithSlash=oe;static stripTrailingSlash=xe;static \u0275fac=function(st){return new(st||Ie)(N.KVO(He))};static \u0275prov=N.jDH({token:Ie,factory:()=>function Et(){return new Mt((0,N.KVO)(He))}(),providedIn:"root"})}return Ie})();function rn(Ie){return Ie.replace(/\/index.html$/,"")}},1635:($t,Qe,L)=>{function G(Ee,Pe){var Ve={};for(var Oe in Ee)Object.prototype.hasOwnProperty.call(Ee,Oe)&&Pe.indexOf(Oe)<0&&(Ve[Oe]=Ee[Oe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Oe=Object.getOwnPropertySymbols(Ee);Je<Oe.length;Je++)Pe.indexOf(Oe[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Oe[Je])&&(Ve[Oe[Je]]=Ee[Oe[Je]])}return Ve}function xe(Ee,Pe,Ve,Oe){return new(Ve||(Ve=Promise))(function(it,kt){function Ct(an){try{Tt(Oe.next(an))}catch(Wt){kt(Wt)}}function An(an){try{Tt(Oe.throw(an))}catch(Wt){kt(Wt)}}function Tt(an){an.done?it(an.value):function Je(it){return it instanceof Ve?it:new Ve(function(kt){kt(it)})}(an.value).then(Ct,An)}Tt((Oe=Oe.apply(Ee,Pe||[])).next())})}function at(Ee){return this instanceof at?(this.v=Ee,this):new at(Ee)}function Ie(Ee,Pe,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Oe=Ve.apply(Ee,Pe||[]),it=[];return Je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ct("next"),Ct("throw"),Ct("return",function kt(Tn){return function(Kn){return Promise.resolve(Kn).then(Tn,Wt)}}),Je[Symbol.asyncIterator]=function(){return this},Je;function Ct(Tn,Kn){Oe[Tn]&&(Je[Tn]=function(kn){return new Promise(function(Jn,Er){it.push([Tn,kn,Jn,Er])>1||An(Tn,kn)})},Kn&&(Je[Tn]=Kn(Je[Tn])))}function An(Tn,Kn){try{!function Tt(Tn){Tn.value instanceof at?Promise.resolve(Tn.value.v).then(an,Wt):br(it[0][2],Tn)}(Oe[Tn](Kn))}catch(kn){br(it[0][3],kn)}}function an(Tn){An("next",Tn)}function Wt(Tn){An("throw",Tn)}function br(Tn,Kn){Tn(Kn),it.shift(),it.length&&An(it[0][0],it[0][1])}}function Fe(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Pe=Ee[Symbol.asyncIterator];return Pe?Pe.call(Ee):(Ee=function Rt(Ee){var Pe="function"==typeof Symbol&&Symbol.iterator,Ve=Pe&&Ee[Pe],Oe=0;if(Ve)return Ve.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Oe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Oe++],done:!Ee}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Ve={},Oe("next"),Oe("throw"),Oe("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Oe(it){Ve[it]=Ee[it]&&function(kt){return new Promise(function(Ct,An){!function Je(it,kt,Ct,An){Promise.resolve(An).then(function(Tt){it({value:Tt,done:Ct})},kt)}(Ct,An,(kt=Ee[it](kt)).done,kt.value)})}}}L.d(Qe,{AQ:()=>Ie,N3:()=>at,Tt:()=>G,sH:()=>xe,xN:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError},1853:($t,Qe,L)=>{function N(U){const G=U(O=>{Error.call(O),O.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}L.d(Qe,{L:()=>N})},1985:($t,Qe,L)=>{L.d(Qe,{c:()=>te});var N=L(7707),U=L(8359),W=L(3494),G=L(1203),O=L(1026),Me=L(8071),le=L(9786);let te=(()=>{class xe{constructor(He){He&&(this._subscribe=He)}lift(He){const rt=new xe;return rt.source=this,rt.operator=He,rt}subscribe(He,rt,Rt){const Mt=function oe(xe){return xe&&xe instanceof N.vU||function ne(xe){return xe&&(0,Me.T)(xe.next)&&(0,Me.T)(xe.error)&&(0,Me.T)(xe.complete)}(xe)&&(0,U.Uv)(xe)}(He)?He:new N.Ms(He,rt,Rt);return(0,le.Y)(()=>{const{operator:Et,source:Ht}=this;Mt.add(Et?Et.call(Mt,Ht):Ht?this._subscribe(Mt):this._trySubscribe(Mt))}),Mt}_trySubscribe(He){try{return this._subscribe(He)}catch(rt){He.error(rt)}}forEach(He,rt){return new(rt=Ne(rt))((Rt,Mt)=>{const Et=new N.Ms({next:Ht=>{try{He(Ht)}catch(rn){Mt(rn),Et.unsubscribe()}},error:Mt,complete:Rt});this.subscribe(Et)})}_subscribe(He){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(He)}[W.s](){return this}pipe(...He){return(0,G.m)(He)(this)}toPromise(He){return new(He=Ne(He))((rt,Rt)=>{let Mt;this.subscribe(Et=>Mt=Et,Et=>Rt(Et),()=>rt(Mt))})}}return xe.create=Le=>new xe(Le),xe})();function Ne(xe){var Le;return null!==(Le=xe??O.$.Promise)&&void 0!==Le?Le:Promise}},2214:($t,Qe,L)=>{L.d(Qe,{Dk:()=>N.Dk,KO:()=>N.KO,Sx:()=>N.Sx,Wp:()=>N.Wp});var N=L(7852);(0,N.KO)("firebase","11.6.0","app")},3073:($t,Qe,L)=>{L.d(Qe,{D:()=>O});const{isArray:N}=Array,{getPrototypeOf:U,prototype:W,keys:G}=Object;function O(le){if(1===le.length){const te=le[0];if(N(te))return{args:te,keys:null};if(function Me(le){return le&&"object"==typeof le&&U(le)===W}(te)){const Ne=G(te);return{args:Ne.map(ne=>te[ne]),keys:Ne}}}return{args:le,keys:null}}},3165:($t,Qe,L)=>{L.d(Qe,{$R:()=>jt,Kd:()=>tn,Lr:()=>rt,Nl:()=>Ke,Qq:()=>Tt,hv:()=>Ee,yz:()=>Je}),L(467);var U=L(1360),W=L(274),G=L(5964),O=L(6354),Me=L(980),le=L(5558),te=L(7673),Ne=L(1985),ne=L(8455),oe=L(9377),xe=L(9361);class Le{}class He{}class rt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Q){Q?"string"==typeof Q?this.lazyInit=()=>{this.headers=new Map,Q.split("\n").forEach(ue=>{const We=ue.indexOf(":");if(We>0){const nt=ue.slice(0,We),q=ue.slice(We+1).trim();this.addHeaderEntry(nt,q)}})}:typeof Headers<"u"&&Q instanceof Headers?(this.headers=new Map,Q.forEach((ue,We)=>{this.addHeaderEntry(We,ue)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Q).forEach(([ue,We])=>{this.setHeaderEntries(ue,We)})}:this.headers=new Map}has(Q){return this.init(),this.headers.has(Q.toLowerCase())}get(Q){this.init();const ue=this.headers.get(Q.toLowerCase());return ue&&ue.length>0?ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Q){return this.init(),this.headers.get(Q.toLowerCase())||null}append(Q,ue){return this.clone({name:Q,value:ue,op:"a"})}set(Q,ue){return this.clone({name:Q,value:ue,op:"s"})}delete(Q,ue){return this.clone({name:Q,value:ue,op:"d"})}maybeSetNormalizedName(Q,ue){this.normalizedNames.has(ue)||this.normalizedNames.set(ue,Q)}init(){this.lazyInit&&(this.lazyInit instanceof rt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Q=>this.applyUpdate(Q)),this.lazyUpdate=null))}copyFrom(Q){Q.init(),Array.from(Q.headers.keys()).forEach(ue=>{this.headers.set(ue,Q.headers.get(ue)),this.normalizedNames.set(ue,Q.normalizedNames.get(ue))})}clone(Q){const ue=new rt;return ue.lazyInit=this.lazyInit&&this.lazyInit instanceof rt?this.lazyInit:this,ue.lazyUpdate=(this.lazyUpdate||[]).concat([Q]),ue}applyUpdate(Q){const ue=Q.name.toLowerCase();switch(Q.op){case"a":case"s":let We=Q.value;if("string"==typeof We&&(We=[We]),0===We.length)return;this.maybeSetNormalizedName(Q.name,ue);const nt=("a"===Q.op?this.headers.get(ue):void 0)||[];nt.push(...We),this.headers.set(ue,nt);break;case"d":const q=Q.value;if(q){let J=this.headers.get(ue);if(!J)return;J=J.filter(pe=>-1===q.indexOf(pe)),0===J.length?(this.headers.delete(ue),this.normalizedNames.delete(ue)):this.headers.set(ue,J)}else this.headers.delete(ue),this.normalizedNames.delete(ue)}}addHeaderEntry(Q,ue){const We=Q.toLowerCase();this.maybeSetNormalizedName(Q,We),this.headers.has(We)?this.headers.get(We).push(ue):this.headers.set(We,[ue])}setHeaderEntries(Q,ue){const We=(Array.isArray(ue)?ue:[ue]).map(q=>q.toString()),nt=Q.toLowerCase();this.headers.set(nt,We),this.maybeSetNormalizedName(Q,nt)}forEach(Q){this.init(),Array.from(this.normalizedNames.keys()).forEach(ue=>Q(this.normalizedNames.get(ue),this.headers.get(ue)))}}class Mt{encodeKey(Q){return at(Q)}encodeValue(Q){return at(Q)}decodeKey(Q){return decodeURIComponent(Q)}decodeValue(Q){return decodeURIComponent(Q)}}const Ht=/%(\d[a-f0-9])/gi,rn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function at($){return encodeURIComponent($).replace(Ht,(Q,ue)=>rn[ue]??Q)}function Ie($){return`${$}`}class Ke{map;encoder;updates=null;cloneFrom=null;constructor(Q={}){if(this.encoder=Q.encoder||new Mt,Q.fromString){if(Q.fromObject)throw new U.wOt(2805,!1);this.map=function Et($,Q){const ue=new Map;return $.length>0&&$.replace(/^\?/,"").split("&").forEach(nt=>{const q=nt.indexOf("="),[J,pe]=-1==q?[Q.decodeKey(nt),""]:[Q.decodeKey(nt.slice(0,q)),Q.decodeValue(nt.slice(q+1))],Xe=ue.get(J)||[];Xe.push(pe),ue.set(J,Xe)}),ue}(Q.fromString,this.encoder)}else Q.fromObject?(this.map=new Map,Object.keys(Q.fromObject).forEach(ue=>{const We=Q.fromObject[ue],nt=Array.isArray(We)?We.map(Ie):[Ie(We)];this.map.set(ue,nt)})):this.map=null}has(Q){return this.init(),this.map.has(Q)}get(Q){this.init();const ue=this.map.get(Q);return ue?ue[0]:null}getAll(Q){return this.init(),this.map.get(Q)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Q,ue){return this.clone({param:Q,value:ue,op:"a"})}appendAll(Q){const ue=[];return Object.keys(Q).forEach(We=>{const nt=Q[We];Array.isArray(nt)?nt.forEach(q=>{ue.push({param:We,value:q,op:"a"})}):ue.push({param:We,value:nt,op:"a"})}),this.clone(ue)}set(Q,ue){return this.clone({param:Q,value:ue,op:"s"})}delete(Q,ue){return this.clone({param:Q,value:ue,op:"d"})}toString(){return this.init(),this.keys().map(Q=>{const ue=this.encoder.encodeKey(Q);return this.map.get(Q).map(We=>ue+"="+this.encoder.encodeValue(We)).join("&")}).filter(Q=>""!==Q).join("&")}clone(Q){const ue=new Ke({encoder:this.encoder});return ue.cloneFrom=this.cloneFrom||this,ue.updates=(this.updates||[]).concat(Q),ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Q=>this.map.set(Q,this.cloneFrom.map.get(Q))),this.updates.forEach(Q=>{switch(Q.op){case"a":case"s":const ue=("a"===Q.op?this.map.get(Q.param):void 0)||[];ue.push(Ie(Q.value)),this.map.set(Q.param,ue);break;case"d":if(void 0===Q.value){this.map.delete(Q.param);break}{let We=this.map.get(Q.param)||[];const nt=We.indexOf(Ie(Q.value));-1!==nt&&We.splice(nt,1),We.length>0?this.map.set(Q.param,We):this.map.delete(Q.param)}}}),this.cloneFrom=this.updates=null)}}class st{map=new Map;set(Q,ue){return this.map.set(Q,ue),this}get(Q){return this.map.has(Q)||this.map.set(Q,Q.defaultValue()),this.map.get(Q)}delete(Q){return this.map.delete(Q),this}has(Q){return this.map.has(Q)}keys(){return this.map.keys()}}function Dn($){return typeof ArrayBuffer<"u"&&$ instanceof ArrayBuffer}function Fn($){return typeof Blob<"u"&&$ instanceof Blob}function Nt($){return typeof FormData<"u"&&$ instanceof FormData}const Qt="Content-Type",Zt="X-Request-URL",Vn="text/plain",qn="application/json",Xn=`${qn}, ${Vn}, */*`;class tn{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Q,ue,We,nt){let q;if(this.url=ue,this.method=Q.toUpperCase(),function yt($){switch($){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||nt?(this.body=void 0!==We?We:null,q=nt):q=We,q&&(this.reportProgress=!!q.reportProgress,this.withCredentials=!!q.withCredentials,q.responseType&&(this.responseType=q.responseType),q.headers&&(this.headers=q.headers),q.context&&(this.context=q.context),q.params&&(this.params=q.params),this.transferCache=q.transferCache),this.headers??=new rt,this.context??=new st,this.params){const J=this.params.toString();if(0===J.length)this.urlWithParams=ue;else{const pe=ue.indexOf("?");this.urlWithParams=ue+(-1===pe?"?":pe<ue.length-1?"&":"")+J}}else this.params=new Ke,this.urlWithParams=ue}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dn(this.body)||Fn(this.body)||Nt(this.body)||function qt($){return typeof URLSearchParams<"u"&&$ instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nt(this.body)?null:Fn(this.body)?this.body.type||null:Dn(this.body)?null:"string"==typeof this.body?Vn:this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?qn:null}clone(Q={}){const ue=Q.method||this.method,We=Q.url||this.url,nt=Q.responseType||this.responseType,q=Q.transferCache??this.transferCache,J=void 0!==Q.body?Q.body:this.body,pe=Q.withCredentials??this.withCredentials,Xe=Q.reportProgress??this.reportProgress;let wt=Q.headers||this.headers,Ft=Q.params||this.params;const Kt=Q.context??this.context;return void 0!==Q.setHeaders&&(wt=Object.keys(Q.setHeaders).reduce((pn,yn)=>pn.set(yn,Q.setHeaders[yn]),wt)),Q.setParams&&(Ft=Object.keys(Q.setParams).reduce((pn,yn)=>pn.set(yn,Q.setParams[yn]),Ft)),new tn(ue,We,J,{params:Ft,headers:wt,context:Kt,reportProgress:Xe,responseType:nt,withCredentials:pe,transferCache:q})}}var Ee=function($){return $[$.Sent=0]="Sent",$[$.UploadProgress=1]="UploadProgress",$[$.ResponseHeader=2]="ResponseHeader",$[$.DownloadProgress=3]="DownloadProgress",$[$.Response=4]="Response",$[$.User=5]="User",$}(Ee||{});class Pe{headers;status;statusText;url;ok;type;constructor(Q,ue=200,We="OK"){this.headers=Q.headers||new rt,this.status=void 0!==Q.status?Q.status:ue,this.statusText=Q.statusText||We,this.url=Q.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends Pe{constructor(Q={}){super(Q)}type=Ee.ResponseHeader;clone(Q={}){return new Ve({headers:Q.headers||this.headers,status:void 0!==Q.status?Q.status:this.status,statusText:Q.statusText||this.statusText,url:Q.url||this.url||void 0})}}class Oe extends Pe{body;constructor(Q={}){super(Q),this.body=void 0!==Q.body?Q.body:null}type=Ee.Response;clone(Q={}){return new Oe({body:void 0!==Q.body?Q.body:this.body,headers:Q.headers||this.headers,status:void 0!==Q.status?Q.status:this.status,statusText:Q.statusText||this.statusText,url:Q.url||this.url||void 0})}}class Je extends Pe{name="HttpErrorResponse";message;error;ok=!1;constructor(Q){super(Q,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Q.url||"(unknown url)"}`:`Http failure response for ${Q.url||"(unknown url)"}: ${Q.status} ${Q.statusText}`,this.error=Q.error||null}}function An($,Q){return{body:Q,headers:$.headers,context:$.context,observe:$.observe,params:$.params,reportProgress:$.reportProgress,responseType:$.responseType,withCredentials:$.withCredentials,transferCache:$.transferCache}}let Tt=(()=>{class ${handler;constructor(ue){this.handler=ue}request(ue,We,nt={}){let q;if(ue instanceof tn)q=ue;else{let Xe,wt;Xe=nt.headers instanceof rt?nt.headers:new rt(nt.headers),nt.params&&(wt=nt.params instanceof Ke?nt.params:new Ke({fromObject:nt.params})),q=new tn(ue,We,void 0!==nt.body?nt.body:null,{headers:Xe,context:nt.context,params:wt,reportProgress:nt.reportProgress,responseType:nt.responseType||"json",withCredentials:nt.withCredentials,transferCache:nt.transferCache})}const J=(0,te.of)(q).pipe((0,W.H)(Xe=>this.handler.handle(Xe)));if(ue instanceof tn||"events"===nt.observe)return J;const pe=J.pipe((0,G.p)(Xe=>Xe instanceof Oe));switch(nt.observe||"body"){case"body":switch(q.responseType){case"arraybuffer":return pe.pipe((0,O.T)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new U.wOt(2806,!1);return Xe.body}));case"blob":return pe.pipe((0,O.T)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new U.wOt(2807,!1);return Xe.body}));case"text":return pe.pipe((0,O.T)(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new U.wOt(2808,!1);return Xe.body}));default:return pe.pipe((0,O.T)(Xe=>Xe.body))}case"response":return pe;default:throw new U.wOt(2809,!1)}}delete(ue,We={}){return this.request("DELETE",ue,We)}get(ue,We={}){return this.request("GET",ue,We)}head(ue,We={}){return this.request("HEAD",ue,We)}jsonp(ue,We){return this.request("JSONP",ue,{params:(new Ke).append(We,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ue,We={}){return this.request("OPTIONS",ue,We)}patch(ue,We,nt={}){return this.request("PATCH",ue,An(nt,We))}post(ue,We,nt={}){return this.request("POST",ue,An(nt,We))}put(ue,We,nt={}){return this.request("PUT",ue,An(nt,We))}static \u0275fac=function(We){return new(We||$)(U.KVO(Le))};static \u0275prov=U.jDH({token:$,factory:$.\u0275fac})}return $})();const br=new U.nKC("");function Er($,Q){return Q($)}const kr=new U.nKC(""),li=new U.nKC(""),xr=new U.nKC("",{providedIn:"root",factory:()=>!0});let mt=(()=>{class $ extends Le{backend;injector;chain=null;pendingTasks=(0,U.WQX)(U.Ua0);contributeToStability=(0,U.WQX)(xr);constructor(ue,We){super(),this.backend=ue,this.injector=We}handle(ue){if(null===this.chain){const We=Array.from(new Set([...this.injector.get(kr),...this.injector.get(li,[])]));this.chain=We.reduceRight((nt,q)=>function Ai($,Q,ue){return(We,nt)=>(0,U.N4e)(ue,()=>Q(We,q=>$(q,nt)))}(nt,q,this.injector),Er)}if(this.contributeToStability){const We=this.pendingTasks.add();return this.chain(ue,nt=>this.backend.handle(nt)).pipe((0,Me.j)(()=>this.pendingTasks.remove(We)))}return this.chain(ue,We=>this.backend.handle(We))}static \u0275fac=function(We){return new(We||$)(U.KVO(He),U.KVO(U.uvJ))};static \u0275prov=U.jDH({token:$,factory:$.\u0275fac})}return $})();const et=/^\)\]\}',?\n/,_t=RegExp(`^${Zt}:`,"m");let on=(()=>{class ${xhrFactory;constructor(ue){this.xhrFactory=ue}handle(ue){if("JSONP"===ue.method)throw new U.wOt(-2800,!1);const We=this.xhrFactory;return(We.\u0275loadImpl?(0,ne.H)(We.\u0275loadImpl()):(0,te.of)(null)).pipe((0,le.n)(()=>new Ne.c(q=>{const J=We.build();if(J.open(ue.method,ue.urlWithParams),ue.withCredentials&&(J.withCredentials=!0),ue.headers.forEach((vn,Hn)=>J.setRequestHeader(vn,Hn.join(","))),ue.headers.has("Accept")||J.setRequestHeader("Accept",Xn),!ue.headers.has(Qt)){const vn=ue.detectContentTypeHeader();null!==vn&&J.setRequestHeader(Qt,vn)}if(ue.responseType){const vn=ue.responseType.toLowerCase();J.responseType="json"!==vn?vn:"text"}const pe=ue.serializeBody();let Xe=null;const wt=()=>{if(null!==Xe)return Xe;const vn=J.statusText||"OK",Hn=new rt(J.getAllResponseHeaders()),_i=function wn($){return"responseURL"in $&&$.responseURL?$.responseURL:_t.test($.getAllResponseHeaders())?$.getResponseHeader(Zt):null}(J)||ue.url;return Xe=new Ve({headers:Hn,status:J.status,statusText:vn,url:_i}),Xe},Ft=()=>{let{headers:vn,status:Hn,statusText:_i,url:Co}=wt(),St=null;204!==Hn&&(St=typeof J.response>"u"?J.responseText:J.response),0===Hn&&(Hn=St?200:0);let Si=Hn>=200&&Hn<300;if("json"===ue.responseType&&"string"==typeof St){const mo=St;St=St.replace(et,"");try{St=""!==St?JSON.parse(St):null}catch(oo){St=mo,Si&&(Si=!1,St={error:oo,text:St})}}Si?(q.next(new Oe({body:St,headers:vn,status:Hn,statusText:_i,url:Co||void 0})),q.complete()):q.error(new Je({error:St,headers:vn,status:Hn,statusText:_i,url:Co||void 0}))},Kt=vn=>{const{url:Hn}=wt(),_i=new Je({error:vn,status:J.status||0,statusText:J.statusText||"Unknown Error",url:Hn||void 0});q.error(_i)};let pn=!1;const yn=vn=>{pn||(q.next(wt()),pn=!0);let Hn={type:Ee.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Hn.total=vn.total),"text"===ue.responseType&&J.responseText&&(Hn.partialText=J.responseText),q.next(Hn)},Nn=vn=>{let Hn={type:Ee.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Hn.total=vn.total),q.next(Hn)};return J.addEventListener("load",Ft),J.addEventListener("error",Kt),J.addEventListener("timeout",Kt),J.addEventListener("abort",Kt),ue.reportProgress&&(J.addEventListener("progress",yn),null!==pe&&J.upload&&J.upload.addEventListener("progress",Nn)),J.send(pe),q.next({type:Ee.Sent}),()=>{J.removeEventListener("error",Kt),J.removeEventListener("abort",Kt),J.removeEventListener("load",Ft),J.removeEventListener("timeout",Kt),ue.reportProgress&&(J.removeEventListener("progress",yn),null!==pe&&J.upload&&J.upload.removeEventListener("progress",Nn)),J.readyState!==J.DONE&&J.abort()}})))}static \u0275fac=function(We){return new(We||$)(U.KVO(oe.N0))};static \u0275prov=U.jDH({token:$,factory:$.\u0275fac})}return $})();const nr=new U.nKC(""),Xt=new U.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_n=new U.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ae{}let K=(()=>{class ${doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(ue,We,nt){this.doc=ue,this.platform=We,this.cookieName=nt}getToken(){if("server"===this.platform)return null;const ue=this.doc.cookie||"";return ue!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.bS)(ue,this.cookieName),this.lastCookieString=ue),this.lastToken}static \u0275fac=function(We){return new(We||$)(U.KVO(xe.q),U.KVO(U.Agw),U.KVO(Xt))};static \u0275prov=U.jDH({token:$,factory:$.\u0275fac})}return $})();function _e($,Q){const ue=$.url.toLowerCase();if(!(0,U.WQX)(nr)||"GET"===$.method||"HEAD"===$.method||ue.startsWith("http://")||ue.startsWith("https://"))return Q($);const We=(0,U.WQX)(ae).getToken(),nt=(0,U.WQX)(_n);return null!=We&&!$.headers.has(nt)&&($=$.clone({headers:$.headers.set(nt,We)})),Q($)}function jt(...$){const Q=[Tt,on,mt,{provide:Le,useExisting:mt},{provide:He,useFactory:()=>(0,U.WQX)(br,{optional:!0})??(0,U.WQX)(on)},{provide:kr,useValue:_e,multi:!0},{provide:nr,useValue:!0},{provide:ae,useClass:K}];for(const ue of $)Q.push(...ue.\u0275providers);return(0,U.EmA)(Q)}},3236:($t,Qe,L)=>{L.d(Qe,{E:()=>W});var N=L(6780);const W=new(L(3604).q)(N.R)},3290:($t,Qe,L)=>{L.d(Qe,{_7:()=>L_,gS:()=>V_,rJ:()=>kp,xs:()=>OP,kd:()=>EC,H9:()=>VP,Bg:()=>LP,GG:()=>zP,aU:()=>xp,hV:()=>_T,P:()=>IC,mZ:()=>IT,_M:()=>YP});var N=L(5407),U=L(1360),W=L(7440),G=L(2214),O=L(467),Me=L(7852),le=L(1362),te=L(6858),Ne=L(8041);const ne=new Map,oe={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function Le(s){return ne.get(s)||Object.assign({},oe)}function rt(){return xe}class Ie{constructor(e,n,o,u,l){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=u,u>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,O.A)(function*(){n.stop();try{n.pending=new te.cY,n.pending.promise.catch(o=>{}),yield function Ke(s){return new Promise(e=>{setTimeout(e,s)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new te.cY,n.pending.promise.catch(o=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(o){n.retryPolicy(o)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const st=new te.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Dn(s){if(!Le(s).activated)throw st.create("use-before-activation",{appName:s.name})}function qt(s,e){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,O.A)(function*({url:s,body:e},n){const o={"Content-Type":"application/json"},u=n.getImmediate({optional:!0});if(u){const x=yield u.getHeartbeatsHeader();x&&(o["X-Firebase-Client"]=x)}const l={method:"POST",body:JSON.stringify(e),headers:o};let h,g;try{h=yield fetch(s,l)}catch(x){throw st.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==h.status)throw st.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(x){throw st.create("fetch-parse-error",{originalErrorMessage:x?.message})}const E=g.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(E[1]),P=Date.now();return{token:g.token,expireTimeMillis:P+D,issuedAtTimeMillis:P}})).apply(this,arguments)}function Vn(s,e){const{projectId:n,appId:o,apiKey:u}=s.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const tn="firebase-app-check-store";let Pe=null;function An(){return(An=(0,O.A)(function*(s,e){const o=(yield function Ve(){return Pe||(Pe=new Promise((s,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=o=>{s(o.target.result)},n.onerror=o=>{var u;e(st.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},n.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(tn,{keyPath:"compositeKey"})}}catch(n){e(st.create("storage-open",{originalErrorMessage:n?.message}))}}),Pe)}()).transaction(tn,"readwrite"),l=o.objectStore(tn).put({compositeKey:s,value:e});return new Promise((h,g)=>{l.onsuccess=E=>{h()},o.onerror=E=>{var D;g(st.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const br=new Ne.Vy("@firebase/app-check");function kn(s,e){return(0,te.zW)()?function Je(s,e){return function Ct(s,e){return An.apply(this,arguments)}(function Wt(s){return`${s.options.appId}-${s.name}`}(s),e)}(s,e).catch(n=>{br.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Oi(){return rt().enabled}function Ai(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,O.A)(function*(){const s=rt();if(s.enabled&&s.token)return s.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const li={error:"UNKNOWN_ERROR"};function xr(s){return te.K3.encodeString(JSON.stringify(s),!1)}function Zi(s){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.A)(function*(s,e=!1,n=!1){const o=s.app;Dn(o);const u=Le(o);let h,l=u.token;if(l&&!or(l)&&(u.token=void 0,l=void 0),!l){const D=yield u.cachedTokenPromise;D&&(or(D)?l=D:yield kn(o,void 0))}if(!e&&l&&or(l))return{token:l.token};let E,g=!1;if(Oi())try{u.exchangeTokenPromise||(u.exchangeTokenPromise=qt(Vn(o,yield Ai()),s.heartbeatServiceProvider).finally(()=>{u.exchangeTokenPromise=void 0}),g=!0);const D=yield u.exchangeTokenPromise;return yield kn(o,D),u.token=D,{token:D.token}}catch(D){return"appCheck/throttled"===D.code||"appCheck/initial-throttle"===D.code?br.warn(D.message):n&&br.error(D),Ge(D)}try{u.exchangeTokenPromise||(u.exchangeTokenPromise=u.provider.getToken().finally(()=>{u.exchangeTokenPromise=void 0}),g=!0),l=yield Le(o).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code||"appCheck/initial-throttle"===D.code?br.warn(D.message):n&&br.error(D),h=D}return l?h?E=or(l)?{token:l.token,internalError:h}:Ge(h):(E={token:l.token},u.token=l,yield kn(o,l)):E=Ge(h),g&&function go(s,e){const n=Le(s).tokenObservers;for(const o of n)try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch{}}(o,E),E})).apply(this,arguments)}function ri(){return(ri=(0,O.A)(function*(s){const e=s.app;Dn(e);const{provider:n}=Le(e);if(Oi()){const o=yield Ai(),{token:u}=yield qt(Vn(e,o),s.heartbeatServiceProvider);return{token:u}}{const{token:o}=yield n.getToken();return{token:o}}})).apply(this,arguments)}function Li(s,e){const n=Le(s),o=n.tokenObservers.filter(u=>u.next!==e);0===o.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=o}function zr(s){const{app:e}=s,n=Le(e);let o=n.tokenRefresher;o||(o=function ii(s){const{app:e}=s;return new Ie((0,O.A)(function*(){let o;if(o=Le(e).token?yield Zi(s,!0):yield Zi(s),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const n=Le(e);if(n.token){let o=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,n.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(s),n.tokenRefresher=o),!o.isRunning()&&n.isTokenAutoRefreshEnabled&&o.start()}function or(s){return s.expireTimeMillis-Date.now()>0}function Ge(s){return{token:xr(li),error:s}}class Ue{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Le(this.app);for(const n of e)Li(this.app,n.next);return Promise.resolve()}}const ss="app-check-internal";!function $(){(0,Me.om)(new le.uA("app-check",s=>function ge(s,e){return new Ue(s,e)}(s.getProvider("app").getImmediate(),s.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,e,n)=>{s.getProvider(ss).initialize()})),(0,Me.om)(new le.uA(ss,s=>function De(s){return{getToken:e=>Zi(s,e),getLimitedUseToken:()=>function mt(s){return ri.apply(this,arguments)}(s),addTokenListener:e=>function Sr(s,e,n,o){const{app:u}=s,l=Le(u);if(l.tokenObservers=[...l.tokenObservers,{next:n,error:o,type:e}],l.token&&or(l.token)){const g=l.token;Promise.resolve().then(()=>{n({token:g.token}),zr(s)}).catch(()=>{})}l.cachedTokenPromise.then(()=>zr(s))}(s,"INTERNAL",e),removeTokenListener:e=>Li(s.app,e)}}(s.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Me.KO)("@firebase/app-check","0.8.13")}();class We{constructor(){return(0,N.CA)("app-check")}}typeof window<"u"&&window;var St=L(1635);const vh=function pc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ya=new te.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yi=new Ne.Vy("@firebase/auth");function $o(s,...e){Yi.logLevel<=Ne.$b.ERROR&&Yi.error(`Auth (${Me.MF}): ${s}`,...e)}function oi(s,...e){throw ie(s,...e)}function C(s,...e){return ie(s,...e)}function Z(s,e,n){const o=Object.assign(Object.assign({},vh()),{[e]:n});return new te.FA("auth","Firebase",o).create(e,{appName:s.name})}function M(s){return Z(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ie(s,...e){if("string"!=typeof s){const n=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return Ya.create(s,...e)}function se(s,e,...n){if(!s)throw ie(e,...n)}function dt(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $o(e),new Error(e)}function Ot(s,e){s||dt(e)}function zn(){var s;return typeof self<"u"&&(null===(s=self.location)||void 0===s?void 0:s.protocol)||null}class Bn{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ot(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,te.jZ)()||(0,te.lV)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function er(){return"http:"===zn()||"https:"===zn()}()||(0,te.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class sr{static initialize(e,n,o){this.fetchImpl=e,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const so={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},as=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z=new Bn(3e4,6e4);function me(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}function ee(s,e,n,o){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.A)(function*(s,e,n,o,u={}){return Ze(s,u,(0,O.A)(function*(){let l={},h={};o&&("GET"===e?h=o:l={body:JSON.stringify(o)});const g=(0,te.Am)(Object.assign({key:s.config.apiKey},h)).slice(1),E=yield s._getAdditionalHeaders();E["Content-Type"]="application/json",s.languageCode&&(E["X-Firebase-Locale"]=s.languageCode);const D=Object.assign({method:e,headers:E},l);return(0,te.c1)()||(D.referrerPolicy="no-referrer"),sr.fetch()(yield ar(s,s.config.apiHost,n,g),D)}))})).apply(this,arguments)}function Ze(s,e,n){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.A)(function*(s,e,n){s._canInitEmulator=!1;const o=Object.assign(Object.assign({},so),e);try{const u=new Ho(s),l=yield Promise.race([n(),u.promise]);u.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw Dt(s,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const g=l.ok?h.errorMessage:h.error.message,[E,D]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===E)throw Dt(s,"credential-already-in-use",h);if("EMAIL_EXISTS"===E)throw Dt(s,"email-already-in-use",h);if("USER_DISABLED"===E)throw Dt(s,"user-disabled",h);const P=o[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(D)throw Z(s,P,D);oi(s,P)}}catch(u){if(u instanceof te.g)throw u;oi(s,"network-request-failed",{message:String(u)})}})).apply(this,arguments)}function ar(s,e,n,o){return us.apply(this,arguments)}function us(){return(us=(0,O.A)(function*(s,e,n,o){const u=`${e}${n}?${o}`,l=s,h=l.config.emulator?function Or(s,e){Ot(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(s.config,u):`${s.config.apiScheme}://${u}`;return as.includes(n)&&(yield l._persistenceManagerAvailable,"COOKIE"===l._getPersistenceType())?l._getPersistence()._getFinalTarget(h).toString():h})).apply(this,arguments)}class Ho{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(C(this.auth,"network-request-failed")),z.get())})}}function Dt(s,e,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const u=C(s,e,o);return u.customData._tokenResponse=n,u}function Vs(){return(Vs=(0,O.A)(function*(s,e){return ee(s,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zo(s,e){return mc.apply(this,arguments)}function mc(){return(mc=(0,O.A)(function*(s,e){return ee(s,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function qr(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tu(){return(tu=(0,O.A)(function*(s,e=!1){const n=(0,te.Ku)(s),o=yield n.getIdToken(e),u=vc(o);se(u&&u.exp&&u.auth_time&&u.iat,n.auth,"internal-error");const l="object"==typeof u.firebase?u.firebase:void 0,h=l?.sign_in_provider;return{claims:u,token:o,authTime:qr(yc(u.auth_time)),issuedAtTime:qr(yc(u.iat)),expirationTime:qr(yc(u.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function yc(s){return 1e3*Number(s)}function vc(s){const[e,n,o]=s.split(".");if(void 0===e||void 0===n||void 0===o)return $o("JWT malformed, contained fewer than 3 sections"),null;try{const u=(0,te.u)(n);return u?JSON.parse(u):($o("Failed to decode base64 JWT payload"),null)}catch(u){return $o("Caught error parsing JWT payload as JSON",u?.toString()),null}}function Eh(s){const e=vc(s);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qn(s,e){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,O.A)(function*(s,e,n=!1){if(n)return e;try{return yield e}catch(o){throw o instanceof te.g&&function hs({code:s}){return"auth/user-disabled"===s||"auth/user-token-expired"===s}(o)&&s.auth.currentUser===s&&(yield s.auth.signOut()),o}})).apply(this,arguments)}class cy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),o}{this.errorBackoff=3e4;const u=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout((0,O.A)(function*(){yield n.iteration()}),o)}iteration(){var e=this;return(0,O.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class yi{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(s){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.A)(function*(s){var e;const n=s.auth,o=yield s.getIdToken(),u=yield Qn(s,zo(n,{idToken:o}));se(u?.users.length,n,"internal-error");const l=u.users[0];s._notifyReloadListener(l);const h=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?Vi(l.providerUserInfo):[],g=function fs(s,e){return[...s.filter(o=>!e.some(u=>u.providerId===o.providerId)),...e]}(s.providerData,h),P=!!s.isAnonymous&&!(s.email&&l.passwordHash||g?.length),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new yi(l.createdAt,l.lastLoginAt),isAnonymous:P};Object.assign(s,x)})).apply(this,arguments)}function Fi(){return(Fi=(0,O.A)(function*(s){const e=(0,te.Ku)(s);yield Pn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Vi(s){return s.map(e=>{var{providerId:n}=e,o=(0,St.Tt)(e,["providerId"]);return{providerId:n,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}function si(){return(si=(0,O.A)(function*(s,e){const n=yield Ze(s,{},(0,O.A)(function*(){const o=(0,te.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:l}=s.config,h=yield ar(s,u,"/v1/token",`key=${l}`),g=yield s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",sr.fetch()(h,{method:"POST",headers:g,body:o})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function yo(){return(yo=(0,O.A)(function*(s,e){return ee(s,"POST","/v2/accounts:revokeToken",me(s,e))})).apply(this,arguments)}class Mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(0!==e.length,"internal-error");const n=Eh(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var o=this;return(0,O.A)(function*(){return n||!o.accessToken||o.isExpired?(se(o.refreshToken,e,"user-token-expired"),o.refreshToken?(yield o.refresh(e,o.refreshToken),o.accessToken):null):o.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var o=this;return(0,O.A)(function*(){const{accessToken:u,refreshToken:l,expiresIn:h}=yield function bn(s,e){return si.apply(this,arguments)}(e,n);o.updateTokensAndExpiration(u,l,Number(h))})()}updateTokensAndExpiration(e,n,o){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*o}static fromJSON(e,n){const{refreshToken:o,accessToken:u,expirationTime:l}=n,h=new Mi;return o&&(se("string"==typeof o,"internal-error",{appName:e}),h.refreshToken=o),u&&(se("string"==typeof u,"internal-error",{appName:e}),h.accessToken=u),l&&(se("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mi,this.toJSON())}_performRefresh(){return dt("not implemented")}}function Bs(s,e){se("string"==typeof s||typeof s>"u","internal-error",{appName:e})}class ao{constructor(e){var{uid:n,auth:o,stsTokenManager:u}=e,l=(0,St.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=o,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new yi(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,O.A)(function*(){const o=yield Qn(n,n.stsTokenManager.getToken(n.auth,e));return se(o,n.auth,"internal-error"),n.accessToken!==o&&(n.accessToken=o,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),o})()}getIdTokenResult(e){return function tg(s){return tu.apply(this,arguments)}(this,e)}reload(){return function Ll(s){return Fi.apply(this,arguments)}(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var o=this;return(0,O.A)(function*(){let u=!1;e.idToken&&e.idToken!==o.stsTokenManager.accessToken&&(o.stsTokenManager.updateFromServerResponse(e),u=!0),n&&(yield Pn(o)),yield o.auth._persistUserIfCurrent(o),u&&o.auth._notifyListenersIfCurrent(o)})()}delete(){var e=this;return(0,O.A)(function*(){if((0,Me.xZ)(e.auth.app))return Promise.reject(M(e.auth));const n=yield e.getIdToken();return yield Qn(e,function ds(s,e){return Vs.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var o,u,l,h,g,E,D,P;const x=null!==(o=n.displayName)&&void 0!==o?o:void 0,Y=null!==(u=n.email)&&void 0!==u?u:void 0,we=null!==(l=n.phoneNumber)&&void 0!==l?l:void 0,qe=null!==(h=n.photoURL)&&void 0!==h?h:void 0,ht=null!==(g=n.tenantId)&&void 0!==g?g:void 0,ut=null!==(E=n._redirectEventId)&&void 0!==E?E:void 0,zt=null!==(D=n.createdAt)&&void 0!==D?D:void 0,Jt=null!==(P=n.lastLoginAt)&&void 0!==P?P:void 0,{uid:Bt,emailVerified:hn,isAnonymous:Ln,providerData:En,stsTokenManager:ve}=n;se(Bt&&ve,e,"internal-error");const re=Mi.fromJSON(this.name,ve);se("string"==typeof Bt,e,"internal-error"),Bs(x,e.name),Bs(Y,e.name),se("boolean"==typeof hn,e,"internal-error"),se("boolean"==typeof Ln,e,"internal-error"),Bs(we,e.name),Bs(qe,e.name),Bs(ht,e.name),Bs(ut,e.name),Bs(zt,e.name),Bs(Jt,e.name);const he=new ao({uid:Bt,auth:e,email:Y,emailVerified:hn,displayName:x,isAnonymous:Ln,photoURL:qe,phoneNumber:we,tenantId:ht,stsTokenManager:re,createdAt:zt,lastLoginAt:Jt});return En&&Array.isArray(En)&&(he.providerData=En.map(Te=>Object.assign({},Te))),ut&&(he._redirectEventId=ut),he}static _fromIdTokenResponse(e,n,o=!1){return(0,O.A)(function*(){const u=new Mi;u.updateFromServerResponse(n);const l=new ao({uid:n.localId,auth:e,stsTokenManager:u,isAnonymous:o});return yield Pn(l),l})()}static _fromGetAccountInfoResponse(e,n,o){return(0,O.A)(function*(){const u=n.users[0];se(void 0!==u.localId,"internal-error");const l=void 0!==u.providerUserInfo?Vi(u.providerUserInfo):[],h=!(u.email&&u.passwordHash||l?.length),g=new Mi;g.updateFromIdToken(o);const E=new ao({uid:u.localId,auth:e,stsTokenManager:g,isAnonymous:h}),D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:l,metadata:new yi(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash||l?.length)};return Object.assign(E,D),E})()}}const Ic=new Map;function vo(s){Ot(s instanceof Function,"Expected a class definition");let e=Ic.get(s);return e?(Ot(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ic.set(s,e),e)}const ng=(()=>{class s{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.A)(function*(){return!0})()}_set(n,o){var u=this;return(0,O.A)(function*(){u.storage[n]=o})()}_get(n){var o=this;return(0,O.A)(function*(){const u=o.storage[n];return void 0===u?null:u})()}_remove(n){var o=this;return(0,O.A)(function*(){delete o.storage[n]})()}_addListener(n,o){}_removeListener(n,o){}}return s.type="NONE",s})();function nu(s,e,n){return`firebase:${s}:${e}:${n}`}class da{constructor(e,n,o){this.persistence=e,this.auth=n,this.userKey=o;const{config:u,name:l}=this.auth;this.fullUserKey=nu(this.userKey,u.apiKey,l),this.fullPersistenceKey=nu("persistence",u.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,O.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const o=yield zo(e.auth,{idToken:n}).catch(()=>{});return o?ao._fromGetAccountInfoResponse(e.auth,o,n):null}return ao._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,O.A)(function*(){if(n.persistence===e)return;const o=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,o?n.setCurrentUser(o):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,o="authUser"){return(0,O.A)(function*(){if(!n.length)return new da(vo(ng),e,o);const u=(yield Promise.all(n.map(function(){var D=(0,O.A)(function*(P){if(yield P._isAvailable())return P});return function(P){return D.apply(this,arguments)}}()))).filter(D=>D);let l=u[0]||vo(ng);const h=nu(o,e.config.apiKey,e.name);let g=null;for(const D of n)try{const P=yield D._get(h);if(P){let x;if("string"==typeof P){const Y=yield zo(e,{idToken:P}).catch(()=>{});if(!Y)break;x=yield ao._fromGetAccountInfoResponse(e,Y,P)}else x=ao._fromJSON(e,P);D!==l&&(g=x),l=D;break}}catch{}const E=u.filter(D=>D._shouldAllowMigration);return l._shouldAllowMigration&&E.length?(l=E[0],g&&(yield l._set(h,g.toJSON())),yield Promise.all(n.map(function(){var D=(0,O.A)(function*(P){if(P!==l)try{yield P._remove(h)}catch{}});return function(P){return D.apply(this,arguments)}}())),new da(l,e,o)):new da(l,e,o)})()}}function Fl(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function iu(s=(0,te.ZQ)()){return/iemobile/i.test(s)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ru(s=(0,te.ZQ)()){return/firefox\//i.test(s)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function wc(s=(0,te.ZQ)()){return/blackberry/i.test(s)}(e))return"Blackberry";if(function Dc(s=(0,te.ZQ)()){return/webos/i.test(s)}(e))return"Webos";if(function Ih(s=(0,te.ZQ)()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function js(s=(0,te.ZQ)()){return/crios\//i.test(s)}(e))&&!e.includes("edge/"))return"Chrome";if(function Vl(s=(0,te.ZQ)()){return/android/i.test(s)}(e))return"Android";{const o=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===o?.length)return o[1]}return"Other"}function ly(s,e=[]){let n;switch(s){case"Browser":n=Fl((0,te.ZQ)());break;case"Worker":n=`${Fl((0,te.ZQ)())}-${s}`;break;default:n=s}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Me.MF}/${o}`}class dy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const o=l=>new Promise((h,g)=>{try{h(e(l))}catch(E){g(E)}});o.onAbort=n,this.queue.push(o);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,O.A)(function*(){if(n.auth.currentUser===e)return;const o=[];try{for(const u of n.queue)yield u(e),u.onAbort&&o.push(u.onAbort)}catch(u){o.reverse();for(const l of o)try{l()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:u?.message})}})()}}function $s(){return($s=(0,O.A)(function*(s,e={}){return ee(s,"GET","/v2/passwordPolicy",me(s,e))})).apply(this,arguments)}class hy{constructor(e){var n,o,u,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=h.minPasswordLength)&&void 0!==n?n:6,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),void 0!==h.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),void 0!==h.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),void 0!==h.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),void 0!==h.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(u=null===(o=e.allowedNonAlphanumericCharacters)||void 0===o?void 0:o.join(""))&&void 0!==u?u:"",this.forceUpgradeOnSignin=null!==(l=e.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,o,u,l,h,g;const E={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,E),this.validatePasswordCharacterOptions(e,E),E.isValid&&(E.isValid=null===(n=E.meetsMinPasswordLength)||void 0===n||n),E.isValid&&(E.isValid=null===(o=E.meetsMaxPasswordLength)||void 0===o||o),E.isValid&&(E.isValid=null===(u=E.containsLowercaseLetter)||void 0===u||u),E.isValid&&(E.isValid=null===(l=E.containsUppercaseLetter)||void 0===l||l),E.isValid&&(E.isValid=null===(h=E.containsNumericCharacter)||void 0===h||h),E.isValid&&(E.isValid=null===(g=E.containsNonAlphanumericCharacter)||void 0===g||g),E}validatePasswordLengthOptions(e,n){const o=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=e.length>=o),u&&(n.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,n){let o;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let u=0;u<e.length;u++)o=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,n,o,u,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fy{constructor(e,n,o,u){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.beforeStateQueue=new dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ya,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){var o=this;return n&&(this._popupRedirectResolver=vo(n)),this._initializationPromise=this.queue((0,O.A)(function*(){var u,l,h;if(!o._deleted&&(o.persistenceManager=yield da.create(o,e),null===(u=o._resolvePersistenceManagerAvailable)||void 0===u||u.call(o),!o._deleted)){if(null!==(l=o._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield o._popupRedirectResolver._initialize(o)}catch{}yield o.initializeCurrentUser(n),o.lastNotifiedUid=(null===(h=o.currentUser)||void 0===h?void 0:h.uid)||null,!o._deleted&&(o._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,O.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,O.A)(function*(){try{const o=yield zo(n,{idToken:e}),u=yield ao._fromGetAccountInfoResponse(n,o,e);yield n.directlySetCurrentUser(u)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,O.A)(function*(){var o;if((0,Me.xZ)(n.app)){const g=n.app.settings.authIdToken;return g?new Promise(E=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(g).then(E,E))}):n.directlySetCurrentUser(null)}const u=yield n.assertedPersistence.getCurrentUser();let l=u,h=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const g=null===(o=n.redirectUser)||void 0===o?void 0:o._redirectEventId,E=l?._redirectEventId,D=yield n.tryRedirectSignIn(e);(!g||g===E)&&D?.user&&(l=D.user,h=!0)}if(!l)return n.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield n.beforeStateQueue.runMiddleware(l)}catch(g){l=u,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(g))}return l?n.reloadAndSetCurrentUserOrClear(l):n.directlySetCurrentUser(null)}return se(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===l._redirectEventId?n.directlySetCurrentUser(l):n.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var n=this;return(0,O.A)(function*(){let o=null;try{o=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return o})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,O.A)(function*(){try{yield Pn(e)}catch(o){if("auth/network-request-failed"!==o?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}()}_delete(){var e=this;return(0,O.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,O.A)(function*(){if((0,Me.xZ)(n.app))return Promise.reject(M(n));const o=e?(0,te.Ku)(e):null;return o&&se(o.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(o&&o._clone(n))})()}_updateCurrentUser(e,n=!1){var o=this;return(0,O.A)(function*(){if(!o._deleted)return e&&se(o.tenantId===e.tenantId,o,"tenant-id-mismatch"),n||(yield o.beforeStateQueue.runMiddleware(e)),o.queue((0,O.A)(function*(){yield o.directlySetCurrentUser(e),o.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,O.A)(function*(){return(0,Me.xZ)(e.app)?Promise.reject(M(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return(0,Me.xZ)(this.app)?Promise.reject(M(this)):this.queue((0,O.A)(function*(){yield n.assertedPersistence.setPersistence(vo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,O.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const o=n._getPasswordPolicyInternal();return o.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,O.A)(function*(){const n=yield function rg(s){return $s.apply(this,arguments)}(e),o=new hy(n);null===e.tenantId?e._projectPasswordPolicy=o:e._tenantPasswordPolicies[e.tenantId]=o})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new te.FA("auth","Firebase",e())}onAuthStateChanged(e,n,o){return this.registerStateListener(this.authStateSubscription,e,n,o)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,o){return this.registerStateListener(this.idTokenSubscription,e,n,o)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,O.A)(function*(){if(n.currentUser){const o=yield n.currentUser.getIdToken(),u={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};null!=n.tenantId&&(u.tenantId=n.tenantId),yield function Pi(s,e){return yo.apply(this,arguments)}(n,u)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var o=this;return(0,O.A)(function*(){const u=yield o.getOrInitRedirectPersistenceManager(n);return null===e?u.removeCurrentUser():u.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,O.A)(function*(){if(!n.redirectPersistenceManager){const o=e&&vo(e)||n._popupRedirectResolver;se(o,n,"argument-error"),n.redirectPersistenceManager=yield da.create(n,[vo(o._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,O.A)(function*(){var o,u;return n._isInitialized&&(yield n.queue((0,O.A)(function*(){}))),(null===(o=n._currentUser)||void 0===o?void 0:o._redirectEventId)===e?n._currentUser:(null===(u=n.redirectUser)||void 0===u?void 0:u._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,O.A)(function*(){if(e===n.currentUser)return n.queue((0,O.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,o,u){if(this._deleted)return()=>{};const l="function"==typeof n?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(g,this,"internal-error"),g.then(()=>{h||l(this.currentUser)}),"function"==typeof n){const E=e.addObserver(n,o,u);return()=>{h=!0,E()}}{const E=e.addObserver(n);return()=>{h=!0,E()}}}directlySetCurrentUser(e){var n=this;return(0,O.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ly(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,O.A)(function*(){var n;const o={"X-Client-Version":e.clientVersion};e.app.options.appId&&(o["X-Firebase-gmpid"]=e.app.options.appId);const u=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();u&&(o["X-Firebase-Client"]=u);const l=yield e._getAppCheckToken();return l&&(o["X-Firebase-AppCheck"]=l),o})()}_getAppCheckToken(){var e=this;return(0,O.A)(function*(){var n;if((0,Me.xZ)(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const o=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return o?.error&&function jo(s,...e){Yi.logLevel<=Ne.$b.WARN&&Yi.warn(`Auth (${Me.MF}): ${s}`,...e)}(`Error while retrieving App Check token: ${o.error}`),o?.token})()}}class Hs{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,te.tD)(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ha={loadJS:()=>(0,O.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function Zr(s){return`__${s}${Math.floor(1e6*Math.random())}`})("rcb"),new Bn(3e4,6e4),new Bn(2e3,1e4),new Bn(3e4,6e4),new Bn(5e3,15e3),encodeURIComponent("fac");var Uw="@firebase/auth";class Bw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,O.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,te.XA)("authIdTokenMaxAge"),function ig(s){ha=s}({loadJS:s=>new Promise((e,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=e,o.onerror=u=>{const l=C("internal-error");l.customData=u,n(l)},o.type="text/javascript",o.charset="UTF-8",function Zb(){var s,e;return null!==(e=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==e?e:document}().appendChild(o)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function qg(s){(0,Me.om)(new le.uA("auth",(e,{options:n})=>{const o=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=o.options;se(h&&!h.includes(":"),"invalid-api-key",{appName:o.name});const E={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ly(s)},D=new fy(o,u,l,E);return function Ws(s,e){const n=e?.persistence||[],o=(Array.isArray(n)?n:[n]).map(vo);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(o,e?.popupRedirectResolver)}(D,n),D},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,o)=>{e.getProvider("auth-internal").initialize()})),(0,Me.om)(new le.uA("auth-internal",e=>{const n=function dr(s){return(0,te.Ku)(s)}(e.getProvider("auth").getImmediate());return new Bw(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Me.KO)(Uw,"1.10.0",function jw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(s)),(0,Me.KO)(Uw,"1.10.0","esm2017")}("Browser");class Gw{constructor(){return(0,N.CA)("auth")}}var $n,Lc,Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ev={};(function(){var s;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ve,re,he){he||(he=0);var Te=Array(16);if("string"==typeof re)for(var Ae=0;16>Ae;++Ae)Te[Ae]=re.charCodeAt(he++)|re.charCodeAt(he++)<<8|re.charCodeAt(he++)<<16|re.charCodeAt(he++)<<24;else for(Ae=0;16>Ae;++Ae)Te[Ae]=re[he++]|re[he++]<<8|re[he++]<<16|re[he++]<<24;var ke=ve.g[3],de=(re=ve.g[0])+(ke^(he=ve.g[1])&((Ae=ve.g[2])^ke))+Te[0]+3614090360&4294967295;de=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=(he=(Ae=(ke=(re=he+(de<<7&4294967295|de>>>25))+((de=ke+(Ae^re&(he^Ae))+Te[1]+3905402710&4294967295)<<12&4294967295|de>>>20))+((de=Ae+(he^ke&(re^he))+Te[2]+606105819&4294967295)<<17&4294967295|de>>>15))+((de=he+(re^Ae&(ke^re))+Te[3]+3250441966&4294967295)<<22&4294967295|de>>>10))+((de=re+(ke^he&(Ae^ke))+Te[4]+4118548399&4294967295)<<7&4294967295|de>>>25))+((de=ke+(Ae^re&(he^Ae))+Te[5]+1200080426&4294967295)<<12&4294967295|de>>>20))+((de=Ae+(he^ke&(re^he))+Te[6]+2821735955&4294967295)<<17&4294967295|de>>>15))+((de=he+(re^Ae&(ke^re))+Te[7]+4249261313&4294967295)<<22&4294967295|de>>>10))+((de=re+(ke^he&(Ae^ke))+Te[8]+1770035416&4294967295)<<7&4294967295|de>>>25))+((de=ke+(Ae^re&(he^Ae))+Te[9]+2336552879&4294967295)<<12&4294967295|de>>>20))+((de=Ae+(he^ke&(re^he))+Te[10]+4294925233&4294967295)<<17&4294967295|de>>>15))+((de=he+(re^Ae&(ke^re))+Te[11]+2304563134&4294967295)<<22&4294967295|de>>>10))+((de=re+(ke^he&(Ae^ke))+Te[12]+1804603682&4294967295)<<7&4294967295|de>>>25))+((de=ke+(Ae^re&(he^Ae))+Te[13]+4254626195&4294967295)<<12&4294967295|de>>>20))+((de=Ae+(he^ke&(re^he))+Te[14]+2792965006&4294967295)<<17&4294967295|de>>>15))+((de=he+(re^Ae&(ke^re))+Te[15]+1236535329&4294967295)<<22&4294967295|de>>>10))+((de=re+(Ae^ke&(he^Ae))+Te[1]+4129170786&4294967295)<<5&4294967295|de>>>27))+((de=ke+(he^Ae&(re^he))+Te[6]+3225465664&4294967295)<<9&4294967295|de>>>23))+((de=Ae+(re^he&(ke^re))+Te[11]+643717713&4294967295)<<14&4294967295|de>>>18))+((de=he+(ke^re&(Ae^ke))+Te[0]+3921069994&4294967295)<<20&4294967295|de>>>12))+((de=re+(Ae^ke&(he^Ae))+Te[5]+3593408605&4294967295)<<5&4294967295|de>>>27))+((de=ke+(he^Ae&(re^he))+Te[10]+38016083&4294967295)<<9&4294967295|de>>>23))+((de=Ae+(re^he&(ke^re))+Te[15]+3634488961&4294967295)<<14&4294967295|de>>>18))+((de=he+(ke^re&(Ae^ke))+Te[4]+3889429448&4294967295)<<20&4294967295|de>>>12))+((de=re+(Ae^ke&(he^Ae))+Te[9]+568446438&4294967295)<<5&4294967295|de>>>27))+((de=ke+(he^Ae&(re^he))+Te[14]+3275163606&4294967295)<<9&4294967295|de>>>23))+((de=Ae+(re^he&(ke^re))+Te[3]+4107603335&4294967295)<<14&4294967295|de>>>18))+((de=he+(ke^re&(Ae^ke))+Te[8]+1163531501&4294967295)<<20&4294967295|de>>>12))+((de=re+(Ae^ke&(he^Ae))+Te[13]+2850285829&4294967295)<<5&4294967295|de>>>27))+((de=ke+(he^Ae&(re^he))+Te[2]+4243563512&4294967295)<<9&4294967295|de>>>23))+((de=Ae+(re^he&(ke^re))+Te[7]+1735328473&4294967295)<<14&4294967295|de>>>18))+((de=he+(ke^re&(Ae^ke))+Te[12]+2368359562&4294967295)<<20&4294967295|de>>>12))+((de=re+(he^Ae^ke)+Te[5]+4294588738&4294967295)<<4&4294967295|de>>>28))+((de=ke+(re^he^Ae)+Te[8]+2272392833&4294967295)<<11&4294967295|de>>>21))+((de=Ae+(ke^re^he)+Te[11]+1839030562&4294967295)<<16&4294967295|de>>>16))+((de=he+(Ae^ke^re)+Te[14]+4259657740&4294967295)<<23&4294967295|de>>>9))+((de=re+(he^Ae^ke)+Te[1]+2763975236&4294967295)<<4&4294967295|de>>>28))+((de=ke+(re^he^Ae)+Te[4]+1272893353&4294967295)<<11&4294967295|de>>>21))+((de=Ae+(ke^re^he)+Te[7]+4139469664&4294967295)<<16&4294967295|de>>>16))+((de=he+(Ae^ke^re)+Te[10]+3200236656&4294967295)<<23&4294967295|de>>>9))+((de=re+(he^Ae^ke)+Te[13]+681279174&4294967295)<<4&4294967295|de>>>28))+((de=ke+(re^he^Ae)+Te[0]+3936430074&4294967295)<<11&4294967295|de>>>21))+((de=Ae+(ke^re^he)+Te[3]+3572445317&4294967295)<<16&4294967295|de>>>16))+((de=he+(Ae^ke^re)+Te[6]+76029189&4294967295)<<23&4294967295|de>>>9))+((de=re+(he^Ae^ke)+Te[9]+3654602809&4294967295)<<4&4294967295|de>>>28))+((de=ke+(re^he^Ae)+Te[12]+3873151461&4294967295)<<11&4294967295|de>>>21))+((de=Ae+(ke^re^he)+Te[15]+530742520&4294967295)<<16&4294967295|de>>>16))+((de=he+(Ae^ke^re)+Te[2]+3299628645&4294967295)<<23&4294967295|de>>>9))+((de=re+(Ae^(he|~ke))+Te[0]+4096336452&4294967295)<<6&4294967295|de>>>26))+((de=ke+(he^(re|~Ae))+Te[7]+1126891415&4294967295)<<10&4294967295|de>>>22))+((de=Ae+(re^(ke|~he))+Te[14]+2878612391&4294967295)<<15&4294967295|de>>>17))+((de=he+(ke^(Ae|~re))+Te[5]+4237533241&4294967295)<<21&4294967295|de>>>11))+((de=re+(Ae^(he|~ke))+Te[12]+1700485571&4294967295)<<6&4294967295|de>>>26))+((de=ke+(he^(re|~Ae))+Te[3]+2399980690&4294967295)<<10&4294967295|de>>>22))+((de=Ae+(re^(ke|~he))+Te[10]+4293915773&4294967295)<<15&4294967295|de>>>17))+((de=he+(ke^(Ae|~re))+Te[1]+2240044497&4294967295)<<21&4294967295|de>>>11))+((de=re+(Ae^(he|~ke))+Te[8]+1873313359&4294967295)<<6&4294967295|de>>>26))+((de=ke+(he^(re|~Ae))+Te[15]+4264355552&4294967295)<<10&4294967295|de>>>22))+((de=Ae+(re^(ke|~he))+Te[6]+2734768916&4294967295)<<15&4294967295|de>>>17))+((de=he+(ke^(Ae|~re))+Te[13]+1309151649&4294967295)<<21&4294967295|de>>>11))+((ke=(re=he+((de=re+(Ae^(he|~ke))+Te[4]+4149444226&4294967295)<<6&4294967295|de>>>26))+((de=ke+(he^(re|~Ae))+Te[11]+3174756917&4294967295)<<10&4294967295|de>>>22))^((Ae=ke+((de=Ae+(re^(ke|~he))+Te[2]+718787259&4294967295)<<15&4294967295|de>>>17))|~re))+Te[9]+3951481745&4294967295,ve.g[0]=ve.g[0]+re&4294967295,ve.g[1]=ve.g[1]+(Ae+(de<<21&4294967295|de>>>11))&4294967295,ve.g[2]=ve.g[2]+Ae&4294967295,ve.g[3]=ve.g[3]+ke&4294967295}function h(ve,re){this.h=re;for(var he=[],Te=!0,Ae=ve.length-1;0<=Ae;Ae--){var ke=0|ve[Ae];Te&&ke==re||(he[Ae]=ke,Te=!1)}this.g=he}(function e(ve,re){function he(){}he.prototype=re.prototype,ve.D=re.prototype,ve.prototype=new he,ve.prototype.constructor=ve,ve.C=function(Te,Ae,ke){for(var de=Array(arguments.length-2),Os=2;Os<arguments.length;Os++)de[Os-2]=arguments[Os];return re.prototype[Ae].apply(Te,de)}})(o,function n(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ve,re){void 0===re&&(re=ve.length);for(var he=re-this.blockSize,Te=this.B,Ae=this.h,ke=0;ke<re;){if(0==Ae)for(;ke<=he;)u(this,ve,ke),ke+=this.blockSize;if("string"==typeof ve){for(;ke<re;)if(Te[Ae++]=ve.charCodeAt(ke++),Ae==this.blockSize){u(this,Te),Ae=0;break}}else for(;ke<re;)if(Te[Ae++]=ve[ke++],Ae==this.blockSize){u(this,Te),Ae=0;break}}this.h=Ae,this.o+=re},o.prototype.v=function(){var ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ve[0]=128;for(var re=1;re<ve.length-8;++re)ve[re]=0;var he=8*this.o;for(re=ve.length-8;re<ve.length;++re)ve[re]=255&he,he/=256;for(this.u(ve),ve=Array(16),re=he=0;4>re;++re)for(var Te=0;32>Te;Te+=8)ve[he++]=this.g[re]>>>Te&255;return ve};var g={};function E(ve){return-128<=ve&&128>ve?function l(ve,re){var he=g;return Object.prototype.hasOwnProperty.call(he,ve)?he[ve]:he[ve]=re(ve)}(ve,function(re){return new h([0|re],0>re?-1:0)}):new h([0|ve],0>ve?-1:0)}function D(ve){if(isNaN(ve)||!isFinite(ve))return x;if(0>ve)return ut(D(-ve));for(var re=[],he=1,Te=0;ve>=he;Te++)re[Te]=ve/he|0,he*=4294967296;return new h(re,0)}var x=E(0),Y=E(1),we=E(16777216);function qe(ve){if(0!=ve.h)return!1;for(var re=0;re<ve.g.length;re++)if(0!=ve.g[re])return!1;return!0}function ht(ve){return-1==ve.h}function ut(ve){for(var re=ve.g.length,he=[],Te=0;Te<re;Te++)he[Te]=~ve.g[Te];return new h(he,~ve.h).add(Y)}function zt(ve,re){return ve.add(ut(re))}function Jt(ve,re){for(;(65535&ve[re])!=ve[re];)ve[re+1]+=ve[re]>>>16,ve[re]&=65535,re++}function Bt(ve,re){this.g=ve,this.h=re}function hn(ve,re){if(qe(re))throw Error("division by zero");if(qe(ve))return new Bt(x,x);if(ht(ve))return re=hn(ut(ve),re),new Bt(ut(re.g),ut(re.h));if(ht(re))return re=hn(ve,ut(re)),new Bt(ut(re.g),re.h);if(30<ve.g.length){if(ht(ve)||ht(re))throw Error("slowDivide_ only works with positive integers.");for(var he=Y,Te=re;0>=Te.l(ve);)he=Ln(he),Te=Ln(Te);var Ae=En(he,1),ke=En(Te,1);for(Te=En(Te,2),he=En(he,2);!qe(Te);){var de=ke.add(Te);0>=de.l(ve)&&(Ae=Ae.add(he),ke=de),Te=En(Te,1),he=En(he,1)}return re=zt(ve,Ae.j(re)),new Bt(Ae,re)}for(Ae=x;0<=ve.l(re);){for(he=Math.max(1,Math.floor(ve.m()/re.m())),Te=48>=(Te=Math.ceil(Math.log(he)/Math.LN2))?1:Math.pow(2,Te-48),de=(ke=D(he)).j(re);ht(de)||0<de.l(ve);)de=(ke=D(he-=Te)).j(re);qe(ke)&&(ke=Y),Ae=Ae.add(ke),ve=zt(ve,de)}return new Bt(Ae,ve)}function Ln(ve){for(var re=ve.g.length+1,he=[],Te=0;Te<re;Te++)he[Te]=ve.i(Te)<<1|ve.i(Te-1)>>>31;return new h(he,ve.h)}function En(ve,re){var he=re>>5;re%=32;for(var Te=ve.g.length-he,Ae=[],ke=0;ke<Te;ke++)Ae[ke]=0<re?ve.i(ke+he)>>>re|ve.i(ke+he+1)<<32-re:ve.i(ke+he);return new h(Ae,ve.h)}(s=h.prototype).m=function(){if(ht(this))return-ut(this).m();for(var ve=0,re=1,he=0;he<this.g.length;he++){var Te=this.i(he);ve+=(0<=Te?Te:4294967296+Te)*re,re*=4294967296}return ve},s.toString=function(ve){if(2>(ve=ve||10)||36<ve)throw Error("radix out of range: "+ve);if(qe(this))return"0";if(ht(this))return"-"+ut(this).toString(ve);for(var re=D(Math.pow(ve,6)),he=this,Te="";;){var Ae=hn(he,re).g,ke=((0<(he=zt(he,Ae.j(re))).g.length?he.g[0]:he.h)>>>0).toString(ve);if(qe(he=Ae))return ke+Te;for(;6>ke.length;)ke="0"+ke;Te=ke+Te}},s.i=function(ve){return 0>ve?0:ve<this.g.length?this.g[ve]:this.h},s.l=function(ve){return ht(ve=zt(this,ve))?-1:qe(ve)?0:1},s.abs=function(){return ht(this)?ut(this):this},s.add=function(ve){for(var re=Math.max(this.g.length,ve.g.length),he=[],Te=0,Ae=0;Ae<=re;Ae++){var ke=Te+(65535&this.i(Ae))+(65535&ve.i(Ae)),de=(ke>>>16)+(this.i(Ae)>>>16)+(ve.i(Ae)>>>16);Te=de>>>16,he[Ae]=(de&=65535)<<16|(ke&=65535)}return new h(he,-2147483648&he[he.length-1]?-1:0)},s.j=function(ve){if(qe(this)||qe(ve))return x;if(ht(this))return ht(ve)?ut(this).j(ut(ve)):ut(ut(this).j(ve));if(ht(ve))return ut(this.j(ut(ve)));if(0>this.l(we)&&0>ve.l(we))return D(this.m()*ve.m());for(var re=this.g.length+ve.g.length,he=[],Te=0;Te<2*re;Te++)he[Te]=0;for(Te=0;Te<this.g.length;Te++)for(var Ae=0;Ae<ve.g.length;Ae++){var ke=this.i(Te)>>>16,de=65535&this.i(Te),Os=ve.i(Ae)>>>16,ih=65535&ve.i(Ae);he[2*Te+2*Ae]+=de*ih,Jt(he,2*Te+2*Ae),he[2*Te+2*Ae+1]+=ke*ih,Jt(he,2*Te+2*Ae+1),he[2*Te+2*Ae+1]+=de*Os,Jt(he,2*Te+2*Ae+1),he[2*Te+2*Ae+2]+=ke*Os,Jt(he,2*Te+2*Ae+2)}for(Te=0;Te<re;Te++)he[Te]=he[2*Te+1]<<16|he[2*Te];for(Te=re;Te<2*re;Te++)he[Te]=0;return new h(he,0)},s.A=function(ve){return hn(this,ve).h},s.and=function(ve){for(var re=Math.max(this.g.length,ve.g.length),he=[],Te=0;Te<re;Te++)he[Te]=this.i(Te)&ve.i(Te);return new h(he,this.h&ve.h)},s.or=function(ve){for(var re=Math.max(this.g.length,ve.g.length),he=[],Te=0;Te<re;Te++)he[Te]=this.i(Te)|ve.i(Te);return new h(he,this.h|ve.h)},s.xor=function(ve){for(var re=Math.max(this.g.length,ve.g.length),he=[],Te=0;Te<re;Te++)he[Te]=this.i(Te)^ve.i(Te);return new h(he,this.h^ve.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Lc=Ev.Md5=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=D,h.fromString=function P(ve,re){if(0==ve.length)throw Error("number format error: empty string");if(2>(re=re||10)||36<re)throw Error("radix out of range: "+re);if("-"==ve.charAt(0))return ut(P(ve.substring(1),re));if(0<=ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var he=D(Math.pow(re,8)),Te=x,Ae=0;Ae<ve.length;Ae+=8){var ke=Math.min(8,ve.length-Ae),de=parseInt(ve.substring(Ae,Ae+ke),re);8>ke?(ke=D(Math.pow(re,ke)),Te=Te.j(ke).add(D(de))):Te=(Te=Te.j(he)).add(D(de))}return Te},$n=Ev.Integer=h}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});var Jl,Yh,uD,Ca,Iv,Fc,cD,Tv,Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={};(function(){var s,e="function"==typeof Object.defineProperties?Object.defineProperty:function(p,w,R){return p==Array.prototype||p==Object.prototype||(p[w]=R.value),p},o=function n(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Aa&&Aa];for(var w=0;w<p.length;++w){var R=p[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}(this);!function u(p,w){if(w)e:{var R=o;p=p.split(".");for(var j=0;j<p.length-1;j++){var Se=p[j];if(!(Se in R))break e;R=R[Se]}(w=w(j=R[p=p[p.length-1]]))!=j&&null!=w&&e(R,p,{configurable:!0,writable:!0,value:w})}}("Array.prototype.values",function(p){return p||function(){return function l(p,w){p instanceof String&&(p+="");var R=0,j=!1,Se={next:function(){if(!j&&R<p.length){var ze=R++;return{value:w(ze,p[ze]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}(this,function(w,R){return R})}});var h=h||{},g=this||self;function E(p){var w=typeof p;return"array"==(w="object"!=w?w:p?Array.isArray(p)?"array":w:"null")||"object"==w&&"number"==typeof p.length}function D(p){var w=typeof p;return"object"==w&&null!=p||"function"==w}function P(p,w,R){return p.call.apply(p.bind,arguments)}function x(p,w,R){if(!p)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,j),p.apply(w,Se)}}return function(){return p.apply(w,arguments)}}function Y(p,w,R){return(Y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:x).apply(null,arguments)}function we(p,w){var R=Array.prototype.slice.call(arguments,1);return function(){var j=R.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function qe(p,w){function R(){}R.prototype=w.prototype,p.aa=w.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(j,Se,ze){for(var It=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)It[Cr-2]=arguments[Cr];return w.prototype[Se].apply(j,It)}}function ht(p){const w=p.length;if(0<w){const R=Array(w);for(let j=0;j<w;j++)R[j]=p[j];return R}return[]}function ut(p,w){for(let R=1;R<arguments.length;R++){const j=arguments[R];if(E(j)){const Se=p.length||0,ze=j.length||0;p.length=Se+ze;for(let It=0;It<ze;It++)p[Se+It]=j[It]}else p.push(j)}}function Jt(p){return/^[\s\xa0]*$/.test(p)}function Bt(){var p=g.navigator;return p&&(p=p.userAgent)?p:""}function hn(p){return hn[" "](p),p}hn[" "]=function(){};var Ln=!(-1==Bt().indexOf("Gecko")||-1!=Bt().toLowerCase().indexOf("webkit")&&-1==Bt().indexOf("Edge")||-1!=Bt().indexOf("Trident")||-1!=Bt().indexOf("MSIE")||-1!=Bt().indexOf("Edge"));function En(p,w,R){for(const j in p)w.call(R,p[j],j,p)}function re(p){const w={};for(const R in p)w[R]=p[R];return w}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(p,w){let R,j;for(let Se=1;Se<arguments.length;Se++){for(R in j=arguments[Se],j)p[R]=j[R];for(let ze=0;ze<he.length;ze++)R=he[ze],Object.prototype.hasOwnProperty.call(j,R)&&(p[R]=j[R])}}function Ae(p){var w=1;p=p.split(":");const R=[];for(;0<w&&p.length;)R.push(p.shift()),w--;return p.length&&R.push(p.join(":")),R}function ke(p){g.setTimeout(()=>{throw p},0)}function de(){var p=$_;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}var ih=new class zt{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}(()=>new wC,p=>p.reset());class wC{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let oh,sh=!1,$_=new class Os{constructor(){this.h=this.g=null}add(w,R){const j=ih.get();j.set(w,R),this.h?this.h.next=j:this.g=j,this.h=j}},TT=()=>{const p=g.Promise.resolve(void 0);oh=()=>{p.then(DC)}};var DC=()=>{for(var p;p=de();){try{p.h.call(p.g)}catch(R){ke(R)}var w=ih;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}sh=!1};function qa(){this.s=this.s,this.C=this.C}function Ki(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}qa.prototype.s=!1,qa.prototype.ma=function(){this.s||(this.s=!0,this.N())},qa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ki.prototype.h=function(){this.defaultPrevented=!0};var JP=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};g.addEventListener("test",R,w),g.removeEventListener("test",R,w)}catch{}return p}();function ah(p,w){if(Ki.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(Ln){e:{try{hn(w.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(w=null)}}else"mouseover"==R?w=p.fromElement:"mouseout"==R&&(w=p.toElement);this.relatedTarget=w,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:AC[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ah.aa.h.call(this)}}qe(ah,Ki);var AC={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Op="closure_listenable_"+(1e6*Math.random()|0),eM=0;function tM(p,w,R,j,Se){this.listener=p,this.proxy=null,this.src=w,this.type=R,this.capture=!!j,this.ha=Se,this.key=++eM,this.da=this.fa=!1}function uh(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Lp(p){this.src=p,this.g={},this.h=0}function wT(p,w){var R=w.type;if(R in p.g){var ze,j=p.g[R],Se=Array.prototype.indexOf.call(j,w,void 0);(ze=0<=Se)&&Array.prototype.splice.call(j,Se,1),ze&&(uh(w),0==p.g[R].length&&(delete p.g[R],p.h--))}}function DT(p,w,R,j){for(var Se=0;Se<p.length;++Se){var ze=p[Se];if(!ze.da&&ze.listener==w&&ze.capture==!!R&&ze.ha==j)return Se}return-1}Lp.prototype.add=function(p,w,R,j,Se){var ze=p.toString();(p=this.g[ze])||(p=this.g[ze]=[],this.h++);var It=DT(p,w,j,Se);return-1<It?(w=p[It],R||(w.fa=!1)):((w=new tM(w,this.src,ze,!!j,Se)).fa=R,p.push(w)),w};var AT="closure_lm_"+(1e6*Math.random()|0),CT={};function CC(p,w,R,j,Se){if(j&&j.once)return SC(p,w,R,j,Se);if(Array.isArray(w)){for(var ze=0;ze<w.length;ze++)CC(p,w[ze],R,j,Se);return null}return R=G_(R),p&&p[Op]?p.K(w,R,D(j)?!!j.capture:!!j,Se):bC(p,w,R,!1,j,Se)}function bC(p,w,R,j,Se,ze){if(!w)throw Error("Invalid event type");var It=D(Se)?!!Se.capture:!!Se,Cr=z_(p);if(Cr||(p[AT]=Cr=new Lp(p)),(R=Cr.add(w,R,j,It,ze)).proxy)return R;if(j=function nM(){const w=PC;return function p(R){return w.call(p.src,p.listener,R)}}(),R.proxy=j,j.src=p,j.listener=R,p.addEventListener)JP||(Se=It),void 0===Se&&(Se=!1),p.addEventListener(w.toString(),j,Se);else if(p.attachEvent)p.attachEvent(bT(w.toString()),j);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(j)}return R}function SC(p,w,R,j,Se){if(Array.isArray(w)){for(var ze=0;ze<w.length;ze++)SC(p,w[ze],R,j,Se);return null}return R=G_(R),p&&p[Op]?p.L(w,R,D(j)?!!j.capture:!!j,Se):bC(p,w,R,!0,j,Se)}function RC(p,w,R,j,Se){if(Array.isArray(w))for(var ze=0;ze<w.length;ze++)RC(p,w[ze],R,j,Se);else j=D(j)?!!j.capture:!!j,R=G_(R),p&&p[Op]?(p=p.i,(w=String(w).toString())in p.g&&-1<(R=DT(ze=p.g[w],R,j,Se))&&(uh(ze[R]),Array.prototype.splice.call(ze,R,1),0==ze.length&&(delete p.g[w],p.h--))):p&&(p=z_(p))&&(w=p.g[w.toString()],p=-1,w&&(p=DT(w,R,j,Se)),(R=-1<p?w[p]:null)&&H_(R))}function H_(p){if("number"!=typeof p&&p&&!p.da){var w=p.src;if(w&&w[Op])wT(w.i,p);else{var R=p.type,j=p.proxy;w.removeEventListener?w.removeEventListener(R,j,p.capture):w.detachEvent?w.detachEvent(bT(R),j):w.addListener&&w.removeListener&&w.removeListener(j),(R=z_(w))?(wT(R,p),0==R.h&&(R.src=null,w[AT]=null)):uh(p)}}}function bT(p){return p in CT?CT[p]:CT[p]="on"+p}function PC(p,w){if(p.da)p=!0;else{w=new ah(w,this);var R=p.listener,j=p.ha||p.src;p.fa&&H_(p),p=R.call(j,w)}return p}function z_(p){return(p=p[AT])instanceof Lp?p:null}var W_="__closure_events_fn_"+(1e9*Math.random()>>>0);function G_(p){return"function"==typeof p?p:(p[W_]||(p[W_]=function(w){return p.handleEvent(w)}),p[W_])}function Qi(){qa.call(this),this.i=new Lp(this),this.M=this,this.F=null}function io(p,w){var R,j=p.F;if(j)for(R=[];j;j=j.F)R.push(j);if(p=p.M,j=w.type||w,"string"==typeof w)w=new Ki(w,p);else if(w instanceof Ki)w.target=w.target||p;else{var Se=w;Te(w=new Ki(j,p),Se)}if(Se=!0,R)for(var ze=R.length-1;0<=ze;ze--){var It=w.g=R[ze];Se=Fp(It,j,!0,w)&&Se}if(Se=Fp(It=w.g=p,j,!0,w)&&Se,Se=Fp(It,j,!1,w)&&Se,R)for(ze=0;ze<R.length;ze++)Se=Fp(It=w.g=R[ze],j,!1,w)&&Se}function Fp(p,w,R,j){if(!(w=p.i.g[String(w)]))return!0;w=w.concat();for(var Se=!0,ze=0;ze<w.length;++ze){var It=w[ze];if(It&&!It.da&&It.capture==R){var Cr=It.listener,Di=It.ha||It.src;It.fa&&wT(p.i,It),Se=!1!==Cr.call(Di,j)&&Se}}return Se&&!j.defaultPrevented}function ST(p,w,R){if("function"==typeof p)R&&(p=Y(p,R));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=Y(p.handleEvent,p)}return 2147483647<Number(w)?-1:g.setTimeout(p,w||0)}function RT(p){p.g=ST(()=>{p.g=null,p.i&&(p.i=!1,RT(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}qe(Qi,qa),Qi.prototype[Op]=!0,Qi.prototype.removeEventListener=function(p,w,R,j){RC(this,p,w,R,j)},Qi.prototype.N=function(){if(Qi.aa.N.call(this),this.i){var w,p=this.i;for(w in p.g){for(var R=p.g[w],j=0;j<R.length;j++)uh(R[j]);delete p.g[w],p.h--}}this.F=null},Qi.prototype.K=function(p,w,R,j){return this.i.add(String(p),w,!1,R,j)},Qi.prototype.L=function(p,w,R,j){return this.i.add(String(p),w,!0,R,j)};class rM extends qa{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:RT(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vp(p){qa.call(this),this.h=p,this.g={}}qe(Vp,qa);var q_=[];function Up(p){En(p.g,function(w,R){this.g.hasOwnProperty(R)&&H_(w)},p),p.g={}}Vp.prototype.N=function(){Vp.aa.N.call(this),Up(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bp=g.JSON.stringify,PT=g.JSON.parse,MC=class{stringify(p){return g.JSON.stringify(p,void 0)}parse(p){return g.JSON.parse(p,void 0)}};function K_(){}function NT(){}K_.prototype.h=null;var ch={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Q_(){Ki.call(this,"d")}function Ls(){Ki.call(this,"c")}qe(Q_,Ki),qe(Ls,Ki);var Ka={},kT=null;function lh(){return kT=kT||new Qi}function xT(p){Ki.call(this,Ka.La,p)}function dh(p){const w=lh();io(w,new xT(w))}function NC(p,w){Ki.call(this,Ka.STAT_EVENT,p),this.stat=w}function fo(p){const w=lh();io(w,new NC(w,p))}function kC(p,w){Ki.call(this,Ka.Ma,p),this.size=w}function jp(p,w){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){p()},w)}function Sl(){this.g=!0}function sc(p,w,R,j){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+function oM(p,w){if(!p.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R)for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var j=R[p];if(!(2>j.length)){var Se=j[1];if(Array.isArray(Se)&&!(1>Se.length)){var ze=Se[0];if("noop"!=ze&&"stop"!=ze&&"close"!=ze)for(var It=1;It<Se.length;It++)Se[It]=""}}}return Bp(R)}catch{return w}}(p,R)+(j?" "+j:"")})}Ka.La="serverreachability",qe(xT,Ki),Ka.STAT_EVENT="statevent",qe(NC,Ki),Ka.Ma="timingevent",qe(kC,Ki),Sl.prototype.xa=function(){this.g=!1},Sl.prototype.info=function(){};var X_,hh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Z_(){}function ac(p,w,R,j){this.j=p,this.i=w,this.l=R,this.R=j||1,this.U=new Vp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LC}function LC(){this.i=null,this.g="",this.h=!1}qe(Z_,K_),Z_.prototype.g=function(){return new XMLHttpRequest},Z_.prototype.i=function(){return{}},X_=new Z_;var $p={},Y_={};function J_(p,w,R){p.L=1,p.v=ry(Qa(w)),p.m=R,p.P=!0,LT(p,null)}function LT(p,w){p.F=Date.now(),ey(p),p.A=Qa(p.v);var R=p.A,j=p.R;Array.isArray(j)||(j=[String(j)]),fh(R.i,"t",j),p.C=0,R=p.j.J,p.h=new LC,p.g=wM(p.j,R?w:null,!p.m),0<p.O&&(p.M=new rM(Y(p.Y,p,p.g),p.O)),w=p.U,R=p.g,j=p.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(q_[0]=Se.toString()),Se=q_);for(var ze=0;ze<Se.length;ze++){var It=CC(R,Se[ze],j||w.handleEvent,!1,w.h||w);if(!It)break;w.g[It.key]=It}w=p.H?re(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),dh(),function OT(p,w,R,j,Se,ze){p.info(function(){if(p.g)if(ze)for(var It="",Cr=ze.split("&"),Di=0;Di<Cr.length;Di++){var Yn=Cr[Di].split("=");if(1<Yn.length){var Xi=Yn[0];Yn=Yn[1];var xi=Xi.split("_");It=2<=xi.length&&"type"==xi[1]?It+(Xi+"=")+Yn+"&":It+(Xi+"=redacted&")}}else It=null;else It=ze;return"XMLHTTP REQ ("+j+") [attempt "+Se+"]: "+w+"\n"+R+"\n"+It})}(p.i,p.u,p.A,p.l,p.R,p.m)}function FC(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function sM(p,w){var R=p.C,j=w.indexOf("\n",R);return-1==j?Y_:(R=Number(w.substring(R,j)),isNaN(R)?$p:(j+=1)+R>w.length?Y_:(w=w.slice(j,j+R),p.C=j+R,w))}function ey(p){p.S=Date.now()+p.I,VC(p,p.I)}function VC(p,w){if(null!=p.B)throw Error("WatchDog timer not null");p.B=jp(Y(p.ba,p),w)}function FT(p){p.B&&(g.clearTimeout(p.B),p.B=null)}function Hp(p){0==p.j.G||p.J||vM(p.j,p)}function Rl(p){FT(p);var w=p.M;w&&"function"==typeof w.ma&&w.ma(),p.M=null,Up(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function VT(p,w){try{var R=p.j;if(0!=R.G&&(R.g==p||ty(R.h,p)))if(!p.K&&ty(R.h,p)&&3==R.G){try{var j=R.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&3==j.length){var Se=j;if(0==Se[0]){e:if(!R.u){if(R.g){if(!(R.g.F+3e3<p.F))break e;Xp(R),uy(R)}ZT(R),fo(18)}}else R.za=Se[1],0<R.za-R.T&&37500>Se[2]&&R.F&&0==R.v&&!R.C&&(R.C=jp(Y(R.Za,R),6e3));if(1>=jT(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else mh(R,11)}else if((p.K||R.g==p)&&Xp(R),!Jt(w))for(Se=R.Da.g.parse(w),w=0;w<Se.length;w++){let Yn=Se[w];if(R.T=Yn[0],Yn=Yn[1],2==R.G)if("c"==Yn[0]){R.K=Yn[1],R.ia=Yn[2];const Xi=Yn[3];null!=Xi&&(R.la=Xi,R.j.info("VER="+R.la));const xi=Yn[4];null!=xi&&(R.Aa=xi,R.j.info("SVER="+R.Aa));const kl=Yn[5];null!=kl&&"number"==typeof kl&&0<kl&&(R.L=j=1.5*kl,R.j.info("backChannelRequestTimeoutMs_="+j)),j=R;const ua=p.g;if(ua){const fc=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var ze=j.h;ze.g||-1==fc.indexOf("spdy")&&-1==fc.indexOf("quic")&&-1==fc.indexOf("h2")||(ze.j=ze.l,ze.g=new Set,ze.h&&(ny(ze,ze.h),ze.h=null))}if(j.D){const eb=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;eb&&(j.ya=eb,Nr(j.I,j.D,eb))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms"));var It=p;if((j=R).qa=TM(j,j.J?j.ia:null,j.W),It.K){$T(j.h,It);var Cr=It,Di=j.L;Di&&(Cr.I=Di),Cr.B&&(FT(Cr),ey(Cr)),j.g=It}else XT(j);0<R.i.length&&Qp(R)}else"stop"!=Yn[0]&&"close"!=Yn[0]||mh(R,7);else 3==R.G&&("stop"==Yn[0]||"close"==Yn[0]?"stop"==Yn[0]?mh(R,7):ay(R):"noop"!=Yn[0]&&R.l&&R.l.ta(Yn),R.v=0)}dh()}catch{}}ac.prototype.ca=function(p){p=p.target;const w=this.M;w&&3==Xa(p)?w.j():this.Y(p)},ac.prototype.Y=function(p){try{if(p==this.g)e:{const xi=Xa(this.g);var w=this.g.Ba();if(this.g.Z(),!(3>xi)&&(3!=xi||this.g&&(this.h.h||this.g.oa()||GT(this.g)))){this.J||4!=xi||7==w||dh(),FT(this);var R=this.g.Z();this.X=R;t:if(FC(this)){var j=GT(this.g);p="";var Se=j.length,ze=4==Xa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rl(this),Hp(this);var It="";break t}this.h.i=new g.TextDecoder}for(w=0;w<Se;w++)this.h.h=!0,p+=this.h.i.decode(j[w],{stream:!(ze&&w==Se-1)});j.length=0,this.h.g+=p,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=200==R,function xC(p,w,R,j,Se,ze,It){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Se+"]: "+w+"\n"+R+"\n"+ze+" "+It})}(this.i,this.u,this.A,this.l,this.R,xi,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,Di=this.g;if((Cr=Di.g?Di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jt(Cr)){var Yn=Cr;break t}}Yn=null}if(!(R=Yn)){this.o=!1,this.s=3,fo(12),Rl(this),Hp(this);break e}sc(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VT(this,R)}if(this.P){let ua;for(R=!0;!this.J&&this.C<It.length;){if(ua=sM(this,It),ua==Y_){4==xi&&(this.s=4,fo(14),R=!1),sc(this.i,this.l,null,"[Incomplete Response]");break}if(ua==$p){this.s=4,fo(15),sc(this.i,this.l,It,"[Invalid Chunk]"),R=!1;break}sc(this.i,this.l,ua,null),VT(this,ua)}if(FC(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=xi||0!=It.length||this.h.h||(this.s=1,fo(16),R=!1),this.o=this.o&&R,R){if(0<It.length&&!this.W){this.W=!0;var Xi=this.j;Xi.g==this&&Xi.ba&&!Xi.M&&(Xi.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),YT(Xi),Xi.M=!0,fo(11))}}else sc(this.i,this.l,It,"[Invalid Chunked Response]"),Rl(this),Hp(this)}else sc(this.i,this.l,It,null),VT(this,It);4==xi&&Rl(this),this.o&&!this.J&&(4==xi?vM(this.j,this):(this.o=!1,ey(this)))}else(function XC(p){const w={};p=(p.g&&2<=Xa(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<p.length;j++){if(Jt(p[j]))continue;var R=Ae(p[j]);const Se=R[0];if("string"!=typeof(R=R[1]))continue;R=R.trim();const ze=w[Se]||[];w[Se]=ze,ze.push(R)}!function ve(p,w){for(const R in p)w.call(void 0,p[R],R,p)}(w,function(j){return j.join(", ")})})(this.g),400==R&&0<It.indexOf("Unknown SID")?(this.s=3,fo(12)):(this.s=0,fo(13)),Rl(this),Hp(this)}}}catch{}},ac.prototype.cancel=function(){this.J=!0,Rl(this)},ac.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function iM(p,w){p.info(function(){return"TIMEOUT: "+w})}(this.i,this.A),2!=this.L&&(dh(),fo(17)),Rl(this),this.s=2,Hp(this)):VC(this,this.S-p)};var zp=class{constructor(p,w){this.g=p,this.map=w}};function UT(p){this.l=p||10,p=g.PerformanceNavigationTiming?0<(p=g.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BT(p){return!!p.h||!!p.g&&p.g.size>=p.j}function jT(p){return p.h?1:p.g?p.g.size:0}function ty(p,w){return p.h?p.h==w:!!p.g&&p.g.has(w)}function ny(p,w){p.g?p.g.add(w):p.h=w}function $T(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}function UC(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let w=p.i;for(const R of p.g.values())w=w.concat(R.D);return w}return ht(p.i)}function HT(p,w){if(p.forEach&&"function"==typeof p.forEach)p.forEach(w,void 0);else if(E(p)||"string"==typeof p)Array.prototype.forEach.call(p,w,void 0);else for(var R=function Nk(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(E(p)||"string"==typeof p){var w=[];p=p.length;for(var R=0;R<p;R++)w.push(R);return w}w=[],R=0;for(const j in p)w[R++]=j;return w}}}(p),j=function Mk(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(E(p)){for(var w=[],R=p.length,j=0;j<R;j++)w.push(p[j]);return w}for(j in w=[],R=0,p)w[R++]=p[j];return w}(p),Se=j.length,ze=0;ze<Se;ze++)w.call(void 0,j[ze],R&&R[ze],p)}UT.prototype.cancel=function(){if(this.i=UC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var BC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Pl){this.h=p.h,uc(this,p.j),this.o=p.o,this.g=p.g,Wp(this,p.s),this.l=p.l;var w=p.i,R=new aa;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),jC(this,R),this.m=p.m}else p&&(w=String(p).match(BC))?(this.h=!1,uc(this,w[1]||"",!0),this.o=Gp(w[2]||""),this.g=Gp(w[3]||"",!0),Wp(this,w[4]),this.l=Gp(w[5]||"",!0),jC(this,w[6]||"",!0),this.m=Gp(w[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}function Qa(p){return new Pl(p)}function uc(p,w,R){p.j=R?Gp(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Wp(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function jC(p,w,R){w instanceof aa?(p.i=w,function zT(p,w){w&&!p.j&&(lc(p),p.i=null,p.g.forEach(function(R,j){var Se=j.toLowerCase();j!=Se&&(zC(this,j),fh(this,Se,R))},p)),p.j=w}(p.i,p.h)):(R||(w=cc(w,lM)),p.i=new aa(w,p.h))}function Nr(p,w,R){p.i.set(w,R)}function ry(p){return Nr(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Gp(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function cc(p,w,R){return"string"==typeof p?(p=encodeURI(p).replace(w,uM),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function uM(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}Pl.prototype.toString=function(){var p=[],w=this.j;w&&p.push(cc(w,$C,!0),":");var R=this.g;return(R||"file"==w)&&(p.push("//"),(w=this.o)&&p.push(cc(w,$C,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(R=this.s)&&p.push(":",String(R))),(R=this.l)&&(this.g&&"/"!=R.charAt(0)&&p.push("/"),p.push(cc(R,"/"==R.charAt(0)?cM:HC,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",cc(R,po)),p.join("")};var $C=/[#\/\?@]/g,HC=/[#\?:]/g,cM=/[#\?]/g,lM=/[#\?@]/g,po=/#/g;function aa(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function lc(p){p.g||(p.g=new Map,p.h=0,p.i&&function aM(p,w){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var j=p[R].indexOf("="),Se=null;if(0<=j){var ze=p[R].substring(0,j);Se=p[R].substring(j+1)}else ze=p[R];w(ze,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}(p.i,function(w,R){p.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}function zC(p,w){lc(p),w=ph(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function dM(p,w){return lc(p),w=ph(p,w),p.g.has(w)}function fh(p,w,R){zC(p,w),0<R.length&&(p.i=null,p.g.set(ph(p,w),ht(R)),p.h+=R.length)}function ph(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function dc(p,w,R,j,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),j(R)}catch{}}function fM(){this.g=new MC}function pM(p,w,R){const j=R||"";try{HT(p,function(Se,ze){let It=Se;D(Se)&&(It=Bp(Se)),w.push(j+ze+"="+encodeURIComponent(It))})}catch(Se){throw w.push(j+"type="+encodeURIComponent("_badmap")),Se}}function Ml(p){this.l=p.Ub||null,this.j=p.eb||!1}function qp(p,w){Qi.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function GC(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function hc(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Nl(p)}function Nl(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function gM(p){let w="";return En(p,function(R,j){w+=j,w+=":",w+=R,w+="\r\n"}),w}function iy(p,w,R){e:{for(j in R){var j=!1;break e}j=!0}j||(R=gM(R),"string"==typeof p?null!=R&&encodeURIComponent(String(R)):Nr(p,w,R))}function ni(p){Qi.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(s=aa.prototype).add=function(p,w){lc(this),this.i=null,p=ph(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(w),this.h+=1,this},s.forEach=function(p,w){lc(this),this.g.forEach(function(R,j){R.forEach(function(Se){p.call(w,Se,j,this)},this)},this)},s.na=function(){lc(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let j=0;j<w.length;j++){const Se=p[j];for(let ze=0;ze<Se.length;ze++)R.push(w[j])}return R},s.V=function(p){lc(this);let w=[];if("string"==typeof p)dM(this,p)&&(w=w.concat(this.g.get(ph(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)w=w.concat(p[R])}return w},s.set=function(p,w){return lc(this),this.i=null,dM(this,p=ph(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},s.get=function(p,w){return p&&0<(p=this.V(p)).length?String(p[0]):w},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var j=w[R];const ze=encodeURIComponent(String(j)),It=this.V(j);for(j=0;j<It.length;j++){var Se=ze;""!==It[j]&&(Se+="="+encodeURIComponent(String(It[j]))),p.push(Se)}}return this.i=p.join("&")},qe(Ml,K_),Ml.prototype.g=function(){return new qp(this.l,this.j)},Ml.prototype.i=function(p){return function(){return p}}({}),qe(qp,Qi),(s=qp.prototype).open=function(p,w){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Nl(this)},s.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||g).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hc(this)),this.readyState=0},s.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GC(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},s.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?hc(this):Nl(this),3==this.readyState&&GC(this)}},s.Ra=function(p){this.g&&(this.response=this.responseText=p,hc(this))},s.Qa=function(p){this.g&&(this.response=p,hc(this))},s.ga=function(){this.g&&hc(this)},s.setRequestHeader=function(p,w){this.u.append(p,w)},s.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var R=w.next();!R.done;)p.push((R=R.value)[0]+": "+R[1]),R=w.next();return p.join("\r\n")},Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),qe(ni,Qi);var qC=/^https?$/i,KC=["POST","PUT"];function WT(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,oy(p),sy(p)}function oy(p){p.A||(p.A=!0,io(p,"complete"),io(p,"error"))}function mM(p){if(p.h&&typeof h<"u"&&(!p.v[1]||4!=Xa(p)||2!=p.Z()))if(p.u&&4==Xa(p))ST(p.Ea,0,p);else if(io(p,"readystatechange"),4==Xa(p)){p.h=!1;try{const It=p.Z();e:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var R;if(!(R=w)){var j;if(j=0===It){var Se=String(p.D).match(BC)[1]||null;!Se&&g.self&&g.self.location&&(Se=g.self.location.protocol.slice(0,-1)),j=!qC.test(Se?Se.toLowerCase():"")}R=j}if(R)io(p,"complete"),io(p,"success");else{p.m=6;try{var ze=2<Xa(p)?p.g.statusText:""}catch{ze=""}p.l=ze+" ["+p.Z()+"]",oy(p)}}finally{sy(p)}}}function sy(p,w){if(p.g){QC(p);const R=p.g,j=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||io(p,"ready");try{R.onreadystatechange=j}catch{}}}function QC(p){p.I&&(g.clearTimeout(p.I),p.I=null)}function Xa(p){return p.g?p.g.readyState:0}function GT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Kp(p,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||w}function qT(p){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kp("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kp("baseRetryDelayMs",5e3,p),this.cb=Kp("retryDelaySeedMs",1e4,p),this.Wa=Kp("forwardChannelMaxRetries",2,p),this.wa=Kp("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new UT(p&&p.concurrentRequestLimit),this.Da=new fM,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ay(p){if(ZC(p),3==p.G){var w=p.U++,R=Qa(p.I);if(Nr(R,"SID",p.K),Nr(R,"RID",w),Nr(R,"TYPE","terminate"),gh(p,R),(w=new ac(p,p.j,w)).L=2,w.v=ry(Qa(R)),R=!1,g.navigator&&g.navigator.sendBeacon)try{R=g.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&g.Image&&((new Image).src=w.v,R=!0),R||(w.g=wM(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ey(w)}IM(p)}function uy(p){p.g&&(YT(p),p.g.cancel(),p.g=null)}function ZC(p){uy(p),p.u&&(g.clearTimeout(p.u),p.u=null),Xp(p),p.h.cancel(),p.s&&("number"==typeof p.s&&g.clearTimeout(p.s),p.s=null)}function Qp(p){if(!BT(p.h)&&!p.s){p.s=!0;var w=p.Ga;oh||TT(),sh||(oh(),sh=!0),$_.add(w,p),p.B=0}}function KT(p,w){var R;R=w?w.l:p.U++;const j=Qa(p.I);Nr(j,"SID",p.K),Nr(j,"RID",R),Nr(j,"AID",p.T),gh(p,j),p.m&&p.o&&iy(j,p.m,p.o),R=new ac(p,p.j,R,p.B+1),null===p.m&&(R.H=p.o),w&&(p.i=w.D.concat(p.i)),w=QT(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ny(p.h,R),J_(R,j,w)}function gh(p,w){p.H&&En(p.H,function(R,j){Nr(w,j,R)}),p.l&&HT({},function(R,j){Nr(w,j,R)})}function QT(p,w,R){R=Math.min(p.i.length,R);var j=p.l?Y(p.l.Na,p.l,p):null;e:{var Se=p.i;let ze=-1;for(;;){const It=["count="+R];-1==ze?0<R?(ze=Se[0].g,It.push("ofs="+ze)):ze=0:It.push("ofs="+ze);let Cr=!0;for(let Di=0;Di<R;Di++){let Yn=Se[Di].g;const Xi=Se[Di].map;if(Yn-=ze,0>Yn)ze=Math.max(0,Se[Di].g-100),Cr=!1;else try{pM(Xi,It,"req"+Yn+"_")}catch{j&&j(Xi)}}if(Cr){j=It.join("&");break e}}}return p=p.i.splice(0,R),w.D=p,j}function XT(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;oh||TT(),sh||(oh(),sh=!0),$_.add(w,p),p.v=0}}function ZT(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=jp(Y(p.Fa,p),EM(p,p.v)),p.v++,0))}function YT(p){null!=p.A&&(g.clearTimeout(p.A),p.A=null)}function yM(p){p.g=new ac(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var w=Qa(p.qa);Nr(w,"RID","rpc"),Nr(w,"SID",p.K),Nr(w,"AID",p.T),Nr(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&Nr(w,"TO",p.ja),Nr(w,"TYPE","xmlhttp"),gh(p,w),p.m&&p.o&&iy(w,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=ry(Qa(w)),R.m=null,R.P=!0,LT(R,p)}function Xp(p){null!=p.C&&(g.clearTimeout(p.C),p.C=null)}function vM(p,w){var R=null;if(p.g==w){Xp(p),YT(p),p.g=null;var j=2}else{if(!ty(p.h,w))return;R=w.D,$T(p.h,w),j=1}if(0!=p.G)if(w.o)if(1==j){R=w.m?w.m.length:0,w=Date.now()-w.F;var Se=p.B;io(j=lh(),new kC(j,R)),Qp(p)}else XT(p);else if(3==(Se=w.s)||0==Se&&0<w.X||!(1==j&&function _M(p,w){return!(jT(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=w.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=jp(Y(p.Ga,p,w),EM(p,p.B)),p.B++,0)))}(p,w)||2==j&&ZT(p)))switch(R&&0<R.length&&(w=p.h,w.i=w.i.concat(R)),Se){case 1:mh(p,5);break;case 4:mh(p,10);break;case 3:mh(p,6);break;default:mh(p,2)}}function EM(p,w){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*w}function mh(p,w){if(p.j.info("Error code "+w),2==w){var R=Y(p.fb,p),j=p.Xa;const Se=!j;j=new Pl(j||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||uc(j,"https"),ry(j),Se?function hM(p,w){const R=new Sl;if(g.Image){const j=new Image;j.onload=we(dc,R,"TestLoadImage: loaded",!0,w,j),j.onerror=we(dc,R,"TestLoadImage: error",!1,w,j),j.onabort=we(dc,R,"TestLoadImage: abort",!1,w,j),j.ontimeout=we(dc,R,"TestLoadImage: timeout",!1,w,j),g.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else w(!1)}(j.toString(),R):function WC(p,w){new Sl;const j=new AbortController,Se=setTimeout(()=>{j.abort(),dc(0,0,!1,w)},1e4);fetch(p,{signal:j.signal}).then(ze=>{clearTimeout(Se),dc(0,0,!!ze.ok,w)}).catch(()=>{clearTimeout(Se),dc(0,0,!1,w)})}(j.toString(),R)}else fo(2);p.G=0,p.l&&p.l.sa(w),IM(p),ZC(p)}function IM(p){if(p.G=0,p.ka=[],p.l){const w=UC(p.h);(0!=w.length||0!=p.i.length)&&(ut(p.ka,w),ut(p.ka,p.i),p.h.i.length=0,ht(p.i),p.i.length=0),p.l.ra()}}function TM(p,w,R){var j=R instanceof Pl?Qa(R):new Pl(R);if(""!=j.g)w&&(j.g=w+"."+j.g),Wp(j,j.s);else{var Se=g.location;j=Se.protocol,w=w?w+"."+Se.hostname:Se.hostname,Se=+Se.port;var ze=new Pl(null);j&&uc(ze,j),w&&(ze.g=w),Se&&Wp(ze,Se),R&&(ze.l=R),j=ze}return w=p.ya,(R=p.D)&&w&&Nr(j,R,w),Nr(j,"VER",p.la),gh(p,j),j}function wM(p,w,R){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new ni(p.Ca&&!p.pa?new Ml({eb:R}):p.pa)).Ha(p.J),w}function DM(){}function JT(){}function Ao(p,w){Qi.call(this),this.g=new qT(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!Jt(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!Jt(w)&&(this.g.D=w,null!==(p=this.h)&&w in p&&w in(p=this.h)&&delete p[w]),this.j=new _h(this)}function YC(p){Q_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const R in w){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,w=null!==w&&p in w?w[p]:void 0),this.data=w}else this.data=p}function JC(){Ls.call(this),this.status=1}function _h(p){this.g=p}(s=ni.prototype).Ha=function(p){this.J=p},s.ea=function(p,w,R,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():X_.g(),this.v=function MT(p){return p.h||(p.h=p.i())}(this.o?this.o:X_),this.g.onreadystatechange=Y(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ze){return void WT(this,ze)}if(p=R||"",R=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Se in j)R.set(Se,j[Se]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const ze of j.keys())R.set(ze,j.get(ze))}j=Array.from(R.keys()).find(ze=>"content-type"==ze.toLowerCase()),Se=g.FormData&&p instanceof g.FormData,!(0<=Array.prototype.indexOf.call(KC,w,void 0))||j||Se||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ze,It]of R)this.g.setRequestHeader(ze,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QC(this),this.u=!0,this.g.send(p),this.u=!1}catch(ze){WT(this,ze)}},s.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,io(this,"complete"),io(this,"abort"),sy(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sy(this,!0)),ni.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?mM(this):this.bb())},s.bb=function(){mM(this)},s.isActive=function(){return!!this.g},s.Z=function(){try{return 2<Xa(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&0==w.indexOf(p)&&(w=w.substring(p.length)),PT(w)}},s.Ba=function(){return this.m},s.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(s=qT.prototype).la=8,s.G=1,s.connect=function(p,w,R,j){fo(0),this.W=p,this.H=w||{},R&&void 0!==j&&(this.H.OSID=R,this.H.OAID=j),this.F=this.X,this.I=TM(this,null,this.W),Qp(this)},s.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Se=new ac(this,this.j,p);let ze=this.o;if(this.S&&(ze?(ze=re(ze),Te(ze,this.S)):ze=this.S),null!==this.m||this.O||(Se.H=ze,ze=null),this.P)e:{for(var w=0,R=0;R<this.i.length;R++){var j=this.i[R];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(w+=j)){w=R;break e}if(4096===w||R===this.i.length-1){w=R+1;break e}}w=1e3}else w=1e3;w=QT(this,Se,w),Nr(R=Qa(this.I),"RID",p),Nr(R,"CVER",22),this.D&&Nr(R,"X-HTTP-Session-Id",this.D),gh(this,R),ze&&(this.O?w="headers="+encodeURIComponent(String(gM(ze)))+"&"+w:this.m&&iy(R,this.m,ze)),ny(this.h,Se),this.Ua&&Nr(R,"TYPE","init"),this.P?(Nr(R,"$req",w),Nr(R,"SID","null"),Se.T=!0,J_(Se,R,null)):J_(Se,R,w),this.G=2}}else 3==this.G&&(p?KT(this,p):0==this.i.length||BT(this.h)||KT(this))},s.Fa=function(){if(this.u=null,yM(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=jp(Y(this.ab,this),p)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fo(10),uy(this),yM(this))},s.Za=function(){null!=this.C&&(this.C=null,uy(this),ZT(this),fo(19))},s.fb=function(p){p?(this.j.info("Successfully pinged google.com"),fo(2)):(this.j.info("Failed to ping google.com"),fo(1))},s.isActive=function(){return!!this.l&&this.l.isActive(this)},(s=DM.prototype).ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){},JT.prototype.g=function(p,w){return new Ao(p,w)},qe(Ao,Qi),Ao.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ao.prototype.close=function(){ay(this.g)},Ao.prototype.o=function(p){var w=this.g;if("string"==typeof p){var R={};R.__data__=p,p=R}else this.u&&((R={}).__data__=Bp(p),p=R);w.i.push(new zp(w.Ya++,p)),3==w.G&&Qp(w)},Ao.prototype.N=function(){this.g.l=null,delete this.j,ay(this.g),delete this.g,Ao.aa.N.call(this)},qe(YC,Q_),qe(JC,Ls),qe(_h,DM),_h.prototype.ua=function(){io(this.g,"a")},_h.prototype.ta=function(p){io(this.g,new YC(p))},_h.prototype.sa=function(p){io(this.g,new JC)},_h.prototype.ra=function(){io(this.g,"b")},JT.prototype.createWebChannel=JT.prototype.g,Ao.prototype.send=Ao.prototype.o,Ao.prototype.open=Ao.prototype.m,Ao.prototype.close=Ao.prototype.close,Tv=ji.createWebChannelTransport=function(){return new JT},cD=ji.getStatEventTarget=function(){return lh()},Fc=ji.Event=Ka,Iv=ji.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,Ca=ji.ErrorCode=hh,OC.COMPLETE="complete",uD=ji.EventType=OC,NT.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",Qi.prototype.listen=Qi.prototype.K,Yh=ji.WebChannel=NT,ji.FetchXmlHttpFactory=Ml,ni.prototype.listenOnce=ni.prototype.L,ni.prototype.getLastError=ni.prototype.Ka,ni.prototype.getLastErrorCode=ni.prototype.Ba,ni.prototype.getStatus=ni.prototype.Z,ni.prototype.getResponseJson=ni.prototype.Oa,ni.prototype.getResponseText=ni.prototype.oa,ni.prototype.send=ni.prototype.ea,ni.prototype.setWithCredentials=ni.prototype.Ha,Jl=ji.XhrIo=ni}).apply(typeof Aa<"u"?Aa:typeof self<"u"?self:typeof window<"u"?window:{});const ed="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let Vc="11.5.0";const Xo=new Ne.Vy("@firebase/firestore");function pi(){return Xo.logLevel}function tt(s,...e){if(Xo.logLevel<=Ne.$b.DEBUG){const n=e.map(ef);Xo.debug(`Firestore (${Vc}): ${s}`,...n)}}function ci(s,...e){if(Xo.logLevel<=Ne.$b.ERROR){const n=e.map(ef);Xo.error(`Firestore (${Vc}): ${s}`,...n)}}function Zo(s,...e){if(Xo.logLevel<=Ne.$b.WARN){const n=e.map(ef);Xo.warn(`Firestore (${Vc}): ${s}`,...n)}}function ef(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Lt(s="Unexpected state"){const e=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: `+s;throw ci(e),new Error(e)}function Gt(s,e){s||Lt()}function At(s,e){return s}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends te.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class tf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ti.UNAUTHENTICATED))}shutdown(){}}class Dv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class td{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;Gt(void 0===this.o);let u=this.i;const l=D=>this.i!==u?(u=this.i,n(D)):Promise.resolve();let h=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new $i,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const D=h;e.enqueueRetryable((0,O.A)(function*(){yield D.promise,yield l(o.currentUser)}))},E=D=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new $i)}},0),g()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Gt("string"==typeof o.accessToken),new tf(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new Ti(e)}}class Zg{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yg{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Zg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Av{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,Me.xZ)(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Gt(void 0===this.o);const o=l=>{null!=l.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,tt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wu(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt("string"==typeof n.token),this.R=n.token,new wu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}function Jg(){return new TextEncoder}class em{static newId(){const n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=dD(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function cn(s,e){return s<e?-1:s>e?1:0}function Cv(s,e){let n=0;for(;n<s.length&&n<e.length;){const o=s.codePointAt(n),u=e.codePointAt(n);if(o!==u){if(o<128&&u<128)return cn(o,u);{const l=Jg(),h=nf(l.encode(Uc(s,n)),l.encode(Uc(e,n)));return 0!==h?h:cn(o,u)}}n+=o>65535?2:1}return cn(s.length,e.length)}function Uc(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function nf(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return cn(s[n],e[n]);return cn(s.length,e.length)}function Bc(s,e,n){return s.length===e.length&&s.every((o,u)=>n(o,e[u]))}const bv=-62135596800;class Fr{static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Fr(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bv)throw new lt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-bv).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{static fromTimestamp(e){return new en(e)}static min(){return new en(new Fr(0,0))}static max(){return new en(new Fr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tm="__name__";class ki{constructor(e,n,o){void 0===n?n=0:n>e.length&&Lt(),void 0===o?o=e.length-n:o>e.length-n&&Lt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ki.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=ki.compareSegments(e.get(u),n.get(u));if(0!==l)return l}return cn(e.length,n.length)}static compareSegments(e,n){const o=ki.isNumericId(e),u=ki.isNumericId(n);return o&&!u?-1:!o&&u?1:o&&u?ki.extractNumericId(e).compare(ki.extractNumericId(n)):Cv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $n.fromString(e.substring(4,e.length-2))}}class xn extends ki{construct(e,n,o){return new xn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new lt(Be.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new xn(n)}static emptyPath(){return new xn([])}}const EN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends ki{construct(e,n,o){return new Tr(e,n,o)}static isValidIdentifier(e){return EN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===tm}static keyField(){return new Tr([tm])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new lt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let h=!1;for(;u<e.length;){const g=e[u];if("\\"===g){if(u+1===e.length)throw new lt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[u+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new lt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=E,u+=2}else"`"===g?(h=!h,u++):"."!==g||h?(o+=g,u++):(l(),u++)}if(l(),h)throw new lt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(xn.fromString(e))}static fromName(e){return new Pt(xn.fromString(e).popFirst(5))}static empty(){return new Pt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new xn(e.slice()))}}class Hi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Hi(en.min(),Pt.empty(),-1)}static max(){return new Hi(en.max(),Pt.empty(),-1)}}function nm(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=Pt.comparator(s.documentKey,e.documentKey),0!==n?n:cn(s.largestBatchId,e.largestBatchId))}class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hc(s){return _D.apply(this,arguments)}function _D(){return(_D=(0,O.A)(function*(s){if(s.code!==Be.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==s.message)throw s;tt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,o)=>{n(e)})}static reject(e){return new Re((n,o)=>{o(e)})}static waitFor(e){return new Re((n,o)=>{let u=0,l=0,h=!1;e.forEach(g=>{++u,g.next(()=>{++l,h&&l===u&&n()},E=>o(E))}),h=!0,l===u&&n()})}static or(e){let n=Re.resolve(!1);for(const o of e)n=n.next(u=>u?Re.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Re((o,u)=>{const l=e.length,h=new Array(l);let g=0;for(let E=0;E<l;E++){const D=E;n(e[D]).next(P=>{h[D]=P,++g,g===l&&o(h)},P=>u(P))}})}static doWhile(e,n){return new Re((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function zc(s){return"IndexedDbTransactionError"===s.name}let xo=(()=>{class s{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.oe(u),this._e=u=>o.writeSequenceNumber(u))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return s.ae=-1,s})();function af(s){return null==s}function uf(s){return 0===s&&1/s==-1/0}function mS(s,e){let n=e;const o=s.length;for(let u=0;u<o;u++){const l=s.charAt(u);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function ED(s){return s+"\x01\x01"}const qc="mutationQueues",Ts="mutations",ws="documentMutations",od="remoteDocumentGlobal",sd="targets",ad="targetDocuments",ud="targetGlobal",dm="collectionParents",df="clientMetadata",hm="bundles",fm="namedQueries";function zv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function bu(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Wv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wr{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new wr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Wi.RED,this.left=u??Wi.EMPTY,this.right=l??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Wi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Wi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new Wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cr(this.comparator);return n.data=e,n}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oo{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Oo([])}unionWith(e){let n=new cr(Tr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Oo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ld extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ld("Invalid base64 string: "+l):l}}(e);return new Jr(n)}static fromUint8Array(e){const n=function(u){let l="";for(let h=0;h<u.length;++h)l+=String.fromCharCode(u[h]);return l}(e);return new Jr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(Gt(!!s),"string"==typeof s){let e=0;const n=CS.exec(s);if(Gt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ur(s.seconds),nanos:Ur(s.nanos)}}function Ur(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ma(s){return"string"==typeof s?Jr.fromBase64String(s):Jr.fromUint8Array(s)}const kD="server_timestamp",xD="__type__",OD="__previous_value__",LD="__local_write_time__";function dd(s){var e,n;return(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{})[xD])||void 0===n?void 0:n.stringValue)===kD}function qv(s){const e=s.mapValue.fields[OD];return dd(e)?qv(e):e}function _m(s){const e=Zs(s.mapValue.fields[LD].timestampValue);return new Fr(e.seconds,e.nanos)}class Kv{constructor(e,n,o,u,l,h,g,E,D){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=E,this.useFetchStreams=D}}const ym="(default)";class hd{constructor(e,n){this.projectId=e,this.database=n||ym}static empty(){return new hd("","")}get isDefaultDatabase(){return this.database===ym}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}const FD="__type__",bS="__max__",Xc_mapValue={fields:{__type__:{stringValue:bS}}},Qv="__vector__",Na="value";function ka(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?dd(s)?4:eE(s)?9007199254740991:Jv(s)?10:11:Lt()}function Ds(s,e){if(s===e)return!0;const n=ka(s);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return _m(s).isEqual(_m(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const h=Zs(u.timestampValue),g=Zs(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,Ma(s.bytesValue).isEqual(Ma(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,l){return Ur(u.geoPointValue.latitude)===Ur(l.geoPointValue.latitude)&&Ur(u.geoPointValue.longitude)===Ur(l.geoPointValue.longitude)}(s,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return Ur(u.integerValue)===Ur(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const h=Ur(u.doubleValue),g=Ur(l.doubleValue);return h===g?uf(h)===uf(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return Bc(s.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return function(u,l){const h=u.mapValue.fields||{},g=l.mapValue.fields||{};if(zv(h)!==zv(g))return!1;for(const E in h)if(h.hasOwnProperty(E)&&(void 0===g[E]||!Ds(h[E],g[E])))return!1;return!0}(s,e);default:return Lt()}var l}function fd(s,e){return void 0!==(s.values||[]).find(n=>Ds(n,e))}function Su(s,e){if(s===e)return 0;const n=ka(s),o=ka(e);if(n!==o)return cn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(s.booleanValue,e.booleanValue);case 2:return function(l,h){const g=Ur(l.integerValue||l.doubleValue),E=Ur(h.integerValue||h.doubleValue);return g<E?-1:g>E?1:g===E?0:isNaN(g)?isNaN(E)?0:-1:1}(s,e);case 3:return VD(s.timestampValue,e.timestampValue);case 4:return VD(_m(s),_m(e));case 5:return Cv(s.stringValue,e.stringValue);case 6:return function(l,h){const g=Ma(l),E=Ma(h);return g.compareTo(E)}(s.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),E=h.split("/");for(let D=0;D<g.length&&D<E.length;D++){const P=cn(g[D],E[D]);if(0!==P)return P}return cn(g.length,E.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,h){const g=cn(Ur(l.latitude),Ur(h.latitude));return 0!==g?g:cn(Ur(l.longitude),Ur(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Xv(s.arrayValue,e.arrayValue);case 10:return function(l,h){var g,E,D,P;const we=null===(g=(l.fields||{})[Na])||void 0===g?void 0:g.arrayValue,qe=null===(E=(h.fields||{})[Na])||void 0===E?void 0:E.arrayValue,ht=cn((null===(D=we?.values)||void 0===D?void 0:D.length)||0,(null===(P=qe?.values)||void 0===P?void 0:P.length)||0);return 0!==ht?ht:Xv(we,qe)}(s.mapValue,e.mapValue);case 11:return function(l,h){if(l===Xc_mapValue&&h===Xc_mapValue)return 0;if(l===Xc_mapValue)return 1;if(h===Xc_mapValue)return-1;const g=l.fields||{},E=Object.keys(g),D=h.fields||{},P=Object.keys(D);E.sort(),P.sort();for(let x=0;x<E.length&&x<P.length;++x){const Y=Cv(E[x],P[x]);if(0!==Y)return Y;const we=Su(g[E[x]],D[P[x]]);if(0!==we)return we}return cn(E.length,P.length)}(s.mapValue,e.mapValue);default:throw Lt()}}function VD(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return cn(s,e);const n=Zs(s),o=Zs(e),u=cn(n.seconds,o.seconds);return 0!==u?u:cn(n.nanos,o.nanos)}function Xv(s,e){const n=s.values||[],o=e.values||[];for(let u=0;u<n.length&&u<o.length;++u){const l=Su(n[u],o[u]);if(l)return l}return cn(n.length,o.length)}function As(s){return Jo(s)}function Jo(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const o=Zs(n);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ma(s.bytesValue).toBase64():"referenceValue"in s?Pt.fromName(s.referenceValue).toString():"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=Jo(l);return o+"]"}(s.arrayValue):"mapValue"in s?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const h of o)l?l=!1:u+=",",u+=`${h}:${Jo(n.fields[h])}`;return u+"}"}(s.mapValue):Lt()}function gf(s){switch(ka(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qv(s);return e?16+gf(e):16;case 5:return 2*s.stringValue.length;case 6:return Ma(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(s.arrayValue.values||[]).reduce((u,l)=>u+gf(l),0);case 10:case 11:return function(o){let u=0;return bu(o.fields,(l,h)=>{u+=l.length+gf(h)}),u}(s.mapValue);default:throw Lt()}}function pd(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Zv(s){return!!s&&"integerValue"in s}function vm(s){return!!s&&"arrayValue"in s}function SS(s){return!!s&&"nullValue"in s}function Yv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mf(s){return!!s&&"mapValue"in s}function Jv(s){var e,n;return(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{})[FD])||void 0===n?void 0:n.stringValue)===Qv}function _f(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return bu(s.mapValue.fields,(n,o)=>e.mapValue.fields[n]=_f(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(s.arrayValue.values[n]);return e}return Object.assign({},s)}function eE(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bS}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(n)}setAll(e){let n=Tr.emptyPath(),o={},u=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const E=this.getFieldsMap(n);this.applyChanges(E,o,u),o={},u=[],n=g.popLast()}h?o[g.lastSegment()]=_f(h):u.push(g.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];mf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){bu(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Gi(_f(this.value))}}function nE(s){const e=[];return bu(s.fields,(n,o)=>{const u=new Tr([n]);if(mf(o)){const l=nE(o.mapValue).fields;if(0===l.length)e.push(u);else for(const h of l)e.push(u.child(h))}else e.push(u)}),new Oo(e)}class Pr{constructor(e,n,o,u,l,h,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Pr(e,0,en.min(),en.min(),en.min(),Gi.empty(),0)}static newFoundDocument(e,n,o,u){return new Pr(e,1,n,en.min(),o,u,0)}static newNoDocument(e,n){return new Pr(e,2,n,en.min(),en.min(),Gi.empty(),0)}static newUnknownDocument(e,n){return new Pr(e,3,n,en.min(),en.min(),Gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(en.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function jD(s,e,n){let o=0;for(let u=0;u<s.position.length;u++){const l=e[u],h=s.position[u];if(o=l.field.isKeyField()?Pt.comparator(Pt.fromName(h.referenceValue),n.key):Su(h,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function $D(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ds(s.position[n],e.position[n]))return!1;return!0}class gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function PS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class HD{}class On extends HD{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new zD(e,n,o):"array-contains"===n?new sE(e,o):"in"===n?new WD(e,o):"not-in"===n?new GD(e,o):"array-contains-any"===n?new Im(e,o):new On(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new MS(e,o):new NS(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Su(n,this.value)):null!==n&&ka(this.value)===ka(n)&&this.matchesComparison(Su(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends HD{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new xt(e,n)}matches(e){return Pu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Pu(s){return"and"===s.op}function yf(s){return function vf(s){for(const e of s.filters)if(e instanceof xt)return!1;return!0}(s)&&Pu(s)}function xa(s){if(s instanceof On)return s.field.canonicalString()+s.op.toString()+As(s.value);if(yf(s))return s.filters.map(e=>xa(e)).join(",");{const e=s.filters.map(n=>xa(n)).join(",");return`${s.op}(${e})`}}function rE(s,e){return s instanceof On?(o=s,(u=e)instanceof On&&o.op===u.op&&o.field.isEqual(u.field)&&Ds(o.value,u.value)):s instanceof xt?function(o,u){return u instanceof xt&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,h,g)=>l&&rE(h,u.filters[g]),!0)}(s,e):void Lt();var o,u}function md(s){return s instanceof On?`${(n=s).field.canonicalString()} ${n.op} ${As(n.value)}`:s instanceof xt?function(n){return n.op.toString()+" {"+n.getFilters().map(md).join(" ,")+"}"}(s):"Filter";var n}class zD extends On{constructor(e,n,o){super(e,n,o),this.key=Pt.fromName(o.referenceValue)}matches(e){const n=Pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class MS extends On{constructor(e,n){super(e,"in",n),this.keys=oE(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NS extends On{constructor(e,n){super(e,"not-in",n),this.keys=oE(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oE(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Pt.fromName(o.referenceValue))}class sE extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vm(n)&&fd(n.arrayValue,this.value)}}class WD extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&fd(this.value.arrayValue,n)}}class GD extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!fd(this.value.arrayValue,n)}}class Im extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>fd(this.value.arrayValue,o))}}class kS{constructor(e,n=null,o=[],u=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=h,this.endAt=g,this.le=null}}function Ef(s,e=null,n=[],o=[],u=null,l=null,h=null){return new kS(s,e,n,o,u,l,h)}function Cs(s){const e=At(s);if(null===e.le){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>xa(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>As(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>As(o)).join(",")),e.le=n}return e.le}function Yc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!PS(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!rE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!$D(s.startAt,e.startAt)&&$D(s.endAt,e.endAt)}function If(s){return Pt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Ys{constructor(e,n=null,o=[],u=[],l=null,h="F",g=null,E=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=E,this.he=null,this.Pe=null,this.Te=null}}function Mu(s){return new Ys(s)}function qD(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function aE(s){return null!==s.collectionGroup}function Jc(s){const e=At(s);if(null===e.he){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new cr(Tr.comparator);return h.filters.forEach(E=>{E.getFlattenedFilters().forEach(D=>{D.isInequality()&&(g=g.add(D.field))})}),g})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new gd(l,o))}),n.has(Tr.keyField().canonicalString())||e.he.push(new gd(Tr.keyField(),o))}return e.he}function to(s){const e=At(s);return e.Pe||(e.Pe=function QD(s,e){if("F"===s.limitType)return Ef(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>new gd(u.field,"desc"===u.dir?"asc":"desc"));const n=s.endAt?new Ru(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Ru(s.startAt.position,s.startAt.inclusive):null;return Ef(s.path,s.collectionGroup,e,s.filters,s.limit,n,o)}}(e,Jc(s))),e.Pe}function no(s,e){const n=s.filters.concat([e]);return new Ys(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function wm(s,e,n){return new Ys(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function _d(s,e){return Yc(to(s),to(e))&&s.limitType===e.limitType}function xS(s){return`${Cs(to(s))}|lt:${s.limitType}`}function yd(s){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>md(u)).join(", ")}]`),af(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(h=u).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>As(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>As(u)).join(",")),`Target(${o})`}(to(s))}; limitType=${s.limitType})`}function Af(s,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Pt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(s,e)&&function(o,u){for(const l of Jc(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(s,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(s,e)&&(u=e,!((o=s).startAt&&!function(h,g,E){const D=jD(h,g,E);return h.inclusive?D<=0:D<0}(o.startAt,Jc(o),u)||o.endAt&&!function(h,g,E){const D=jD(h,g,E);return h.inclusive?D>=0:D>0}(o.endAt,Jc(o),u)));var o,u}function Dm(s){return(e,n)=>{let o=!1;for(const u of Jc(s)){const l=Js(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Js(s,e,n){const o=s.field.isKeyField()?Pt.comparator(e.key,n.key):function(l,h,g){const E=h.data.field(l),D=g.data.field(l);return null!==E&&null!==D?Su(E,D):Lt()}(s.field,e,n);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Lt()}}class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Wv(this.inner)}size(){return this.innerSize}}const OS=new wr(Pt.comparator);function Lo(){return OS}const uE=new wr(Pt.comparator);function el(...s){let e=uE;for(const n of s)e=e.insert(n.key,n);return e}function Am(s){let e=uE;return s.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ea(){return Nu()}function ZD(){return Nu()}function Nu(){return new bs(s=>s.toString(),(s,e)=>s.isEqual(e))}const LS=new wr(Pt.comparator),vd=new cr(Pt.comparator);function gn(...s){let e=vd;for(const n of s)e=e.add(n);return e}const cE=new cr(cn);function lE(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function bf(s){return{integerValue:""+s}}function Oa(s,e){return function Pv(s){return"number"==typeof s&&Number.isInteger(s)&&!uf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?bf(e):lE(s,e)}class La{constructor(){this._=void 0}}function YD(s,e,n){return s instanceof Ed?function(u,l){const h={fields:{[xD]:{stringValue:kD},[LD]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&dd(l)&&(l=qv(l)),l&&(h.fields[OD]=l),{mapValue:h}}(n,e):s instanceof Fa?Id(s,e):s instanceof Va?JD(s,e):function(u,l){const h=dE(u,l),g=Cm(h)+Cm(u.Ie);return Zv(h)&&Zv(u.Ie)?bf(g):lE(u.serializer,g)}(s,e)}function FS(s,e,n){return s instanceof Fa?Id(s,e):s instanceof Va?JD(s,e):n}function dE(s,e){return s instanceof Td?Zv(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class Ed extends La{}class Fa extends La{constructor(e){super(),this.elements=e}}function Id(s,e){const n=hE(e);for(const o of s.elements)n.some(u=>Ds(u,o))||n.push(o);return{arrayValue:{values:n}}}class Va extends La{constructor(e){super(),this.elements=e}}function JD(s,e){let n=hE(e);for(const o of s.elements)n=n.filter(u=>!Ds(u,o));return{arrayValue:{values:n}}}class Td extends La{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Cm(s){return Ur(s.integerValue||s.doubleValue)}function hE(s){return vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class tA{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class tl{}function ku(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new xu(s.key,Dr.none()):new Dd(s.key,s.data,Dr.none());{const n=s.data,o=Gi.empty();let u=new cr(Tr.comparator);for(let l of e.fields)if(!u.has(l)){let h=n.field(l);null===h&&l.length>1&&(l=l.popLast(),h=n.field(l)),null===h?o.delete(l):o.set(l,h),u=u.add(l)}return new ta(s.key,o,new Oo(u.toArray()),Dr.none())}}function nA(s,e,n){s instanceof Dd?function(u,l,h){const g=u.value.clone(),E=iA(u.fieldTransforms,l,h.transformResults);g.setAll(E),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,n):s instanceof ta?function(u,l,h){if(!Sf(u.precondition,l))return void l.convertToUnknownDocument(h.version);const g=iA(u.fieldTransforms,l,h.transformResults),E=l.data;E.setAll(rA(u)),E.setAll(g),l.convertToFoundDocument(h.version,E).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function nl(s,e,n,o){return s instanceof Dd?function(l,h,g,E){if(!Sf(l.precondition,h))return g;const D=l.value.clone(),P=rl(l.fieldTransforms,E,h);return D.setAll(P),h.convertToFoundDocument(h.version,D).setHasLocalMutations(),null}(s,e,n,o):s instanceof ta?function(l,h,g,E){if(!Sf(l.precondition,h))return g;const D=rl(l.fieldTransforms,E,h),P=h.data;return P.setAll(rA(l)),P.setAll(D),h.convertToFoundDocument(h.version,P).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(x=>x.field))}(s,e,n,o):(g=n,Sf(s.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function fE(s,e){let n=null;for(const o of s.fieldTransforms){const u=e.data.field(o.field),l=dE(o.transform,u||null);null!=l&&(null===n&&(n=Gi.empty()),n.set(o.field,l))}return n||null}function Rf(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=s.fieldTransforms)&&void 0===u||o&&u&&Bc(o,u,(l,h)=>function eA(s,e){return s.field.isEqual(e.field)&&(u=e.transform,(o=s.transform)instanceof Fa&&u instanceof Fa||o instanceof Va&&u instanceof Va?Bc(o.elements,u.elements,Ds):o instanceof Td&&u instanceof Td?Ds(o.Ie,u.Ie):o instanceof Ed&&u instanceof Ed);var o,u}(l,h))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var o,u}class Dd extends tl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ta extends tl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rA(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=s.data.field(n);e.set(n,o)}}),e}function iA(s,e,n){const o=new Map;Gt(s.length===n.length);for(let u=0;u<n.length;u++){const l=s[u],h=l.transform,g=e.data.field(l.field);o.set(l.field,FS(h,g,n[u]))}return o}function rl(s,e,n){const o=new Map;for(const u of s){const l=u.transform,h=n.data.field(u.field);o.set(u.field,YD(l,h,e))}return o}class xu extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bm extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sm{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&nA(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=nl(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=nl(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=ZD();return this.mutations.forEach(u=>{const l=e.get(u.key),h=l.overlayedDocument;let g=this.applyToLocalView(h,l.mutatedFields);g=n.has(u.key)?null:g;const E=ku(h,g);null!==E&&o.set(u.key,E),h.isValidDocument()||h.convertToNoDocument(en.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gn())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(n,o)=>Rf(n,o))&&Bc(this.baseMutations,e.baseMutations,(n,o)=>Rf(n,o))}}class pE{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Gt(e.mutations.length===o.length);let u=function(){return LS}();const l=e.mutations;for(let h=0;h<l.length;h++)u=u.insert(l[h].key,o[h].version);return new pE(e,n,o,u)}}class gE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class VS{constructor(e,n){this.count=e,this.unchangedNames=n}}var gi,Gn;function _E(s){if(void 0===s)return ci("GRPC error has no .code"),Be.UNKNOWN;switch(s){case gi.OK:return Be.OK;case gi.CANCELLED:return Be.CANCELLED;case gi.UNKNOWN:return Be.UNKNOWN;case gi.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case gi.INTERNAL:return Be.INTERNAL;case gi.UNAVAILABLE:return Be.UNAVAILABLE;case gi.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case gi.NOT_FOUND:return Be.NOT_FOUND;case gi.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case gi.ABORTED:return Be.ABORTED;case gi.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case gi.DATA_LOSS:return Be.DATA_LOSS;default:return Lt()}}(Gn=gi||(gi={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";const Pm=new $n([4294967295,4294967295],0);function sA(s){const e=Jg().encode(s),n=new Lc;return n.update(e),new Uint8Array(n.digest())}function yE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $n([n,o],0),new $n([u,l],0)]}class Mm{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Ad(`Invalid padding: ${n}`);if(o<0)throw new Ad(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ad(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Ad(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=$n.fromNumber(this.Ee)}Ae(e,n,o){let u=e.add(n.multiply($n.fromNumber(o)));return 1===u.compare(Pm)&&(u=new $n([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const n=sA(e),[o,u]=yE(n);for(let l=0;l<this.hashCount;l++){const h=this.Ae(o,u,l);if(!this.Re(h))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Mm(l,u,n);return o.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ee)return;const n=sA(e),[o,u]=yE(n);for(let l=0;l<this.hashCount;l++){const h=this.Ae(o,u,l);this.Ve(h)}}Ve(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Mf.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Pf(en.min(),u,new wr(cn),Lo(),gn())}}class Mf{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Mf(o,n,gn(),gn(),gn())}}class Nf{constructor(e,n,o,u){this.me=e,this.removedTargetIds=n,this.key=o,this.fe=u}}class Nm{constructor(e,n){this.targetId=e,this.ge=n}}class vE{constructor(e,n,o=Jr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class aA{constructor(){this.pe=0,this.ye=EE(),this.we=Jr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=gn(),n=gn(),o=gn();return this.ye.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Lt()}}),new Mf(this.we,this.Se,e,n,o)}Me(){this.be=!1,this.ye=EE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kf{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Lo(),this.$e=xf(),this.Ue=xf(),this.Ke=new wr(cn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const o=this.He(n);switch(e.state){case 0:this.Je(n)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(n);break;case 3:this.Je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),o.Ce(e.resumeToken));break;default:Lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((o,u)=>{this.Je(u)&&n(u)})}Ze(e){const n=e.targetId,o=e.ge.count,u=this.Xe(n);if(u){const l=u.target;if(If(l))if(0===o){const h=new Pt(l.path);this.ze(n,h,Pr.newNoDocument(h,en.min()))}else Gt(1===o);else{const h=this.et(n);if(h!==o){const g=this.tt(e),E=g?this.nt(g,e,h):1;0!==E&&(this.Ye(n),this.Ke=this.Ke.insert(n,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let h,g;try{h=Ma(o).toUint8Array()}catch(E){if(E instanceof ld)return Zo("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{g=new Mm(h,u,l)}catch(E){return Zo(E instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return 0===g.Ee?null:g}nt(e,n,o){return n.ge.count===o-this.st(e,n.targetId)?0:2}st(e,n){const o=this.ke.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,l,null),u++)}),u}ot(e){const n=new Map;this.qe.forEach((l,h)=>{const g=this.Xe(h);if(g){if(l.current&&If(g.target)){const E=new Pt(g.target.path);this._t(E).has(h)||this.ut(h,E)||this.ze(h,E,Pr.newNoDocument(E,e))}l.ve&&(n.set(h,l.Fe()),l.Me())}});let o=gn();this.Ue.forEach((l,h)=>{let g=!0;h.forEachWhile(E=>{const D=this.Xe(E);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(o=o.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const u=new Pf(e,n,this.Ke,this.Qe,o);return this.Qe=Lo(),this.$e=xf(),this.Ue=xf(),this.Ke=new wr(cn),u}Ge(e,n){if(!this.Je(e))return;const o=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,o),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,o){if(!this.Je(e))return;const u=this.He(e);this.ut(e,n)?u.xe(n,1):u.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),o&&(this.Qe=this.Qe.insert(n,o))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new aA,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new cr(cn),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new cr(cn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=null!==this.Xe(e);return n||tt("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aA),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function xf(){return new wr(Pt.comparator)}function EE(){return new wr(Pt.comparator)}const Cd={asc:"ASCENDING",desc:"DESCENDING"},IE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Of={and:"AND",or:"OR"};class US{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||af(e)?e:{value:e}}function na(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function AN(s,e){return na(s,e.toTimestamp())}function Mr(s){return Gt(!!s),en.fromTimestamp(function(n){const o=Zs(n);return new Fr(o.seconds,o.nanos)}(s))}function TE(s,e){return wE(s,e).canonicalString()}function wE(s,e){const n=(u=s,new xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?n:n.child(e)}function uA(s){const e=xn.fromString(s);return Gt(gA(e)),e}function Ou(s,e){return TE(s.databaseId,e.path)}function ts(s,e){const n=uA(e);if(n.get(1)!==s.databaseId.projectId)throw new lt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new lt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Pt(dA(n))}function cA(s,e){return TE(s.databaseId,e)}function lA(s){return new xn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dA(s){return Gt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function hA(s,e,n){return{name:Ou(s,e),fields:n.value.mapValue.fields}}function xm(s,e){return{documents:[cA(s,e.path)]}}function Lu(s,e){const n={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=cA(s,u);const l=function(D){if(0!==D.length)return ol(xt.create(D,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const h=function(D){if(0!==D.length)return D.map(P=>{return{field:Ua((Y=P).field),direction:pA(Y.dir)};var Y})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=km(s,e.limit);return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(n.structuredQuery.endAt=function(D){return{before:!D.inclusive,values:D.position}}(e.endAt)),{ht:n,parent:u};var D}function Ff(s){let e=function jS(s){const e=uA(s);return 4===e.length?xn.emptyPath():dA(e)}(s.parent);const n=s.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Gt(1===o);const P=n.from[0];P.allDescendants?u=P.collectionId:e=e.child(P.collectionId)}let l=[];n.where&&(l=function(x){const Y=bd(x);return Y instanceof xt&&yf(Y)?Y.getFilters():[Y]}(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(Y=>{return new gd(il((qe=Y).field),function(ut){switch(ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qe.direction));var qe}));let g=null;n.limit&&(g=function(x){let Y;return Y="object"==typeof x?x.value:x,af(Y)?null:Y}(n.limit));let E=null;var x;n.startAt&&(E=new Ru((x=n.startAt).values||[],!!x.before));let D=null;return n.endAt&&(D=function(x){return new Ru(x.values||[],!x.before)}(n.endAt)),function Df(s,e,n,o,u,l,h,g){return new Ys(s,e,n,o,u,l,h,g)}(e,u,h,l,g,"F",E,D)}function bd(s){return void 0!==s.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=il(n.unaryFilter.field);return On.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=il(n.unaryFilter.field);return On.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=il(n.unaryFilter.field);return On.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=il(n.unaryFilter.field);return On.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(s):void 0!==s.fieldFilter?On.create(il((n=s).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==s.compositeFilter?function(n){return xt.create(n.compositeFilter.filters.map(o=>bd(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Lt()}}(n.compositeFilter.op))}(s):Lt();var n}function pA(s){return Cd[s]}function WS(s){return IE[s]}function Vf(s){return Of[s]}function Ua(s){return{fieldPath:s.canonicalString()}}function il(s){return Tr.fromServerFormat(s.fieldPath)}function ol(s){return s instanceof On?function(n){if("=="===n.op){if(Yv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(SS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Yv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(SS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:WS(n.op),value:n.value}}}(s):s instanceof xt?function(n){const o=n.getFilters().map(u=>ol(u));return 1===o.length?o[0]:{compositeFilter:{op:Vf(n.op),filters:o}}}(s):Lt()}function AE(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gA(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class Ba{constructor(e,n,o,u,l=en.min(),h=en.min(),g=Jr.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=E}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CE{constructor(e){this.Tt=e}}function Sd(s){const e=Ff({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?wm(e,e.limit,"L"):e}class cl{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(Ur(e.integerValue));else if("doubleValue"in e){const o=Ur(e.doubleValue);isNaN(o)?this.ft(n,13):(this.ft(n,15),uf(o)?n.gt(0):n.gt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.ft(n,20),"string"==typeof o&&(o=Zs(o)),n.yt(`${o.seconds||""}`),n.gt(o.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(Ma(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ft(n,45),n.gt(o.latitude||0),n.gt(o.longitude||0)}else"mapValue"in e?eE(e)?this.ft(n,Number.MAX_SAFE_INTEGER):Jv(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):Lt()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){const o=e.fields||{};this.ft(n,55);for(const u of Object.keys(o))this.wt(u,n),this.Rt(o[u],n)}vt(e,n){var o,u;const l=e.fields||{};this.ft(n,53);const h=Na,g=(null===(u=null===(o=l[h].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.ft(n,15),n.gt(Ur(g)),this.wt(h,n),this.Rt(l[h],n)}Ft(e,n){const o=e.values||[];this.ft(n,50);for(const u of o)this.Rt(u,n)}Dt(e,n){this.ft(n,37),Pt.fromName(e).path.forEach(o=>{this.ft(n,60),this.Mt(o,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}}cl.xt=new cl;class DA{constructor(){this.Tn=new Um}addToCollectionParentIndex(e,n){return this.Tn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Hi.min())}updateCollectionGroup(e,n,o){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class Um{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new cr(xn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new cr(xn.comparator)).toArray()}}new Uint8Array(0);const CA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ro{static withCacheSize(e){return new ro(e,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);class dl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new dl(0)}static Kn(){return new dl(-1)}}const LE="LruGarbageCollector";function FE([s,e],[n,o]){const u=cn(s,n);return 0===u?cn(e,o):u}class zm{constructor(e){this.Hn=e,this.buffer=new cr(FE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();FE(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gf{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){var n=this;tt(LE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,O.A)(function*(){n.Xn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){zc(o)?tt(LE,"Ignoring IndexedDB error during garbage collection: ",o):yield Hc(o)}yield n.er(3e5)}))}}class PA{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Re.resolve(xo.ae);const o=new zm(n);return this.tr.forEachTarget(e,u=>o.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>o.Zn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.tr.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(CA)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CA):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let o,u,l,h,g,E,D;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),u=this.params.maximumSequenceNumbersToCollect):u=x,h=Date.now(),this.nthSequenceNumber(e,u))).next(x=>(o=x,g=Date.now(),this.removeTargets(e,o,n))).next(x=>(l=x,E=Date.now(),this.removeOrphanedDocuments(e,o))).next(x=>(D=Date.now(),pi()<=Ne.$b.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-P}ms\n\tDetermined least recently used ${u} in `+(g-h)+`ms\n\tRemoved ${l} targets in `+(E-g)+`ms\n\tRemoved ${x} documents in `+(D-E)+`ms\nTotal Duration: ${D-P}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:l,documentsRemoved:x})))}}class NA{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Re.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xA{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&nl(o.mutation,u,Oo.empty(),Fr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,gn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=gn()){const u=ea();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let h=el();return l.forEach((g,E)=>{h=h.insert(g,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const o=ea();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,gn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,o,u){let l=Lo();const h=Nu(),g=Nu();return n.forEach((E,D)=>{const P=o.get(D.key);u.has(D.key)&&(void 0===P||P.mutation instanceof ta)?l=l.insert(D.key,D):void 0!==P?(h.set(D.key,P.mutation.getFieldMask()),nl(P.mutation,D,P.mutation.getFieldMask(),Fr.now())):h.set(D.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,l).next(E=>(E.forEach((D,P)=>h.set(D,P)),n.forEach((D,P)=>{var x;return g.set(D,new tR(P,null!==(x=h.get(D))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,n){const o=Nu();let u=new wr((h,g)=>h-g),l=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(E=>{const D=n.get(E);if(null===D)return;let P=o.get(E)||Oo.empty();P=g.applyToLocalView(D,P),o.set(E,P);const x=(u.get(g.batchId)||gn()).add(E);u=u.insert(g.batchId,x)})}).next(()=>{const h=[],g=u.getReverseIterator();for(;g.hasNext();){const E=g.getNext(),D=E.key,P=E.value,x=ZD();P.forEach(Y=>{if(!l.has(Y)){const we=ku(n.get(Y),o.get(Y));null!==we&&x.set(Y,we),l=l.add(Y)}}),h.push(this.documentOverlayCache.saveOverlays(e,D,x))}return Re.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return Pt.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):aE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var h}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const h=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Re.resolve(ea());let g=-1,E=l;return h.next(D=>Re.forEach(D,(P,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),l.get(P)?Re.resolve():this.remoteDocumentCache.getEntry(e,P).next(Y=>{E=E.insert(P,Y)}))).next(()=>this.populateOverlays(e,D,l)).next(()=>this.computeViews(e,E,D,gn())).next(P=>({batchId:g,changes:Am(P)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pt(n)).next(o=>{let u=el();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let h=el();return this.indexManager.getCollectionParents(e,l).next(g=>Re.forEach(g,E=>{const D=(x=n,Y=E.child(l),new Ys(Y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,Y;return this.getDocumentsMatchingCollectionQuery(e,D,o,u).next(P=>{P.forEach((x,Y)=>{h=h.insert(x,Y)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(h=>{l.forEach((E,D)=>{const P=D.getKey();null===h.get(P)&&(h=h.insert(P,Pr.newInvalidDocument(P)))});let g=el();return h.forEach((E,D)=>{const P=l.get(E);void 0!==P&&nl(P.mutation,D,Oo.empty(),Fr.now()),Af(n,D)&&(g=g.insert(E,D))}),g})}}class UE{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,{id:(u=n).id,version:u.version,createTime:Mr(u.createTime)}),Re.resolve();var u}getNamedQuery(e,n){return Re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,{name:(u=n).name,query:Sd(u.bundledQuery),readTime:Mr(u.readTime)}),Re.resolve();var u}}class pl{constructor(){this.overlays=new wr(Pt.comparator),this.Rr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ea();return Re.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.Et(e,n,l)}),Re.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.Rr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(o)),Re.resolve()}getOverlaysForCollection(e,n,o){const u=ea(),l=n.length+1,h=new Pt(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const E=g.getNext().value,D=E.getKey();if(!n.isPrefixOf(D.path))break;D.path.length===l&&E.largestBatchId>o&&u.set(E.getKey(),E)}return Re.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new wr((D,P)=>D-P);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===n&&D.largestBatchId>o){let P=l.get(D.largestBatchId);null===P&&(P=ea(),l=l.insert(D.largestBatchId,P)),P.set(D.getKey(),D)}}const g=ea(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,P)=>g.set(D,P)),!(g.size()>=u)););return Re.resolve(g)}Et(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const h=this.Rr.get(u.largestBatchId).delete(o.key);this.Rr.set(u.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new gE(n,o));let l=this.Rr.get(n);void 0===l&&(l=gn(),this.Rr.set(n,l)),this.Rr.set(n,l.add(o.key))}}class Gm{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}class qm{constructor(){this.Vr=new cr(ei.mr),this.gr=new cr(ei.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const o=new ei(e,n);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.wr(new ei(e,n))}Sr(e,n){e.forEach(o=>this.removeReference(o,n))}br(e){const n=new Pt(new xn([])),o=new ei(n,e),u=new ei(n,e+1),l=[];return this.gr.forEachInRange([o,u],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Pt(new xn([])),o=new ei(n,e),u=new ei(n,e+1);let l=gn();return this.gr.forEachInRange([o,u],h=>{l=l.add(h.key)}),l}containsKey(e){const n=new ei(e,0),o=this.Vr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ei{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Pt.comparator(e.key,n.key)||cn(e.Cr,n.Cr)}static pr(e,n){return cn(e.Cr,n.Cr)||Pt.comparator(e.key,n.key)}}class nR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new cr(ei.mr)}checkEmpty(e){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.Fr;this.Fr++;const h=new Sm(l,n,o,u);this.mutationQueue.push(h);for(const g of u)this.Mr=this.Mr.add(new ei(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Re.resolve(h)}lookupMutationBatch(e,n){return Re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Nr(n+1),l=u<0?0:u;return Re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ei(n,0),u=new ei(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([o,u],h=>{const g=this.Or(h.Cr);l.push(g)}),Re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new cr(cn);return n.forEach(u=>{const l=new ei(u,0),h=new ei(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],g=>{o=o.add(g.Cr)})}),Re.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Pt.isDocumentKey(l)||(l=l.child(""));const h=new ei(new Pt(l),0);let g=new cr(cn);return this.Mr.forEachWhile(E=>{const D=E.key.path;return!!o.isPrefixOf(D)&&(D.length===u&&(g=g.add(E.Cr)),!0)},h),Re.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(o=>{const u=this.Or(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Gt(0===this.Lr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Mr;return Re.forEach(n.mutations,u=>{const l=new ei(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,n){const o=new ei(n,0),u=this.Mr.firstAfterOrEqual(o);return Re.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rR{constructor(e){this.kr=e,this.docs=new wr(Pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,h=this.kr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Re.resolve(o?o.document.mutableCopy():Pr.newInvalidDocument(n))}getEntries(e,n){let o=Lo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Pr.newInvalidDocument(u))}),Re.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Lo();const h=n.path,g=new Pt(h.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(g);for(;E.hasNext();){const{key:D,value:{document:P}}=E.getNext();if(!h.isPrefixOf(D.path))break;D.path.length>h.length+1||nm(new Hi((s=P).readTime,s.key,-1),o)<=0||(u.has(P.key)||Af(n,P))&&(l=l.insert(P.key,P.mutableCopy()))}var s;return Re.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Lt()}qr(e,n){return Re.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new bN(this)}getSize(e){return Re.resolve(this.size)}}class bN extends NA{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(o)}),Re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}class iR{constructor(e){this.persistence=e,this.Qr=new bs(n=>Cs(n),Yc),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qm,this.targetCount=0,this.Kr=dl.Un()}forEachTarget(e,n){return this.Qr.forEach((o,u)=>n(u)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$r&&(this.$r=n),Re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.zn(n),Re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=n&&null===o.get(g.targetId)&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Re.waitFor(l).next(()=>u)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const o=this.Qr.get(n)||null;return Re.resolve(o)}addMatchingKeys(e,n,o){return this.Ur.yr(n,o),Re.resolve()}removeMatchingKeys(e,n,o){this.Ur.Sr(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(h=>{l.push(u.markPotentiallyOrphaned(e,h))}),Re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ur.vr(n);return Re.resolve(o)}containsKey(e,n){return Re.resolve(this.Ur.containsKey(n))}}class ra{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new xo(0),this.zr=!1,this.zr=!0,this.jr=new Gm,this.referenceDelegate=e(this),this.Hr=new iR(this),this.indexManager=new DA,this.remoteDocumentCache=new rR(o=>this.referenceDelegate.Jr(o)),this.serializer=new CE(n),this.Yr=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pl,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Wr[e.toKey()];return o||(o=new nR(n,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,o){tt("MemoryPersistence","Starting transaction:",e);const u=new Kf(this.Gr.next());return this.referenceDelegate.Zr(),o(u).next(l=>this.referenceDelegate.Xr(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}ei(e,n){return Re.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,n)))}}class Kf extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.ti=new qm,this.ni=null}static ri(e){return new Od(e)}get ii(){if(this.ni)return this.ni;throw Lt()}addReference(e,n,o){return this.ti.addReference(o,n),this.ii.delete(o.toString()),Re.resolve()}removeReference(e,n,o){return this.ti.removeReference(o,n),this.ii.add(o.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(u=>this.ii.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.ii.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.ii,o=>{const u=Pt.fromPath(o);return this.si(e,u).next(l=>{l||n.removeEntry(u,en.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(o=>{o?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Re.or([()=>Re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ja{constructor(e,n){this.persistence=e,this.oi=new bs(o=>function eo(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=ED(e)),e=mS(s.get(n),e);return ED(e)}(o.path),(o,u)=>o.isEqual(u)),this.garbageCollector=function MA(s,e){return new PA(s,e)}(this,n)}static ri(e,n){return new ja(e,n)}Zr(){}Xr(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}sr(e){let n=0;return this.rr(e,o=>{n++}).next(()=>n)}rr(e,n){return Re.forEach(this.oi,(o,u)=>this.ar(e,o,u).next(l=>l?Re.resolve():n(u)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const u=this.persistence.getRemoteDocumentCache(),l=u.newChangeBuffer();return u.qr(e,h=>this.ar(e,h,n).next(g=>{g||(o++,l.removeEntry(h,en.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gf(e.data.value)),n}ar(e,n,o){return Re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const u=this.oi.get(n);return Re.resolve(void 0!==u&&u>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hi=o,this.Ji=u}static Yi(e,n){let o=gn(),u=gn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Xm(e,n.fromCache,o,u)}}class LA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zE{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,te.nr)()?8:function om(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,te.ZQ)())>0?6:4}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.rs(e,n).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,n,u,o).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new LA;return this._s(e,n,h).next(g=>{if(l.result=g,this.Xi)return this.us(e,n,h,g.size)})}).next(()=>l.result)}us(e,n,o,u){return o.documentReadCount<this.es?(pi()<=Ne.$b.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",yd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Re.resolve()):(pi()<=Ne.$b.DEBUG&&tt("QueryEngine","Query:",yd(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.ts*u?(pi()<=Ne.$b.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",yd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(n))):Re.resolve())}rs(e,n){if(qD(n))return Re.resolve(null);let o=to(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=wm(n,null,"F"),o=to(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const h=gn(...l);return this.ns.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,o).next(E=>{const D=this.cs(n,g);return this.ls(n,D,h,E.readTime)?this.rs(e,wm(n,null,"F")):this.hs(e,D,n,E)}))})))}ss(e,n,o,u){return qD(n)||u.isEqual(en.min())?Re.resolve(null):this.ns.getDocuments(e,o).next(l=>{const h=this.cs(n,l);return this.ls(n,h,o,u)?Re.resolve(null):(pi()<=Ne.$b.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),yd(n)),this.hs(e,h,n,function pD(s,e){const n=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,u=en.fromTimestamp(1e9===o?new Fr(n+1,0):new Fr(n,o));return new Hi(u,Pt.empty(),e)}(u,-1)).next(g=>g))})}cs(e,n){let o=new cr(Dm(e));return n.forEach((u,l)=>{Af(e,l)&&(o=o.add(l))}),o}ls(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}_s(e,n,o){return pi()<=Ne.$b.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",yd(n)),this.ns.getDocumentsMatchingQuery(e,n,Hi.min(),o)}hs(e,n,o,u){return this.ns.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(h=>{l=l.insert(h.key,h)}),l))}}const WE="LocalStore";class sR{constructor(e,n,o,u){this.persistence=e,this.Ps=n,this.serializer=u,this.Ts=new wr(cn),this.Is=new bs(l=>Cs(l),Yc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function VA(s,e){return UA.apply(this,arguments)}function UA(){return(UA=(0,O.A)(function*(s,e){const n=At(s);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.As(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const h=[],g=[];let E=gn();for(const D of u){h.push(D.batchId);for(const P of D.mutations)E=E.add(P.key)}for(const D of l){g.push(D.batchId);for(const P of D.mutations)E=E.add(P.key)}return n.localDocuments.getDocuments(o,E).next(D=>({Rs:D,removedBatchIds:h,addedBatchIds:g}))})})})).apply(this,arguments)}function GE(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function aR(s,e){const n=At(s);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ld(s,e,n){return qE.apply(this,arguments)}function qE(){return(qE=(0,O.A)(function*(s,e,n){const o=At(s),u=o.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,h=>o.persistence.referenceDelegate.removeTarget(h,u)))}catch(h){if(!zc(h))throw h;tt(WE,`Failed to update sequence numbers for target ${e}: ${h}`)}o.Ts=o.Ts.remove(e),o.Is.delete(u.target)})).apply(this,arguments)}function Zm(s,e,n){const o=At(s);let u=en.min(),l=gn();return o.persistence.runTransaction("Execute query","readwrite",h=>function(E,D,P){const x=At(E),Y=x.Is.get(P);return void 0!==Y?Re.resolve(x.Ts.get(Y)):x.Hr.getTargetData(D,P)}(o,h,to(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(h,g.targetId).next(E=>{l=E})}).next(()=>o.Ps.getDocumentsMatchingQuery(h,e,n?u:en.min(),n?l:gn())).next(g=>(function zA(s,e,n){let o=s.Es.get(e)||en.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),s.Es.set(e,o)}(o,function XD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(e),g),{documents:g,gs:l})))}class tp{constructor(){this.activeTargetIds=function Cf(){return cE}()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JE{constructor(){this.ho=new tp,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,o){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eI{To(e){}shutdown(){}}const n_="ConnectivityMonitor";class GA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){tt(n_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){tt(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let r_=null;function tI(){return null===r_?r_=268435456+Math.round(2147483648*Math.random()):r_++,"0x"+r_.toString(16)}const nI="RestConnection",qA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${o}/databases/${u}`,this.wo=this.databaseId.database===ym?`project_id=${o}`:`project_id=${o}&database_id=${u}`}So(e,n,o,u,l){const h=tI(),g=this.bo(e,n.toUriEncodedString());tt(nI,`Sending RPC '${e}' ${h}:`,g,o);const E={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(E,u,l),this.vo(e,g,E,o).then(D=>(tt(nI,`Received RPC '${e}' ${h}: `,D),D),D=>{throw Zo(nI,`RPC '${e}' ${h} failed with error: `,D,"url: ",g,"request:",o),D})}Co(e,n,o,u,l,h){return this.So(e,n,o,u,l)}Do(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}bo(e,n){return`${this.po}/v1/${n}:${qA[e]}`}terminate(){}}class iI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const qi="WebChannelConnection";class KA extends rI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,o,u){const l=tI();return new Promise((h,g)=>{const E=new Jl;E.setWithCredentials(!0),E.listenOnce(uD.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Ca.NO_ERROR:const P=E.getResponseJson();tt(qi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(P)),h(P);break;case Ca.TIMEOUT:tt(qi,`RPC '${e}' ${l} timed out`),g(new lt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Ca.HTTP_ERROR:const x=E.getStatus();if(tt(qi,`RPC '${e}' ${l} failed with status:`,x,"response text:",E.getResponseText()),x>0){let Y=E.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const we=Y?.error;if(we&&we.status&&we.message){const qe=function(ut){const zt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(zt)>=0?zt:Be.UNKNOWN}(we.status);g(new lt(qe,we.message))}else g(new lt(Be.UNKNOWN,"Server responded with status "+E.getStatus()))}else g(new lt(Be.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{tt(qi,`RPC '${e}' ${l} completed.`)}});const D=JSON.stringify(u);tt(qi,`RPC '${e}' ${l} sending request:`,u),E.send(n,"POST",D,o,15)})}Wo(e,n,o){const u=tI(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tv(),g=cD(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(E.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(E.useFetchStreams=!0),this.Do(E.initMessageHeaders,n,o),E.encodeInitMessageHeaders=!0;const P=l.join("");tt(qi,`Creating RPC '${e}' stream ${u}: ${P}`,E);const x=h.createWebChannel(P,E);let Y=!1,we=!1;const qe=new iI({Fo:ut=>{we?tt(qi,`Not sending because RPC '${e}' stream ${u} is closed:`,ut):(Y||(tt(qi,`Opening RPC '${e}' stream ${u} transport.`),x.open(),Y=!0),tt(qi,`RPC '${e}' stream ${u} sending:`,ut),x.send(ut))},Mo:()=>x.close()}),ht=(ut,zt,Jt)=>{ut.listen(zt,Bt=>{try{Jt(Bt)}catch(hn){setTimeout(()=>{throw hn},0)}})};return ht(x,Yh.EventType.OPEN,()=>{we||(tt(qi,`RPC '${e}' stream ${u} transport opened.`),qe.Qo())}),ht(x,Yh.EventType.CLOSE,()=>{we||(we=!0,tt(qi,`RPC '${e}' stream ${u} transport closed`),qe.Uo())}),ht(x,Yh.EventType.ERROR,ut=>{we||(we=!0,Zo(qi,`RPC '${e}' stream ${u} transport errored:`,ut),qe.Uo(new lt(Be.UNAVAILABLE,"The operation could not be completed")))}),ht(x,Yh.EventType.MESSAGE,ut=>{var zt;if(!we){const Jt=ut.data[0];Gt(!!Jt);const Bt=Jt,hn=Bt?.error||(null===(zt=Bt[0])||void 0===zt?void 0:zt.error);if(hn){tt(qi,`RPC '${e}' stream ${u} received error:`,hn);const Ln=hn.status;let En=function(he){const Te=gi[he];if(void 0!==Te)return _E(Te)}(Ln),ve=hn.message;void 0===En&&(En=Be.INTERNAL,ve="Unknown error status: "+Ln+" with message "+hn.message),we=!0,qe.Uo(new lt(En,ve)),x.close()}else tt(qi,`RPC '${e}' stream ${u} received:`,Jt),qe.Ko(Jt)}}),ht(g,Fc.STAT_EVENT,ut=>{ut.stat===Iv.PROXY?tt(qi,`RPC '${e}' stream ${u} detected buffering proxy`):ut.stat===Iv.NOPROXY&&tt(qi,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{qe.$o()},0),qe}}function i_(){return typeof document<"u"?document:null}function Vd(s){return new US(s,!0)}class sI{constructor(e,n,o=1e3,u=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=o,this.zo=u,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),u=Math.max(0,n-o);u>0&&tt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const o_="PersistentStream";class aI{constructor(e,n,o,u,l,h,g,E){this.Ti=e,this.n_=o,this.r_=u,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sI(e,n)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}stop(){var e=this;return(0,O.A)(function*(){e.u_()&&(yield e.close(0))})()}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){var e=this;return(0,O.A)(function*(){if(e.c_())return e.close(0)})()}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){var o=this;return(0,O.A)(function*(){o.E_(),o.d_(),o.a_.cancel(),o.i_++,4!==e?o.a_.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),o.a_.Zo()):n&&n.code===Be.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.A_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Lo(n)})()}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.i_===n&&this.V_(o,u)},o=>{e(()=>{const u=new lt(Be.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(u)})})}V_(e,n){const o=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{o(()=>this.m_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.__?this.g_(u):this.onNext(u))})}l_(){var e=this;this.state=5,this.a_.Xo((0,O.A)(function*(){e.state=0,e.start()}))}m_(e){return tt(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(tt(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uI extends aI{constructor(e,n,o,u,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,h),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=function CN(s,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Lt(),u=e.targetChange.targetIds||[],l=function(D,P){return D.useProto3Json?(Gt(void 0===P||"string"==typeof P),Jr.fromBase64String(P||"")):(Gt(void 0===P||P instanceof Buffer||P instanceof Uint8Array),Jr.fromUint8Array(P||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(D){const P=void 0===D.code?Be.UNKNOWN:_E(D.code);return new lt(P,D.message||"")}(h);n=new vE(o,u,l,g||null)}else if("documentChange"in e){const o=e.documentChange,u=ts(s,o.document.name),l=Mr(o.document.updateTime),h=o.document.createTime?Mr(o.document.createTime):en.min(),g=new Gi({mapValue:{fields:o.document.fields}}),E=Pr.newFoundDocument(u,l,h,g);n=new Nf(o.targetIds||[],o.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const o=e.documentDelete,u=ts(s,o.document),l=o.readTime?Mr(o.readTime):en.min(),h=Pr.newNoDocument(u,l);n=new Nf([],o.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const o=e.documentRemove,u=ts(s,o.document);n=new Nf([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Lt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,h=new VS(u,l);n=new Nm(o.targetId,h)}}var D;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return en.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?en.min():h.readTime?Mr(h.readTime):en.min()}(e);return this.listener.p_(n,o)}y_(e){const n={};n.database=lA(this.serializer),n.addTarget=function(l,h){let g;const E=h.target;if(g=If(E)?{documents:xm(l,E)}:{query:Lu(l,E).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=BS(l,h.resumeToken);const D=km(l,h.expectedCount);null!==D&&(g.expectedCount=D)}else if(h.snapshotVersion.compareTo(en.min())>0){g.readTime=na(l,h.snapshotVersion.toTimestamp());const D=km(l,h.expectedCount);null!==D&&(g.expectedCount=D)}return g}(this.serializer,e);const o=function fA(s,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.I_(n)}w_(e){const n={};n.database=lA(this.serializer),n.removeTarget=e,this.I_(n)}}class QA extends aI{constructor(e,n,o,u,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=function zS(s,e){return s&&s.length>0?(Gt(void 0!==e),s.map(n=>function(u,l){let h=Mr(u.updateTime?u.updateTime:l);return h.isEqual(en.min())&&(h=Mr(l)),new tA(h,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Mr(e.commitTime);return this.listener.v_(o,n)}C_(){const e={};e.database=lA(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Lf(s,e){let n;if(e instanceof Dd)n={update:hA(s,e.key,e.value)};else if(e instanceof xu)n={delete:Ou(s,e.key)};else if(e instanceof ta)n={update:hA(s,e.key,e.data),updateMask:AE(e.fieldMask)};else{if(!(e instanceof bm))return Lt();n={verify:Ou(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const g=h.transform;if(g instanceof Ed)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Va)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Td)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw Lt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:AN(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Lt()),n;var l}(this.serializer,o))};this.I_(n)}}class XA{}class ZA extends XA{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new lt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,wE(n,o),u,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt(Be.UNKNOWN,l.toString())})}Co(e,n,o,u,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,wE(n,o),u,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Be.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class YA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):tt("OnlineStateTracker",n)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const ml="RemoteStore";class SN{constructor(e,n,o,u,l){var h=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(g=>{o.enqueueAndForget((0,O.A)(function*(){var E;$u(h)&&(tt(ml,"Restarting streams for network reachability change."),yield(E=(0,O.A)(function*(P){const x=At(P);x.W_.add(4),yield rp(x),x.j_.set("Unknown"),x.W_.delete(4),yield s_(x)}),function D(P){return E.apply(this,arguments)})(h))}))}),this.j_=new YA(o,u)}}function s_(s){return JA.apply(this,arguments)}function JA(){return(JA=(0,O.A)(function*(s){if($u(s))for(const e of s.G_)yield e(!0)})).apply(this,arguments)}function rp(s){return e0.apply(this,arguments)}function e0(){return(e0=(0,O.A)(function*(s){for(const e of s.G_)yield e(!1)})).apply(this,arguments)}function cI(s,e){const n=At(s);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),u_(n)?a_(n):Wu(n).c_()&&t0(n,e))}function ip(s,e){const n=At(s),o=Wu(n);n.K_.delete(e),o.c_()&&lI(n,e),0===n.K_.size&&(o.c_()?o.P_():$u(n)&&n.j_.set("Unknown"))}function t0(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(en.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(s).y_(e)}function lI(s,e){s.H_.Ne(e),Wu(s).w_(e)}function a_(s){s.H_=new kf({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Wu(s).start(),s.j_.B_()}function u_(s){return $u(s)&&!Wu(s).u_()&&s.K_.size>0}function $u(s){return 0===At(s).W_.size}function n0(s){s.H_=void 0}function RN(s){return r0.apply(this,arguments)}function r0(){return(r0=(0,O.A)(function*(s){s.j_.set("Online")})).apply(this,arguments)}function PN(s){return o0.apply(this,arguments)}function o0(){return(o0=(0,O.A)(function*(s){s.K_.forEach((e,n)=>{t0(s,e)})})).apply(this,arguments)}function MN(s,e){return s0.apply(this,arguments)}function s0(){return(s0=(0,O.A)(function*(s,e){n0(s),u_(s)?(s.j_.q_(e),a_(s)):s.j_.set("Unknown")})).apply(this,arguments)}function cR(s,e,n){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,O.A)(function*(s,e,n){if(s.j_.set("Online"),e instanceof vE&&2===e.state&&e.cause)try{yield(o=(0,O.A)(function*(l,h){const g=h.cause;for(const E of h.targetIds)l.K_.has(E)&&(yield l.remoteSyncer.rejectListen(E,g),l.K_.delete(E),l.H_.removeTarget(E))}),function u(l,h){return o.apply(this,arguments)})(s,e)}catch(o){tt(ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield zu(s,o)}else if(e instanceof Nf?s.H_.We(e):e instanceof Nm?s.H_.Ze(e):s.H_.je(e),!n.isEqual(en.min()))try{const o=yield GE(s.localStore);n.compareTo(o)>=0&&(yield function(l,h){const g=l.H_.ot(h);return g.targetChanges.forEach((E,D)=>{if(E.resumeToken.approximateByteSize()>0){const P=l.K_.get(D);P&&l.K_.set(D,P.withResumeToken(E.resumeToken,h))}}),g.targetMismatches.forEach((E,D)=>{const P=l.K_.get(E);if(!P)return;l.K_.set(E,P.withResumeToken(Jr.EMPTY_BYTE_STRING,P.snapshotVersion)),lI(l,E);const x=new Ba(P.target,E,D,P.sequenceNumber);t0(l,x)}),l.remoteSyncer.applyRemoteEvent(g)}(s,n))}catch(o){tt(ml,"Failed to raise snapshot:",o),yield zu(s,o)}var o}),Hu.apply(this,arguments)}function zu(s,e,n){return dI.apply(this,arguments)}function dI(){return(dI=(0,O.A)(function*(s,e,n){if(!zc(e))throw e;s.W_.add(1),yield rp(s),s.j_.set("Offline"),n||(n=()=>GE(s.localStore)),s.asyncQueue.enqueueRetryable((0,O.A)(function*(){tt(ml,"Retrying IndexedDB access"),yield n(),s.W_.delete(1),yield s_(s)}))})).apply(this,arguments)}function lR(s,e){return e().catch(n=>zu(s,n,e))}function _l(s){return hI.apply(this,arguments)}function hI(){return(hI=(0,O.A)(function*(s){const e=At(s),n=Gu(e);let o=e.U_.length>0?e.U_[e.U_.length-1].batchId:-1;for(;NN(e);)try{const u=yield aR(e.localStore,o);if(null===u){0===e.U_.length&&n.P_();break}o=u.batchId,dR(e,u)}catch(u){yield zu(e,u)}a0(e)&&u0(e)})).apply(this,arguments)}function NN(s){return $u(s)&&s.U_.length<10}function dR(s,e){s.U_.push(e);const n=Gu(s);n.c_()&&n.S_&&n.b_(e.mutations)}function a0(s){return $u(s)&&!Gu(s).u_()&&s.U_.length>0}function u0(s){Gu(s).start()}function fI(s){return c_.apply(this,arguments)}function c_(){return(c_=(0,O.A)(function*(s){Gu(s).C_()})).apply(this,arguments)}function hR(s){return l_.apply(this,arguments)}function l_(){return(l_=(0,O.A)(function*(s){const e=Gu(s);for(const n of s.U_)e.b_(n.mutations)})).apply(this,arguments)}function c0(s,e,n){return l0.apply(this,arguments)}function l0(){return(l0=(0,O.A)(function*(s,e,n){const o=s.U_.shift(),u=pE.from(o,e,n);yield lR(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield _l(s)})).apply(this,arguments)}function fR(s,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,O.A)(function*(s,e){var n;e&&Gu(s).S_&&(yield(n=(0,O.A)(function*(u,l){if(function mE(s){switch(s){case Be.OK:return Lt();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return Lt()}}(g=l.code)&&g!==Be.ABORTED){const h=u.U_.shift();Gu(u).h_(),yield lR(u,()=>u.remoteSyncer.rejectFailedWrite(h.batchId,l)),yield _l(u)}var g}),function o(u,l){return n.apply(this,arguments)})(s,e)),a0(s)&&u0(s)}),Ha.apply(this,arguments)}function pI(s,e){return gI.apply(this,arguments)}function gI(){return(gI=(0,O.A)(function*(s,e){const n=At(s);n.asyncQueue.verifyOperationInProgress(),tt(ml,"RemoteStore received new credentials");const o=$u(n);n.W_.add(3),yield rp(n),o&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield s_(n)})).apply(this,arguments)}function op(){return(op=(0,O.A)(function*(s,e){const n=At(s);e?(n.W_.delete(2),yield s_(n)):e||(n.W_.add(2),yield rp(n),n.j_.set("Unknown"))})).apply(this,arguments)}function Wu(s){return s.J_||(s.J_=function(n,o,u){const l=At(n);return l.M_(),new uI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(s.datastore,s.asyncQueue,{xo:RN.bind(null,s),No:PN.bind(null,s),Lo:MN.bind(null,s),p_:cR.bind(null,s)}),s.G_.push(function(){var e=(0,O.A)(function*(n){n?(s.J_.h_(),u_(s)?a_(s):s.j_.set("Unknown")):(yield s.J_.stop(),n0(s))});return function(n){return e.apply(this,arguments)}}())),s.J_}function Gu(s){return s.Y_||(s.Y_=function(n,o,u){const l=At(n);return l.M_(),new QA(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:fI.bind(null,s),Lo:fR.bind(null,s),D_:hR.bind(null,s),v_:c0.bind(null,s)}),s.G_.push(function(){var e=(0,O.A)(function*(n){n?(s.Y_.h_(),yield _l(s)):(yield s.Y_.stop(),s.U_.length>0&&(tt(ml,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))});return function(n){return e.apply(this,arguments)}}())),s.Y_}class d_{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const h=Date.now()+o,g=new d_(e,n,h,u,l);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(s,e){if(ci("AsyncQueue",`${e}: ${s}`),zc(s))return new lt(Be.UNAVAILABLE,`${e}: ${s}`);throw s}class Ud{static emptySet(e){return new Ud(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||Pt.comparator(n.key,o.key):(n,o)=>Pt.comparator(n.key,o.key),this.keyedMap=el(),this.sortedSet=new wr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ud)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Ud;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class mI{constructor(){this.Z_=new wr(Pt.comparator)}track(e){const n=e.doc.key,o=this.Z_.get(n);o?0!==e.type&&3===o.type?this.Z_=this.Z_.insert(n,e):3===e.type&&1!==o.type?this.Z_=this.Z_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Z_=this.Z_.remove(n):1===e.type&&2===o.type?this.Z_=this.Z_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Lt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Bd{constructor(e,n,o,u,l,h,g,E,D){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=E,this.hasCachedResults=D}static fromInitialDocuments(e,n,o,u,l){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new Bd(e,n,Ud.emptySet(n),h,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class pR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _I{constructor(){this.queries=h0(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(n,o){const u=At(n),l=u.queries;u.queries=h0(),l.forEach((h,g)=>{for(const E of g.ta)E.onError(o)})}(this,new lt(Be.ABORTED,"Firestore shutting down"))}}function h0(){return new bs(s=>xS(s),_d)}function yI(s,e){return h_.apply(this,arguments)}function h_(){return(h_=(0,O.A)(function*(s,e){const n=At(s);let o=3;const u=e.query;let l=n.queries.get(u);l?!l.na()&&e.ra()&&(o=2):(l=new pR,o=e.ra()?0:1);try{switch(o){case 0:l.ea=yield n.onListen(u,!0);break;case 1:l.ea=yield n.onListen(u,!1);break;case 2:yield n.onFirstRemoteStoreListen(u)}}catch(h){const g=qu(h,`Initialization of query '${yd(e.query)}' failed`);return void e.onError(g)}n.queries.set(u,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&vI(n)})).apply(this,arguments)}function f_(s,e){return p_.apply(this,arguments)}function p_(){return(p_=(0,O.A)(function*(s,e){const n=At(s),o=e.query;let u=3;const l=n.queries.get(o);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),0===l.ta.length?u=e.ra()?0:1:!l.na()&&e.ra()&&(u=2))}switch(u){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function f0(s,e){const n=At(s);let o=!1;for(const u of e){const h=n.queries.get(u.query);if(h){for(const g of h.ta)g.oa(u)&&(o=!0);h.ea=u}}o&&vI(n)}function g_(s,e,n){const o=At(s),u=o.queries.get(e);if(u)for(const l of u.ta)l.onError(n);o.queries.delete(e)}function vI(s){s.ia.forEach(e=>{e.next()})}var EI,II;(II=EI||(EI={}))._a="default",II.Cache="cache";class sp{constructor(e,n,o){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Bd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){return!e.fromCache||!this.ra()||(!this.options.Ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}la(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Pa(e){e=Bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==EI.Cache}}class m0{constructor(e){this.key=e}}class _0{constructor(e){this.key=e}}class y0{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=gn(),this.mutatedKeys=gn(),this.ya=Dm(e),this.wa=new Ud(this.ya)}get Sa(){return this.fa}ba(e,n){const o=n?n.Da:new mI,u=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,h=u,g=!1;const E="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,D="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((P,x)=>{const Y=u.get(P),we=Af(this.query,x)?x:null,qe=!!Y&&this.mutatedKeys.has(Y.key),ht=!!we&&(we.hasLocalMutations||this.mutatedKeys.has(we.key)&&we.hasCommittedMutations);let ut=!1;Y&&we?Y.data.isEqual(we.data)?qe!==ht&&(o.track({type:3,doc:we}),ut=!0):this.va(Y,we)||(o.track({type:2,doc:we}),ut=!0,(E&&this.ya(we,E)>0||D&&this.ya(we,D)<0)&&(g=!0)):!Y&&we?(o.track({type:0,doc:we}),ut=!0):Y&&!we&&(o.track({type:1,doc:Y}),ut=!0,(E||D)&&(g=!0)),ut&&(we?(h=h.add(we),l=ht?l.add(P):l.delete(P)):(h=h.delete(P),l=l.delete(P)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const P="F"===this.query.limitType?h.last():h.first();h=h.delete(P.key),l=l.delete(P.key),o.track({type:1,doc:P})}return{wa:h,Da:o,ls:g,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,u){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((P,x)=>function(we,qe){const ht=ut=>{switch(ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return ht(we)-ht(qe)}(P.type,x.type)||this.ya(P.doc,x.doc)),this.Ca(o),u=null!=u&&u;const g=n&&!u?this.Fa():[],E=0===this.pa.size&&this.current&&!u?1:0,D=E!==this.ga;return this.ga=E,0!==h.length||D?{snapshot:new Bd(this.query,e.wa,l,h,e.mutatedKeys,0===E,D,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=gn(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const n=[];return e.forEach(o=>{this.pa.has(o)||n.push(new _0(o))}),this.pa.forEach(o=>{e.has(o)||n.push(new m0(o))}),n}Oa(e){this.fa=e.gs,this.pa=gn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Bd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Ku="SyncEngine";class mR{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class _R{constructor(e){this.key=e,this.Ba=!1}}class v0{constructor(e,n,o,u,l,h){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new bs(g=>xS(g),_d),this.qa=new Map,this.Qa=new Set,this.$a=new wr(Pt.comparator),this.Ua=new Map,this.Ka=new qm,this.Wa={},this.Ga=new Map,this.za=dl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}function E0(s,e){return ap.apply(this,arguments)}function ap(){return(ap=(0,O.A)(function*(s,e,n=!0){const o=ec(s);let u;const l=o.ka.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),u=l.view.Na()):u=yield yR(o,e,n,!0),u})).apply(this,arguments)}function I0(s,e){return wI.apply(this,arguments)}function wI(){return(wI=(0,O.A)(function*(s,e){const n=ec(s);yield yR(n,e,!0,!1)})).apply(this,arguments)}function yR(s,e,n,o){return m_.apply(this,arguments)}function m_(){return(m_=(0,O.A)(function*(s,e,n,o){const u=yield function Zf(s,e){const n=At(s);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Hr.getTargetData(o,e).next(l=>l?(u=l,Re.resolve(u)):n.Hr.allocateTargetId(o).next(h=>(u=new Ba(e,h,"TargetPurposeListen",o.currentSequenceNumber),n.Hr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(o.targetId,o),n.Is.set(e,o.targetId)),o})}(s.localStore,to(e)),l=u.targetId,h=s.sharedClientState.addLocalQueryTarget(l,n);let g;return o&&(g=yield function jd(s,e,n,o,u){return DI.apply(this,arguments)}(s,e,l,"current"===h,u.resumeToken)),s.isPrimaryClient&&n&&cI(s.remoteStore,u),g})).apply(this,arguments)}function DI(){return DI=(0,O.A)(function*(s,e,n,o,u){s.Ha=(x,Y,we)=>{return(qe=(0,O.A)(function*(ut,zt,Jt,Bt){let hn=zt.view.ba(Jt);hn.ls&&(hn=yield Zm(ut.localStore,zt.query,!1).then(({documents:re})=>zt.view.ba(re,hn)));const Ln=Bt&&Bt.targetChanges.get(zt.targetId),En=Bt&&null!=Bt.targetMismatches.get(zt.targetId),ve=zt.view.applyChanges(hn,ut.isPrimaryClient,Ln,En);return y_(ut,zt.targetId,ve.Ma),ve.snapshot}),function ht(ut,zt,Jt,Bt){return qe.apply(this,arguments)})(s,x,Y,we);var qe};const l=yield Zm(s.localStore,e,!0),h=new y0(e,l.gs),g=h.ba(l.documents),E=Mf.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==s.onlineState,u),D=h.applyChanges(g,s.isPrimaryClient,E);y_(s,n,D.Ma);const P=new mR(e,n,h);return s.ka.set(e,P),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),D.snapshot}),DI.apply(this,arguments)}function vR(s,e,n){return up.apply(this,arguments)}function up(){return(up=(0,O.A)(function*(s,e,n){const o=At(s),u=o.ka.get(e),l=o.qa.get(u.targetId);if(l.length>1)return o.qa.set(u.targetId,l.filter(h=>!_d(h,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ld(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),n&&ip(o.remoteStore,u.targetId),zd(o,u.targetId)}).catch(Hc))):(zd(o,u.targetId),yield Ld(o.localStore,u.targetId,!0))})).apply(this,arguments)}function ER(s,e){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.A)(function*(s,e){const n=At(s),o=n.ka.get(e),u=n.qa.get(o.targetId);n.isPrimaryClient&&1===u.length&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),ip(n.remoteStore,o.targetId))})).apply(this,arguments)}function Br(){return(Br=(0,O.A)(function*(s,e,n){const o=function kI(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T0.bind(null,e),e}(s);try{const u=yield function(h,g){const E=At(h),D=Fr.now(),P=g.reduce((we,qe)=>we.add(qe.key),gn());let x,Y;return E.persistence.runTransaction("Locally write mutations","readwrite",we=>{let qe=Lo(),ht=gn();return E.ds.getEntries(we,P).next(ut=>{qe=ut,qe.forEach((zt,Jt)=>{Jt.isValidDocument()||(ht=ht.add(zt))})}).next(()=>E.localDocuments.getOverlayedDocuments(we,qe)).next(ut=>{x=ut;const zt=[];for(const Jt of g){const Bt=fE(Jt,x.get(Jt.key).overlayedDocument);null!=Bt&&zt.push(new ta(Jt.key,Bt,nE(Bt.value.mapValue),Dr.exists(!0)))}return E.mutationQueue.addMutationBatch(we,D,zt,g)}).next(ut=>{Y=ut;const zt=ut.applyToLocalDocumentSet(x,ht);return E.documentOverlayCache.saveOverlays(we,ut.batchId,zt)})}).then(()=>({batchId:Y.batchId,changes:Am(x)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,g,E){let D=h.Wa[h.currentUser.toKey()];D||(D=new wr(cn)),D=D.insert(g,E),h.Wa[h.currentUser.toKey()]=D}(o,u.batchId,n),yield Xu(o,u.changes),yield _l(o.remoteStore)}catch(u){const l=qu(u,"Failed to persist write");n.reject(l)}})).apply(this,arguments)}function Qu(s,e){return $d.apply(this,arguments)}function $d(){return($d=(0,O.A)(function*(s,e){const n=At(s);try{const o=yield function jA(s,e){const n=At(s),o=e.snapshotVersion;let u=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});u=n.Ts;const g=[];e.targetChanges.forEach((P,x)=>{const Y=u.get(x);if(!Y)return;g.push(n.Hr.removeMatchingKeys(l,P.removedDocuments,x).next(()=>n.Hr.addMatchingKeys(l,P.addedDocuments,x)));let we=Y.withSequenceNumber(l.currentSequenceNumber);var ht,ut,zt;null!==e.targetMismatches.get(x)?we=we.withResumeToken(Jr.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):P.resumeToken.approximateByteSize()>0&&(we=we.withResumeToken(P.resumeToken,o)),u=u.insert(x,we),ut=we,zt=P,(0===(ht=Y).resumeToken.approximateByteSize()||ut.snapshotVersion.toMicroseconds()-ht.snapshotVersion.toMicroseconds()>=3e8||zt.addedDocuments.size+zt.modifiedDocuments.size+zt.removedDocuments.size>0)&&g.push(n.Hr.updateTargetData(l,we))});let E=Lo(),D=gn();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(l,P))}),g.push(function $A(s,e,n){let o=gn(),u=gn();return n.forEach(l=>o=o.add(l)),e.getEntries(s,o).next(l=>{let h=Lo();return n.forEach((g,E)=>{const D=l.get(g);E.isFoundDocument()!==D.isFoundDocument()&&(u=u.add(g)),E.isNoDocument()&&E.version.isEqual(en.min())?(e.removeEntry(g,E.readTime),h=h.insert(g,E)):!D.isValidDocument()||E.version.compareTo(D.version)>0||0===E.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(E),h=h.insert(g,E)):tt(WE,"Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",E.version)}),{Vs:h,fs:u}})}(l,h,e.documentUpdates).next(P=>{E=P.Vs,D=P.fs})),!o.isEqual(en.min())){const P=n.Hr.getLastRemoteSnapshotVersion(l).next(x=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,o));g.push(P)}return Re.waitFor(g).next(()=>h.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,E,D)).next(()=>E)}).then(l=>(n.Ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const h=n.Ua.get(l);h&&(Gt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?h.Ba=!0:u.modifiedDocuments.size>0?Gt(h.Ba):u.removedDocuments.size>0&&(Gt(h.Ba),h.Ba=!1))}),yield Xu(n,o,e)}catch(o){yield Hc(o)}})).apply(this,arguments)}function Fo(s,e,n){const o=At(s);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ka.forEach((l,h)=>{const g=h.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(h,g){const E=At(h);E.onlineState=g;let D=!1;E.queries.forEach((P,x)=>{for(const Y of x.ta)Y.sa(g)&&(D=!0)}),D&&vI(E)}(o.eventManager,e),u.length&&o.La.p_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function IR(s,e,n){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.A)(function*(s,e,n){const o=At(s);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.Ua.get(e),l=u&&u.key;if(l){let h=new wr(Pt.comparator);h=h.insert(l,Pr.newNoDocument(l,en.min()));const g=gn().add(l),E=new Pf(en.min(),new Map,new wr(cn),h,g);yield Qu(o,E),o.$a=o.$a.remove(l),o.Ua.delete(e),RI(o)}else yield Ld(o.localStore,e,!1).then(()=>zd(o,e,n)).catch(Hc)})).apply(this,arguments)}function AI(s,e){return __.apply(this,arguments)}function __(){return(__=(0,O.A)(function*(s,e){const n=At(s),o=e.batch.batchId;try{const u=yield function BA(s,e){const n=At(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,E,D,P){const x=D.batch,Y=x.keys();let we=Re.resolve();return Y.forEach(qe=>{we=we.next(()=>P.getEntry(E,qe)).next(ht=>{const ut=D.docVersions.get(qe);Gt(null!==ut),ht.version.compareTo(ut)<0&&(x.applyToRemoteDocument(ht,D),ht.isValidDocument()&&(ht.setReadTime(D.commitVersion),P.addEntry(ht)))})}),we.next(()=>g.mutationQueue.removeMutationBatch(E,x))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let E=gn();for(let D=0;D<g.mutationResults.length;++D)g.mutationResults[D].transformResults.length>0&&(E=E.add(g.batch.mutations[D].key));return E}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);SI(n,o,null),bI(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Xu(n,u)}catch(u){yield Hc(u)}})).apply(this,arguments)}function T0(s,e,n){return CI.apply(this,arguments)}function CI(){return(CI=(0,O.A)(function*(s,e,n){const o=At(s);try{const u=yield function(h,g){const E=At(h);return E.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let P;return E.mutationQueue.lookupMutationBatch(D,g).next(x=>(Gt(null!==x),P=x.keys(),E.mutationQueue.removeMutationBatch(D,x))).next(()=>E.mutationQueue.performConsistencyCheck(D)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(D,P,g)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(D,P)).next(()=>E.localDocuments.getDocuments(D,P))})}(o.localStore,e);SI(o,e,n),bI(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Xu(o,u)}catch(u){yield Hc(u)}})).apply(this,arguments)}function bI(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function SI(s,e,n){const o=At(s);let u=o.Wa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Wa[o.currentUser.toKey()]=u}}function zd(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.qa.get(e))s.ka.delete(o),n&&s.La.Ja(o,n);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(o=>{s.Ka.containsKey(o)||lp(s,o)})}function lp(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);null!==n&&(ip(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ua.delete(n),RI(s))}function y_(s,e,n){for(const o of n)o instanceof m0?(s.Ka.addReference(o.key,e),wR(s,o)):o instanceof _0?(tt(Ku,"Document no longer in limbo: "+o.key),s.Ka.removeReference(o.key,e),s.Ka.containsKey(o.key)||lp(s,o.key)):Lt()}function wR(s,e){const n=e.key,o=n.path.canonicalString();s.$a.get(n)||s.Qa.has(o)||(tt(Ku,"New document in limbo: "+n),s.Qa.add(o),RI(s))}function RI(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new Pt(xn.fromString(e)),o=s.za.next();s.Ua.set(o,new _R(n)),s.$a=s.$a.insert(n,o),cI(s.remoteStore,new Ba(to(Mu(n.path)),o,"TargetPurposeLimboResolution",xo.ae))}}function Xu(s,e,n){return PI.apply(this,arguments)}function PI(){return PI=(0,O.A)(function*(s,e,n){const o=At(s),u=[],l=[],h=[];var g;o.ka.isEmpty()||(o.ka.forEach((g,E)=>{h.push(o.Ha(E,e,n).then(D=>{var P;if((D||n)&&o.isPrimaryClient){const x=D?!D.fromCache:null===(P=n?.targetChanges.get(E.targetId))||void 0===P?void 0:P.current;o.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(D){u.push(D);const x=Xm.Yi(E.targetId,D);l.push(x)}}))}),yield Promise.all(h),o.La.p_(u),yield(g=(0,O.A)(function*(D,P){const x=At(D);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",Y=>Re.forEach(P,we=>Re.forEach(we.Hi,qe=>x.persistence.referenceDelegate.addReference(Y,we.targetId,qe)).next(()=>Re.forEach(we.Ji,qe=>x.persistence.referenceDelegate.removeReference(Y,we.targetId,qe)))))}catch(Y){if(!zc(Y))throw Y;tt(WE,"Failed to update sequence numbers: "+Y)}for(const Y of P){const we=Y.targetId;if(!Y.fromCache){const qe=x.Ts.get(we),ut=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);x.Ts=x.Ts.insert(we,ut)}}}),function E(D,P){return g.apply(this,arguments)})(o.localStore,l))}),PI.apply(this,arguments)}function MI(s,e){return NI.apply(this,arguments)}function NI(){return(NI=(0,O.A)(function*(s,e){const n=At(s);if(!n.currentUser.isEqual(e)){tt(Ku,"User change. New user:",e.toKey());const o=yield VA(n.localStore,e);n.currentUser=e,(l=n).Ga.forEach(g=>{g.forEach(E=>{E.reject(new lt(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ga.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Xu(n,o.Rs)}var l})).apply(this,arguments)}function Zu(s,e){const n=At(s),o=n.Ua.get(e);if(o&&o.Ba)return gn().add(o.key);{let u=gn();const l=n.qa.get(e);if(!l)return u;for(const h of l){const g=n.ka.get(h);u=u.unionWith(g.view.Sa)}return u}}function ec(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IR.bind(null,e),e.La.p_=f0.bind(null,e.eventManager),e.La.Ja=g_.bind(null,e.eventManager),e}let I_=(()=>{class s{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var o=this;return(0,O.A)(function*(){o.serializer=Vd(n.databaseInfo.databaseId),o.sharedClientState=o.Za(n),o.persistence=o.Xa(n),yield o.persistence.start(),o.localStore=o.eu(n),o.gcScheduler=o.tu(n,o.localStore),o.indexBackfillerScheduler=o.nu(n,o.localStore)})()}tu(n,o){return null}nu(n,o){return null}eu(n){return function FA(s,e,n,o){return new sR(s,e,n,o)}(this.persistence,new zE,n.initialUser,this.serializer)}Xa(n){return new ra(Od.ri,this.serializer)}Za(n){return new JE}terminate(){var n=this;return(0,O.A)(function*(){var o,u;null===(o=n.gcScheduler)||void 0===o||o.stop(),null===(u=n.indexBackfillerScheduler)||void 0===u||u.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return s.provider={build:()=>new s},s})();class xI extends I_{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){return Gt(this.persistence.referenceDelegate instanceof ja),new Gf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Xa(e){const n=void 0!==this.cacheSizeBytes?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new ra(o=>ja.ri(o,n),this.serializer)}}let Gd=(()=>{class s{initialize(n,o){var u=this;return(0,O.A)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=l=>Fo(u.syncEngine,l,1),u.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,u.syncEngine),yield function d0(s,e){return op.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new _I}createDatastore(n){const o=Vd(n.databaseInfo.databaseId),u=new KA(n.databaseInfo);return new ZA(n.authCredentials,n.appCheckCredentials,u,o)}createRemoteStore(n){return u=this.localStore,l=this.datastore,h=n.asyncQueue,g=o=>Fo(this.syncEngine,o,0),E=GA.D()?new GA:new eI,new SN(u,l,h,g,E);var u,l,h,g,E}createSyncEngine(n,o){return function(l,h,g,E,D,P,x){const Y=new v0(l,h,g,E,D,P);return x&&(Y.ja=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){var n=this;return(0,O.A)(function*(){var o,u,l;yield(l=(0,O.A)(function*(g){const E=At(g);tt(ml,"RemoteStore shutting down."),E.W_.add(5),yield rp(E),E.z_.shutdown(),E.j_.set("Unknown")}),function h(g){return l.apply(this,arguments)})(n.remoteStore),null===(o=n.datastore)||void 0===o||o.terminate(),null===(u=n.eventManager)||void 0===u||u.terminate()})()}}return s.provider={build:()=>new s},s})();class qd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const ia="FirestoreClient";class kR{constructor(e,n,o,u,l){var h=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Ti.UNAUTHENTICATED,this.clientId=em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,function(){var g=(0,O.A)(function*(E){tt(ia,"Received user=",E.uid),yield h.authCredentialListener(E),h.user=E});return function(E){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(tt(ia,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,O.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=qu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function T_(s,e){return LI.apply(this,arguments)}function LI(){return LI=(0,O.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),tt(ia,"Initializing OfflineComponentProvider");const n=s.configuration;yield e.initialize(n);let o=n.initialUser;s.setCredentialChangeListener(function(){var u=(0,O.A)(function*(l){o.isEqual(l)||(yield VA(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),LI.apply(this,arguments)}function R0(s,e){return FI.apply(this,arguments)}function FI(){return(FI=(0,O.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield function VI(s){return UI.apply(this,arguments)}(s);tt(ia,"Initializing OnlineComponentProvider"),yield e.initialize(n,s.configuration),s.setCredentialChangeListener(o=>pI(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,u)=>pI(e.remoteStore,u)),s._onlineComponents=e})).apply(this,arguments)}function UI(){return(UI=(0,O.A)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){tt(ia,"Using user provided OfflineComponentProvider");try{yield T_(s,s._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Be.FAILED_PRECONDITION||u.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Zo("Error using user provided cache. Falling back to memory cache: "+e),yield T_(s,new I_)}}else tt(ia,"Using default OfflineComponentProvider"),yield T_(s,new xI(void 0));var u;return s._offlineComponents})).apply(this,arguments)}function w_(s){return BI.apply(this,arguments)}function BI(){return(BI=(0,O.A)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(tt(ia,"Using user provided OnlineComponentProvider"),yield R0(s,s._uninitializedComponentsProvider._online)):(tt(ia,"Using default OnlineComponentProvider"),yield R0(s,new Gd))),s._onlineComponents})).apply(this,arguments)}function Qd(s){return D_.apply(this,arguments)}function D_(){return(D_=(0,O.A)(function*(s){const e=yield w_(s),n=e.eventManager;return n.onListen=E0.bind(null,e.syncEngine),n.onUnlisten=vR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ER.bind(null,e.syncEngine),n})).apply(this,arguments)}function F0(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const HI=new Map;function V0(s,e,n){if(!n)throw new lt(Be.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function HR(s){if(!Pt.isDocumentKey(s))throw new lt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zI(s){if(Pt.isDocumentKey(s))throw new lt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fp(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(o=s).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof s?"a function":Lt()}function Mn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(s);throw new lt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}const WI="firestore.googleapis.com";class A_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WI,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $R(s,e,n,o){if(!0===e&&!0===o)throw new lt(Be.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=F0(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new wv;switch(o.type){case"firstParty":return new Yg(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new lt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,O.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=HI.get(n);o&&(tt("ComponentProvider","Removing Datastore"),HI.delete(n),o.terminate())}(this),Promise.resolve()}}class wi{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class ti{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Ms extends wi{constructor(e,n,o){super(e,n,Mu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Pt(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function WR(s,e,...n){if(s=(0,te.Ku)(s),V0("collection","path",e),s instanceof vl){const o=xn.fromString(e,...n);return zI(o),new Ms(s,null,o)}{if(!(s instanceof ti||s instanceof Ms))throw new lt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(xn.fromString(e,...n));return zI(o),new Ms(s.firestore,null,o)}}function Xd(s,e,...n){if(s=(0,te.Ku)(s),1===arguments.length&&(e=em.newId()),V0("doc","path",e),s instanceof vl){const o=xn.fromString(e,...n);return HR(o),new ti(s,null,new Pt(o))}{if(!(s instanceof ti||s instanceof Ms))throw new lt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(xn.fromString(e,...n));return HR(o),new ti(s.firestore,s instanceof Ms?s.converter:null,new Pt(o))}}const j0="AsyncQueue";class qR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sI(this,"async_queue_retry"),this.Su=()=>{const o=i_();o&&tt(j0,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=e;const n=i_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=i_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new $i;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){var e=this;return(0,O.A)(function*(){if(0!==e.Vu.length){try{yield e.Vu[0](),e.Vu.shift(),e.a_.reset()}catch(n){if(!zc(n))throw n;tt(j0,"Operation failed with retryable error: "+n)}e.Vu.length>0&&e.a_.Xo(()=>e.Cu())}})()}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(o=>{throw this.gu=o,this.pu=!1,ci("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(o)),o}).then(o=>(this.pu=!1,o))));return this.bu=n,n}enqueueAfterDelay(e,n,o){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const u=d_.createAndSchedule(this,e,n,o,l=>this.Fu(l));return this.fu.push(u),u}Du(){this.gu&&Lt()}verifyOperationInProgress(){}Mu(){var e=this;return(0,O.A)(function*(){let n;do{n=e.bu,yield n}while(n!==e.bu)})()}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function qI(s){return function(n){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(s)}class Ar extends vl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new qR,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,O.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new qR(n),e._firestoreClient=void 0,yield n}})()}}function KR(s,e){const n="object"==typeof s?s:(0,Me.Sx)(),o="string"==typeof s?s:e||ym,u=(0,Me.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,te.yU)("firestore");l&&function zR(s,e,n,o={}){var u;const l=(s=Mn(s,vl))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;l.host!==WI&&l.host!==g&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},l),{host:g,ssl:!1,emulatorOptions:o});if(!(0,te.bD)(E,h)&&(s._setSettings(E),o.mockUserToken)){let D,P;if("string"==typeof o.mockUserToken)D=o.mockUserToken,P=Ti.MOCK_USER;else{D=(0,te.Fy)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const x=o.mockUserToken.sub||o.mockUserToken.user_id;if(!x)throw new lt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Ti(x)}s._authCredentials=new Dv(new tf(D,P))}}(u,...l)}return u}function jr(s){if(s._terminated)throw new lt(Be.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||function QI(s){var e,n,o;const u=s._freezeSettings(),l=(E=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Kv(s._databaseId,E,s._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,F0(P.experimentalLongPollingOptions),P.useFetchStreams));var E,P;s._componentsProvider||!(null===(n=u.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(g){const E=g?._online.build();return{_offline:g?._offline.build(E),_online:E}}(s._componentsProvider))}(s),s._firestoreClient}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(Jr.fromBase64String(e))}catch(n){throw new lt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Il(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new lt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._methodName=e}}class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}class gp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,u){if(o.length!==u.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==u[l])return!1;return!0}(this._values,e._values)}}const tc=/^__.*__$/;class YR{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dd(e,this.data,n,this.fieldTransforms)}}class G0{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class b_{constructor(e,n,o,u,l,h){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new b_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ku({path:o,Qu:!1});return u.$u(e),u}Uu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ku({path:o,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return R_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(q0(this.Lu)&&tc.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class JR{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Vd(e)}ju(e,n,o,u=!1){return new b_({Lu:e,methodName:n,zu:o,path:Tr.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(s){const e=s._freezeSettings(),n=Vd(s._databaseId);return new JR(s._databaseId,!!e.ignoreUndefinedProperties,n)}function ZI(s,e,n,o,u,l={}){const h=s.ju(l.merge||l.mergeFields?2:0,e,n,u);iT("Data must be an object, but it was:",h,o);const g=X0(o,h);let E,D;if(l.merge)E=new Oo(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const P=[];for(const x of l.mergeFields){const Y=_p(e,x,n);if(!h.contains(Y))throw new lt(Be.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);Y0(P,Y)||P.push(Y)}E=new Oo(P),D=h.fieldTransforms.filter(x=>E.covers(x.field))}else E=null,D=h.fieldTransforms;return new YR(new Gi(g),E,D)}class mp extends Jd{_toFieldTransform(e){if(2!==e.Lu)throw e.Wu(1===e.Lu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function wl(s,e){if(Z0(s=(0,te.Ku)(s)))return iT("Unsupported field value:",e,s),X0(s,e);if(s instanceof Jd)return function(o,u){if(!q0(u.Lu))throw u.Wu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(o,u){const l=[];let h=0;for(const g of o){let E=wl(g,u.Ku(h));null==E&&(E={nullValue:"NULL_VALUE"}),l.push(E),h++}return{arrayValue:{values:l}}}(s,e)}return function(o,u){if(null===(o=(0,te.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Oa(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=Fr.fromDate(o);return{timestampValue:na(u.serializer,l)}}if(o instanceof Fr){const l=new Fr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:na(u.serializer,l)}}if(o instanceof $r)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Il)return{bytesValue:BS(u.serializer,o._byteString)};if(o instanceof ti){const l=u.databaseId,h=o.firestore._databaseId;if(!h.isEqual(l))throw u.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:TE(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof gp)return h=o,g=u,{mapValue:{fields:{[FD]:{stringValue:Qv},[Na]:{arrayValue:{values:h.toArray().map(D=>{if("number"!=typeof D)throw g.Wu("VectorValues must only contain numeric values.");return lE(g.serializer,D)})}}}}};var h,g;throw u.Wu(`Unsupported field value: ${fp(o)}`)}(s,e)}function X0(s,e){const n={};return Wv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(s,(o,u)=>{const l=wl(u,e.qu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Z0(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Fr||s instanceof $r||s instanceof Il||s instanceof ti||s instanceof Jd||s instanceof gp)}function iT(s,e,n){if(!Z0(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=fp(n);throw e.Wu("an object"===o?s+" a custom object":s+" "+o)}var u}function _p(s,e,n){if((e=(0,te.Ku)(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return S_(s,e);throw R_("Field path arguments must be of type string or ",s,!1,void 0,n)}const eP=new RegExp("[~\\*/\\[\\]]");function S_(s,e,n){if(e.search(eP)>=0)throw R_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Tl(...e.split("."))._internalPath}catch{throw R_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function R_(s,e,n,o,u){const l=o&&!o.isEmpty(),h=void 0!==u;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${o}`),h&&(E+=` in document ${u}`),E+=")"),new lt(Be.INVALID_ARGUMENT,g+s+E)}function Y0(s,e){return s.some(n=>n.isEqual(e))}class yp{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class tP extends yp{data(){return super.data()}}function P_(s,e){return"string"==typeof e?S_(s,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}function J0(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new lt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oT{}class Dl extends oT{}function eh(s,e,...n){let o=[];e instanceof oT&&o.push(e),o=o.concat(n),function(l){const h=l.filter(E=>E instanceof Ns).length,g=l.filter(E=>E instanceof oa).length;if(h>1||h>0&&g>0)throw new lt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)s=u._apply(s);return s}class oa extends Dl{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new oa(e,n,o)}_apply(e){const n=this._parse(e);return eC(e._query,n),new wi(e.firestore,e.converter,no(e._query,n))}_parse(e){const n=nc(e.firestore);return function(l,h,g,E,D,P,x){let Y;if(D.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new lt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){ic(x,P);const qe=[];for(const ht of x)qe.push(Dp(E,l,ht));Y={arrayValue:{values:qe}}}else Y=Dp(E,l,x)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||ic(x,P),Y=function Q0(s,e,n,o=!1){return wl(n,s.ju(o?4:3,e))}(g,"where",x,"in"===P||"not-in"===P);return On.create(D,P,Y)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function th(s,e,n){const o=e,u=P_("where",s);return oa._create(u,o,n)}class Ns extends oT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ns(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let h=u;const g=l.getFlattenedFilters();for(const E of g)eC(h,E),h=no(h,E)}(e._query,n),new wi(e.firestore,e.converter,no(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Dp(s,e,n){if("string"==typeof(n=(0,te.Ku)(n))){if(""===n)throw new lt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&-1!==n.indexOf("/"))throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(xn.fromString(n));if(!Pt.isDocumentKey(o))throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return pd(s,new Pt(o))}if(n instanceof ti)return pd(s,n._key);throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fp(n)}.`)}function ic(s,e){if(!Array.isArray(s)||0===s.length)throw new lt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eC(s,e){const n=function(u,l){for(const h of u)for(const g of h.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new lt(Be.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class M_{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return bu(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertVectorValue(e){var n,o,u;const l=null===(u=null===(o=null===(n=e.fields)||void 0===n?void 0:n[Na].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(h=>Ur(h.doubleValue));return new gp(l)}convertGeoPoint(e){return new $r(Ur(e.latitude),Ur(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=qv(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(_m(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Fr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=xn.fromString(e);Gt(gA(o));const u=new hd(o.get(1),o.get(3)),l=new Pt(o.popFirst(5));return u.isEqual(n)||ci(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends yp{constructor(e,n,o,u,l,h){super(e,n,o,u,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(P_("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Ap extends Hr{data(e={}){return super.data(e)}}class nh{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Al(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Ap(this._firestore,this._userDataWriter,o.key,o,new Al(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let h=0;return u._snapshot.docChanges.map(g=>({type:"added",doc:new Ap(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Al(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:h++}))}{let h=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const E=new Ap(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Al(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let D=-1,P=-1;return 0!==g.type&&(D=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),P=h.indexOf(g.doc.key)),{type:lP(g.type),doc:E,oldIndex:D,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}class Ga extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function fP(s){s=Mn(s,wi);const e=Mn(s.firestore,Ar),n=jr(e),o=new Ga(e);return J0(s._query),function x0(s,e,n={}){const o=new $i;return s.asyncQueue.enqueueAndForget((0,O.A)(function*(){return function(l,h,g,E,D){const P=new qd({next:Y=>{P.su(),h.enqueueAndForget(()=>f_(l,x)),Y.fromCache&&"server"===E.source?D.reject(new lt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(Y)},error:Y=>D.reject(Y)}),x=new sp(g,P,{includeMetadataChanges:!0,Ta:!0});return yI(l,x)}(yield Qd(s),s.asyncQueue,e,n,o)})),o.promise}(n,s._query).then(u=>new nh(e,o,s,u))}function rC(s,e,n,...o){s=Mn(s,ti);const u=Mn(s.firestore,Ar),l=nc(u);let h;return h="string"==typeof(e=(0,te.Ku)(e))||e instanceof Tl?function rT(s,e,n,o,u,l){const h=s.ju(1,e,n),g=[_p(e,o,n)],E=[u];if(l.length%2!=0)throw new lt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<l.length;Y+=2)g.push(_p(e,l[Y])),E.push(l[Y+1]);const D=[],P=Gi.empty();for(let Y=g.length-1;Y>=0;--Y)if(!Y0(D,g[Y])){const we=g[Y];let qe=E[Y];qe=(0,te.Ku)(qe);const ht=h.Uu(we);if(qe instanceof mp)D.push(we);else{const ut=wl(qe,ht);null!=ut&&(D.push(we),P.set(we,ut))}}const x=new Oo(D);return new G0(P,x,h.fieldTransforms)}(l,"updateDoc",s._key,e,n,o):function nT(s,e,n,o){const u=s.ju(1,e,n);iT("Data must be an object, but it was:",u,o);const l=[],h=Gi.empty();bu(o,(E,D)=>{const P=S_(e,E,n);D=(0,te.Ku)(D);const x=u.Uu(P);if(D instanceof mp)l.push(P);else{const Y=wl(D,x);null!=Y&&(l.push(P),h.set(P,Y))}});const g=new Oo(l);return new G0(h,g,u.fieldTransforms)}(l,"updateDoc",s._key,e),Cl(u,[h.toMutation(s._key,Dr.exists(!0))])}function BN(s){return Cl(Mn(s.firestore,Ar),[new xu(s._key,Dr.none())])}function uT(s,e){const n=Mn(s.firestore,Ar),o=Xd(s),u=function Wa(s,e,n){let o;return o=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,o}(s.converter,e);return Cl(n,[ZI(nc(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,Dr.exists(!1))]).then(()=>o)}function Cl(s,e){return function(o,u){const l=new $i;return o.asyncQueue.enqueueAndForget((0,O.A)(function*(){return function cp(s,e,n){return Br.apply(this,arguments)}(yield function jI(s){return w_(s).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(jr(s),e)}!function(e,n=!0){Vc=Me.MF,(0,Me.om)(new le.uA("firestore",(o,{instanceIdentifier:u,options:l})=>{const h=o.getProvider("app").getImmediate(),g=new Ar(new td(o.getProvider("auth-internal")),new Av(h,o.getProvider("app-check-internal")),function(D,P){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new lt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(D.options.projectId,P)}(h,u),h);return l=Object.assign({useFetchStreams:n},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,Me.KO)(ed,"4.7.10",e),(0,Me.KO)(ed,"4.7.10","esm2017")}();var AP=L(1985),k_=L(6354),x_=function(){return x_=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},x_.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var hC={includeMetadataChanges:!1};function fC(s,e){return void 0===e&&(e=hC),new AP.c(function(n){var o=function cT(s,...e){var n,o,u;s=(0,te.Ku)(s);let l={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||qI(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(qI(e[h])){const x=e[h];e[h]=null===(n=x.next)||void 0===n?void 0:n.bind(x),e[h+1]=null===(o=x.error)||void 0===o?void 0:o.bind(x),e[h+2]=null===(u=x.complete)||void 0===u?void 0:u.bind(x)}let E,D,P;if(s instanceof ti)D=Mn(s.firestore,Ar),P=Mu(s._key.path),E={next:x=>{e[h]&&e[h](function os(s,e,n){const o=n.docs.get(e._key),u=new Ga(s);return new Hr(s,u,e._key,o,new Al(n.hasPendingWrites,n.fromCache),e.converter)}(D,s,x))},error:e[h+1],complete:e[h+2]};else{const x=Mn(s,wi);D=Mn(x.firestore,Ar),P=x._query;const Y=new Ga(D);E={next:we=>{e[h]&&e[h](new nh(D,Y,x,we))},error:e[h+1],complete:e[h+2]},J0(s._query)}return function(Y,we,qe,ht){const ut=new qd(ht),zt=new sp(we,ut,qe);return Y.asyncQueue.enqueueAndForget((0,O.A)(function*(){return yI(yield Qd(Y),zt)})),()=>{ut.su(),Y.asyncQueue.enqueueAndForget((0,O.A)(function*(){return f_(yield Qd(Y),zt)}))}}(jr(D),P,g,E)}(s,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function CP(s,e){return void 0===e&&(e={}),function nk(s){return fC(s,{includeMetadataChanges:!0})}(s).pipe((0,k_.T)(function(n){return fT(n,e)}))}function fT(s,e){var n;void 0===e&&(e={});var o=s.data(e);return s.exists()&&"object"==typeof o&&null!==o&&e.idField?x_(x_({},o),((n={})[e.idField]=s.id,n)):o}function mT(s,e){return void 0===e&&(e={}),function SP(s){return fC(s,{includeMetadataChanges:!0}).pipe((0,k_.T)(function(e){return e.docs}))}(s).pipe((0,k_.T)(function(n){return n.map(function(o){return fT(o,e)})}))}class L_{constructor(e){return e}}const yC="firestore",F_=new U.nKC("angularfire2.firestore-instances");function MP(s){return(e,n)=>{const o=e.runOutsideAngular(()=>s(n));return new L_(o)}}const NP={provide:class vC{constructor(){return(0,N.CA)(yC)}},deps:[[new U.Xx1,F_]]},rh={provide:L_,useFactory:function bl(s,e){const n=(0,N.lR)(yC,s,e);return n&&new L_(n)},deps:[[new U.Xx1,F_],W.XU]};function _T(s,...e){return(0,G.KO)("angularfire",N.xv.full,"fst"),(0,U.EmA)([rh,NP,{provide:F_,useFactory:MP(s),multi:!0,deps:[U.SKi,U.zZn,N.u0,W.gL,[new U.Xx1,Gw],[new U.Xx1,We],...e]}])}const OP=(0,N.S3)(mT,!0),LP=(0,N.S3)(CP,!0),V_=(0,N.S3)(uT,!0,2),kp=(0,N.S3)(WR,!0,2),EC=(0,N.S3)(BN,!0,2),VP=(0,N.S3)(Xd,!0,2),zP=(0,N.S3)(fP,!0),xp=(0,N.S3)(KR,!0),IC=(0,N.S3)(eh,!0,2),IT=(0,N.S3)(rC,!0,2),YP=(0,N.S3)(th,!0,2)},3494:($t,Qe,L)=>{L.d(Qe,{s:()=>N});const N="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:($t,Qe,L)=>{L.d(Qe,{q:()=>W});const N={now:()=>(N.delegate||Date).now(),delegate:void 0};class U{constructor(O,Me=U.now){this.schedulerActionCtor=O,this.now=Me}schedule(O,Me=0,le){return new this.schedulerActionCtor(this,O).schedule(le,Me)}}U.now=N.now;class W extends U{constructor(O,Me=U.now){super(O,Me),this.actions=[],this._active=!1}flush(O){const{actions:Me}=this;if(this._active)return void Me.push(O);let le;this._active=!0;do{if(le=O.execute(O.state,O.delay))break}while(O=Me.shift());if(this._active=!1,le){for(;O=Me.shift();)O.unsubscribe();throw le}}}},3669:($t,Qe,L)=>{function N(U){return U}L.d(Qe,{D:()=>N})},3794:($t,Qe,L)=>{L.d(Qe,{ms:()=>G,lI:()=>O});var N=L(8071);function W(le){return le[le.length-1]}function G(le){return(0,N.T)(W(le))?le.pop():void 0}function O(le){return function U(le){return le&&(0,N.T)(le.schedule)}(W(le))?le.pop():void 0}},4360:($t,Qe,L)=>{L.d(Qe,{_:()=>U});var N=L(7707);function U(G,O,Me,le,te){return new W(G,O,Me,le,te)}class W extends N.vU{constructor(O,Me,le,te,Ne,ne){super(O),this.onFinalize=Ne,this.shouldUnsubscribe=ne,this._next=Me?function(oe){try{Me(oe)}catch(xe){O.error(xe)}}:super._next,this._error=te?function(oe){try{te(oe)}catch(xe){O.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(oe){O.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},4412:($t,Qe,L)=>{L.d(Qe,{t:()=>U});var N=L(1413);class U extends N.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const O=super._subscribe(G);return!O.closed&&G.next(this._value),O}getValue(){const{hasError:G,thrownError:O,_value:Me}=this;if(G)throw O;return this._throwIfClosed(),Me}next(G){super.next(this._value=G)}}},4761:($t,Qe,L)=>{L.d(Qe,{l:()=>U});const U=function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:($t,Qe,L)=>{L.d(Qe,{l:()=>W});var N=L(3494),U=L(8071);function W(G){return(0,U.T)(G[N.s])}},5196:($t,Qe,L)=>{L.d(Qe,{C:()=>W,U:()=>G});var N=L(1635),U=L(8071);function W(O){return(0,N.AQ)(this,arguments,function*(){const le=O.getReader();try{for(;;){const{value:te,done:Ne}=yield(0,N.N3)(le.read());if(Ne)return yield(0,N.N3)(void 0);yield yield(0,N.N3)(te)}}finally{le.releaseLock()}})}function G(O){return(0,U.T)(O?.getReader)}},5225:($t,Qe,L)=>{function N(U,W,G,O=0,Me=!1){const le=W.schedule(function(){G(),Me?U.add(this.schedule(null,O)):this.unsubscribe()},O);if(U.add(le),!Me)return le}L.d(Qe,{N:()=>N})},5334:($t,Qe,L)=>{L.d(Qe,{m:()=>W});var N=L(1026),U=L(9270);function W(G){U.f.setTimeout(()=>{const{onUnhandledError:O}=N.$;if(!O)throw G;O(G)})}},5343:($t,Qe,L)=>{function N(){}L.d(Qe,{l:()=>N})},5397:($t,Qe,L)=>{L.d(Qe,{x:()=>W});var N=L(4761),U=L(8071);function W(G){return(0,U.T)(G?.[N.l])}},5407:($t,Qe,L)=>{L.d(Qe,{xv:()=>He,u0:()=>Ie,CA:()=>Mt,lR:()=>Rt,S3:()=>Fn});var N=L(1360),U=L(2214),W=L(9079),G=L(6780),Me=L(3604);const te=new class le extends Me.q{}(class O extends G.R{constructor(qt,Qt){super(qt,Qt),this.scheduler=qt,this.work=Qt}schedule(qt,Qt=0){return Qt>0?super.schedule(qt,Qt):(this.delay=Qt,this.state=qt,this.scheduler.flush(this),this)}execute(qt,Qt){return Qt>0||this.closed?super.execute(qt,Qt):this._execute(qt,Qt)}requestAsyncId(qt,Qt,dn=0){return null!=dn&&dn>0||null==dn&&this.delay>0?super.requestAsyncId(qt,Qt,dn):(qt.flush(this),0)}});var ne=L(3236),oe=L(1985),xe=L(6745),Le=L(941);const He=new N.RxE("ANGULARFIRE2_VERSION");function Rt(Nt,qt,Qt){if(qt){if(1===qt.length)return qt[0];const Vn=qt.filter(qn=>qn.app===Qt);if(1===Vn.length)return Vn[0]}return Qt.container.getProvider(Nt).getImmediate({optional:!0})}const Mt=(Nt,qt)=>{const Qt=qt?[qt]:(0,U.Dk)(),dn=[];return Qt.forEach(Zt=>{Zt.container.getProvider(Nt).instances.forEach(qn=>{dn.includes(qn)||dn.push(qn)})}),dn};var Et=function(Nt){return Nt[Nt.SILENT=0]="SILENT",Nt[Nt.WARN=1]="WARN",Nt[Nt.VERBOSE=2]="VERBOSE",Nt}(Et||{}),Ht=(0,N.naY)()&&typeof Zone<"u"?Et.WARN:Et.SILENT;class at{zone;delegate;constructor(qt,Qt=te){this.zone=qt,this.delegate=Qt}now(){return this.delegate.now()}schedule(qt,Qt,dn){const Zt=this.zone;return this.delegate.schedule(function(qn){Zt?Zt.runGuarded(()=>{qt.apply(this,[qn])}):qt.apply(this,[qn])},Qt,dn)}}let Ie=(()=>{class Nt{outsideAngular;insideAngular;constructor(){const Qt=(0,N.WQX)(N.SKi);this.outsideAngular=Qt.runOutsideAngular(()=>new at(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=Qt.run(()=>new at(typeof Zone>"u"?void 0:Zone.current,ne.E))}static \u0275fac=function(dn){return new(dn||Nt)};static \u0275prov=N.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})();var Ke=!1;function yt(Nt){const qt=(0,N.WQX)(N.SKi,{optional:!0});return qt?qt.run(()=>Nt()):Nt()}const Dn=(Nt,qt,Qt)=>(...dn)=>(qt&&setTimeout(qt,0),(0,N.N4e)(Qt,()=>yt(()=>Nt.apply(void 0,dn)))),Fn=(Nt,qt,Qt)=>(Qt||=qt?Et.WARN:Et.VERBOSE,function(){let dn;const Zt=arguments;let Vn,qn,Xn;try{Vn=(0,N.WQX)(Ie),qn=(0,N.WQX)(N.u5s),Xn=(0,N.WQX)(N.uvJ)}catch{return function Fe(Nt,qt){!Ke&&(Ht>Et.SILENT||(0,N.naY)())&&(Ke=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ht>=qt&&console.warn(`Firebase API called outside injection context: ${Nt.name}`)}(Nt,Qt),Nt.apply(this,Zt)}for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof Zt[Ee]&&(qt&&(dn||=yt(()=>qn.add())),Zt[Ee]=Dn(Zt[Ee],dn,Xn));const tn=function st(Nt){const qt=(0,N.WQX)(N.SKi,{optional:!0});return qt?qt.runOutsideAngular(()=>Nt()):Nt()}(()=>Nt.apply(this,Zt));return qt?tn instanceof oe.c?tn.pipe((0,xe._)(Vn.outsideAngular),(0,Le.Q)(Vn.insideAngular),(0,W.YV)(Xn)):tn instanceof Promise?yt(()=>new Promise((Ee,Pe)=>{qn.run(()=>tn).then(Ve=>(0,N.N4e)(Xn,()=>yt(()=>Ee(Ve))),Ve=>(0,N.N4e)(Xn,()=>yt(()=>Pe(Ve))))})):"function"==typeof tn&&dn?function(){return setTimeout(dn,0),tn.apply(this,arguments)}:yt(()=>tn):tn instanceof oe.c?tn.pipe((0,xe._)(Vn.outsideAngular),(0,Le.Q)(Vn.insideAngular)):yt(()=>tn)})},5558:($t,Qe,L)=>{L.d(Qe,{n:()=>G});var N=L(8750),U=L(9974),W=L(4360);function G(O,Me){return(0,U.N)((le,te)=>{let Ne=null,ne=0,oe=!1;const xe=()=>oe&&!Ne&&te.complete();le.subscribe((0,W._)(te,Le=>{Ne?.unsubscribe();let He=0;const rt=ne++;(0,N.Tg)(O(Le,rt)).subscribe(Ne=(0,W._)(te,Rt=>te.next(Me?Me(Le,Rt,rt,He++):Rt),()=>{Ne=null,xe()}))},()=>{oe=!0,xe()}))})}},5964:($t,Qe,L)=>{L.d(Qe,{p:()=>W});var N=L(9974),U=L(4360);function W(G,O){return(0,N.N)((Me,le)=>{let te=0;Me.subscribe((0,U._)(le,Ne=>G.call(O,Ne,te++)&&le.next(Ne)))})}},6354:($t,Qe,L)=>{L.d(Qe,{T:()=>W});var N=L(9974),U=L(4360);function W(G,O){return(0,N.N)((Me,le)=>{let te=0;Me.subscribe((0,U._)(le,Ne=>{le.next(G.call(O,Ne,te++))}))})}},6365:($t,Qe,L)=>{L.d(Qe,{U:()=>W});var N=L(1397),U=L(3669);function W(G=1/0){return(0,N.Z)(U.D,G)}},6450:($t,Qe,L)=>{L.d(Qe,{I:()=>G});var N=L(6354);const{isArray:U}=Array;function G(O){return(0,N.T)(Me=>function W(O,Me){return U(Me)?O(...Me):O(Me)}(O,Me))}},6745:($t,Qe,L)=>{L.d(Qe,{_:()=>U});var N=L(9974);function U(W,G=0){return(0,N.N)((O,Me)=>{Me.add(W.schedule(()=>O.subscribe(Me),G))})}},6780:($t,Qe,L)=>{L.d(Qe,{R:()=>O});var N=L(8359);class U extends N.yU{constructor(le,te){super()}schedule(le,te=0){return this}}const W={setInterval(Me,le,...te){const{delegate:Ne}=W;return Ne?.setInterval?Ne.setInterval(Me,le,...te):setInterval(Me,le,...te)},clearInterval(Me){const{delegate:le}=W;return(le?.clearInterval||clearInterval)(Me)},delegate:void 0};var G=L(7908);class O extends U{constructor(le,te){super(le,te),this.scheduler=le,this.work=te,this.pending=!1}schedule(le,te=0){var Ne;if(this.closed)return this;this.state=le;const ne=this.id,oe=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(oe,ne,te)),this.pending=!0,this.delay=te,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(oe,this.id,te),this}requestAsyncId(le,te,Ne=0){return W.setInterval(le.flush.bind(le,this),Ne)}recycleAsyncId(le,te,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return te;null!=te&&W.clearInterval(te)}execute(le,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(le,te);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,te){let ne,Ne=!1;try{this.work(le)}catch(oe){Ne=!0,ne=oe||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:le,scheduler:te}=this,{actions:Ne}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(Ne,this),null!=le&&(this.id=this.recycleAsyncId(te,le,null)),this.delay=null,super.unsubscribe()}}}},6858:($t,Qe,L)=>{L.d(Qe,{cY:()=>Fe,FA:()=>kt,g:()=>it,K3:()=>le,u:()=>oe,Uj:()=>ne,Fy:()=>st,tD:()=>ri,bD:()=>Ci,T9:()=>Ie,yU:()=>at,XA:()=>Ke,Ku:()=>_n,ZQ:()=>yt,sr:()=>dn,c1:()=>Qt,zW:()=>Pe,jZ:()=>Dn,lV:()=>Zt,nr:()=>Ee,Am:()=>xr,eX:()=>Ve});const O=function(ae){const K=[];let _e=0;for(let Ye=0;Ye<ae.length;Ye++){let ce=ae.charCodeAt(Ye);ce<128?K[_e++]=ce:ce<2048?(K[_e++]=ce>>6|192,K[_e++]=63&ce|128):55296==(64512&ce)&&Ye+1<ae.length&&56320==(64512&ae.charCodeAt(Ye+1))?(ce=65536+((1023&ce)<<10)+(1023&ae.charCodeAt(++Ye)),K[_e++]=ce>>18|240,K[_e++]=ce>>12&63|128,K[_e++]=ce>>6&63|128,K[_e++]=63&ce|128):(K[_e++]=ce>>12|224,K[_e++]=ce>>6&63|128,K[_e++]=63&ce|128)}return K},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,K){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ye=[];for(let ce=0;ce<ae.length;ce+=3){const bt=ae[ce],jt=ce+1<ae.length,Cn=jt?ae[ce+1]:0,lr=ce+2<ae.length,Gr=lr?ae[ce+2]:0;let mi=(15&Cn)<<2|Gr>>6,bi=63&Gr;lr||(bi=64,jt||(mi=64)),Ye.push(_e[bt>>2],_e[(3&bt)<<4|Cn>>4],_e[mi],_e[bi])}return Ye.join("")},encodeString(ae,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(ae):this.encodeByteArray(O(ae),K)},decodeString(ae,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(ae):function(ae){const K=[];let _e=0,Ye=0;for(;_e<ae.length;){const ce=ae[_e++];if(ce<128)K[Ye++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const bt=ae[_e++];K[Ye++]=String.fromCharCode((31&ce)<<6|63&bt)}else if(ce>239&&ce<365){const lr=((7&ce)<<18|(63&ae[_e++])<<12|(63&ae[_e++])<<6|63&ae[_e++])-65536;K[Ye++]=String.fromCharCode(55296+(lr>>10)),K[Ye++]=String.fromCharCode(56320+(1023&lr))}else{const bt=ae[_e++],jt=ae[_e++];K[Ye++]=String.fromCharCode((15&ce)<<12|(63&bt)<<6|63&jt)}}return K.join("")}(this.decodeStringToByteArray(ae,K))},decodeStringToByteArray(ae,K){this.init_();const _e=K?this.charToByteMapWebSafe_:this.charToByteMap_,Ye=[];for(let ce=0;ce<ae.length;){const bt=_e[ae.charAt(ce++)],Cn=ce<ae.length?_e[ae.charAt(ce)]:0;++ce;const Gr=ce<ae.length?_e[ae.charAt(ce)]:64;++ce;const mn=ce<ae.length?_e[ae.charAt(ce)]:64;if(++ce,null==bt||null==Cn||null==Gr||null==mn)throw new te;Ye.push(bt<<2|Cn>>4),64!==Gr&&(Ye.push(Cn<<4&240|Gr>>2),64!==mn&&Ye.push(Gr<<6&192|mn))}return Ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ne=function(ae){return function(ae){const K=O(ae);return le.encodeByteArray(K,!0)}(ae).replace(/\./g,"")},oe=function(ae){try{return le.decodeString(ae,!0)}catch(K){console.error("base64Decode failed: ",K)}return null},Ht=()=>{try{return function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=ae&&oe(ae[1]);return K&&JSON.parse(K)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},at=ae=>{const K=(ae=>{var K,_e;return null===(_e=null===(K=Ht())||void 0===K?void 0:K.emulatorHosts)||void 0===_e?void 0:_e[ae]})(ae);if(!K)return;const _e=K.lastIndexOf(":");if(_e<=0||_e+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const Ye=parseInt(K.substring(_e+1),10);return"["===K[0]?[K.substring(1,_e-1),Ye]:[K.substring(0,_e),Ye]},Ie=()=>{var ae;return null===(ae=Ht())||void 0===ae?void 0:ae.config},Ke=ae=>{var K;return null===(K=Ht())||void 0===K?void 0:K[`_${ae}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,_e)=>{this.resolve=K,this.reject=_e})}wrapCallback(K){return(_e,Ye)=>{_e?this.reject(_e):this.resolve(Ye),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(_e):K(_e,Ye))}}}function st(ae,K){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ye=K||"demo-project",ce=ae.iat||0,bt=ae.sub||ae.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jt=Object.assign({iss:`https://securetoken.google.com/${Ye}`,aud:Ye,iat:ce,exp:ce+3600,auth_time:ce,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(jt)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function dn(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){return!function Fn(){var ae;const K=null===(ae=Ht())||void 0===ae?void 0:ae.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((ae,K)=>{try{let _e=!0;const Ye="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Ye);ce.onsuccess=()=>{ce.result.close(),_e||self.indexedDB.deleteDatabase(Ye),ae(!0)},ce.onupgradeneeded=()=>{_e=!1},ce.onerror=()=>{var bt;K((null===(bt=ce.error)||void 0===bt?void 0:bt.message)||"")}}catch(_e){K(_e)}})}class it extends Error{constructor(K,_e,Ye){super(_e),this.code=K,this.customData=Ye,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(K,_e,Ye){this.service=K,this.serviceName=_e,this.errors=Ye}create(K,..._e){const Ye=_e[0]||{},ce=`${this.service}/${K}`,bt=this.errors[K],jt=bt?function Ct(ae,K){return ae.replace(An,(_e,Ye)=>{const ce=K[Ye];return null!=ce?String(ce):`<${Ye}?>`})}(bt,Ye):"Error";return new it(ce,`${this.serviceName}: ${jt} (${ce}).`,Ye)}}const An=/\{\$([^}]+)}/g;function Ci(ae,K){if(ae===K)return!0;const _e=Object.keys(ae),Ye=Object.keys(K);for(const ce of _e){if(!Ye.includes(ce))return!1;const bt=ae[ce],jt=K[ce];if(kr(bt)&&kr(jt)){if(!Ci(bt,jt))return!1}else if(bt!==jt)return!1}for(const ce of Ye)if(!_e.includes(ce))return!1;return!0}function kr(ae){return null!==ae&&"object"==typeof ae}function xr(ae){const K=[];for(const[_e,Ye]of Object.entries(ae))Array.isArray(Ye)?Ye.forEach(ce=>{K.push(encodeURIComponent(_e)+"="+encodeURIComponent(ce))}):K.push(encodeURIComponent(_e)+"="+encodeURIComponent(Ye));return K.length?"&"+K.join("&"):""}function ri(ae,K){const _e=new Sr(ae,K);return _e.subscribe.bind(_e)}class Sr{constructor(K,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{K(this)}).catch(Ye=>{this.error(Ye)})}next(K){this.forEachObserver(_e=>{_e.next(K)})}error(K){this.forEachObserver(_e=>{_e.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,_e,Ye){let ce;if(void 0===K&&void 0===_e&&void 0===Ye)throw new Error("Missing Observer.");ce=function zr(ae,K){if("object"!=typeof ae||null===ae)return!1;for(const _e of K)if(_e in ae&&"function"==typeof ae[_e])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:_e,complete:Ye},void 0===ce.next&&(ce.next=ii),void 0===ce.error&&(ce.error=ii),void 0===ce.complete&&(ce.complete=ii);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),bt}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,K)}sendOne(K,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{_e(this.observers[K])}catch(Ye){typeof console<"u"&&console.error&&console.error(Ye)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}function _n(ae){return ae&&ae._delegate?ae._delegate:ae}},7430:($t,Qe,L)=>{L.d(Qe,{nX:()=>Pi,Pu:()=>Ty,Zp:()=>yi,nU:()=>Ft,c1:()=>ru,XR:()=>zl,wF:()=>fr,lW:()=>Ho,mo:()=>us,Z:()=>Ut,J2:()=>Ro,J_:()=>du,bw:()=>$l,tD:()=>Ih,Ix:()=>Ay,D$:()=>Ey,n3:()=>da,OY:()=>zo,Sd:()=>wt,bK:()=>wy,gk:()=>Ea,Lg:()=>Th,wO:()=>C,Us:()=>_c,we:()=>jl});var N=L(9361),U=L(1482),W=L(1360),G=L(1985),O=L(8071),le=L(8455),te=L(7673),Ne=L(4412),ne=L(3073),oe=L(3669),xe=L(6450),Le=L(3794),He=L(8496),rt=L(4360),Rt=L(5225);function Mt(..._){const I=(0,Le.lI)(_),y=(0,Le.ms)(_),{args:T,keys:b}=(0,ne.D)(_);if(0===T.length)return(0,le.H)([],I);const F=new G.c(function Et(_,I,y=oe.D){return T=>{Ht(I,()=>{const{length:b}=_,F=new Array(b);let B=b,ye=b;for(let be=0;be<b;be++)Ht(I,()=>{const ft=(0,le.H)(_[be],I);let un=!1;ft.subscribe((0,rt._)(T,Zn=>{F[be]=Zn,un||(un=!0,ye--),ye||T.next(y(F.slice()))},()=>{--B||T.complete()}))},T)},T)}}(T,I,b?B=>(0,He.e)(b,B):oe.D));return y?F.pipe((0,xe.I)(y)):F}function Ht(_,I,y){_?(0,Rt.N)(y,_,I):I()}const at=(0,L(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var Ie=L(6365);function Fe(..._){return function Ke(){return(0,Ie.U)(1)}()((0,le.H)(_,(0,Le.lI)(_)))}var st=L(8750);function yt(_){return new G.c(I=>{(0,st.Tg)(_()).subscribe(I)})}var Dn=L(1203);function Fn(_,I){const y=(0,O.T)(_)?_:()=>_,T=b=>b.error(y());return new G.c(I?b=>I.schedule(T,0,b):T)}const Nt=new G.c(_=>_.complete());var dn=L(8359),Zt=L(9974);function Vn(){return(0,Zt.N)((_,I)=>{let y=null;_._refCount++;const T=(0,rt._)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(y=null);const b=_._connection,F=y;y=null,b&&(!F||b===F)&&b.unsubscribe(),I.unsubscribe()});_.subscribe(T),T.closed||(y=_.connect())})}class qn extends G.c{constructor(I,y){super(),this.source=I,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Zt.S)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new dn.yU;const y=this.getSubject();I.add(this.source.subscribe((0,rt._)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),I.closed&&(this._connection=null,I=dn.yU.EMPTY)}return I}refCount(){return Vn()(this)}}var Xn=L(1413),tn=L(6354),Ee=L(5558);function Pe(_){return _<=0?()=>Nt:(0,Zt.N)((I,y)=>{let T=0;I.subscribe((0,rt._)(y,b=>{++T<=_&&(y.next(b),_<=T&&y.complete())}))})}var Oe=L(5964),Je=L(1397);function it(_){return(0,Zt.N)((I,y)=>{let T=!1;I.subscribe((0,rt._)(y,b=>{T=!0,y.next(b)},()=>{T||y.next(_),y.complete()}))})}function kt(_=Ct){return(0,Zt.N)((I,y)=>{let T=!1;I.subscribe((0,rt._)(y,b=>{T=!0,y.next(b)},()=>T?y.complete():y.error(_())))})}function Ct(){return new at}function An(_,I){const y=arguments.length>=2;return T=>T.pipe(_?(0,Oe.p)((b,F)=>_(b,F,T)):oe.D,Pe(1),y?it(I):kt(()=>new at))}var Tt=L(274);function an(_,I,y){const T=(0,O.T)(_)||I||y?{next:_,error:I,complete:y}:_;return T?(0,Zt.N)((b,F)=>{var B;null===(B=T.subscribe)||void 0===B||B.call(T);let ye=!0;b.subscribe((0,rt._)(F,be=>{var ft;null===(ft=T.next)||void 0===ft||ft.call(T,be),F.next(be)},()=>{var be;ye=!1,null===(be=T.complete)||void 0===be||be.call(T),F.complete()},be=>{var ft;ye=!1,null===(ft=T.error)||void 0===ft||ft.call(T,be),F.error(be)},()=>{var be,ft;ye&&(null===(be=T.unsubscribe)||void 0===be||be.call(T)),null===(ft=T.finalize)||void 0===ft||ft.call(T)}))}):oe.D}function Wt(_){return(0,Zt.N)((I,y)=>{let F,T=null,b=!1;T=I.subscribe((0,rt._)(y,void 0,void 0,B=>{F=(0,st.Tg)(_(B,Wt(_)(I))),T?(T.unsubscribe(),T=null,F.subscribe(y)):b=!0})),b&&(T.unsubscribe(),T=null,F.subscribe(y))})}function Kn(_){return _<=0?()=>Nt:(0,Zt.N)((I,y)=>{let T=[];I.subscribe((0,rt._)(y,b=>{T.push(b),_<T.length&&T.shift()},()=>{for(const b of T)y.next(b);y.complete()},void 0,()=>{T=null}))})}var Jn=L(980),Er=L(5343);let kr=(()=>{class _{_doc;constructor(y){this._doc=y}getTitle(){return this._doc.title}setTitle(y){this._doc.title=y||""}static \u0275fac=function(T){return new(T||_)(W.KVO(N.q))};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const K="primary",_e=Symbol("RouteTitle");class Ye{params;constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y[0]:y}return null}getAll(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function ce(_){return new Ye(_)}function bt(_,I,y){const T=y.path.split("/");if(T.length>_.length||"full"===y.pathMatch&&(I.hasChildren()||T.length<_.length))return null;const b={};for(let F=0;F<T.length;F++){const B=T[F],ye=_[F];if(":"===B[0])b[B.substring(1)]=ye;else if(B!==ye.path)return null}return{consumed:_.slice(0,T.length),posParams:b}}function Cn(_,I){const y=_?lr(_):void 0,T=I?lr(I):void 0;if(!y||!T||y.length!=T.length)return!1;let b;for(let F=0;F<y.length;F++)if(b=y[F],!Gr(_[b],I[b]))return!1;return!0}function lr(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function Gr(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const y=[..._].sort(),T=[...I].sort();return y.every((b,F)=>T[F]===b)}return _===I}function Ir(_){return _.length>0?_[_.length-1]:null}function mn(_){return function Me(_){return!!_&&(_ instanceof G.c||(0,O.T)(_.lift)&&(0,O.T)(_.subscribe))}(_)?_:(0,W.jNT)(_)?(0,le.H)(Promise.resolve(_)):(0,te.of)(_)}const mi={exact:function Bo(_,I,y){if(!pe(_.segments,I.segments)||!ue(_.segments,I.segments,y)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const T in I.children)if(!_.children[T]||!Bo(_.children[T],I.children[T],y))return!1;return!0},subset:$},bi={exact:function Fs(_,I){return Cn(_,I)},subset:function ss(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(y=>Gr(_[y],I[y]))},ignored:()=>!0};function Uo(_,I,y){return mi[y.paths](_.root,I.root,y.matrixParams)&&bi[y.queryParams](_.queryParams,I.queryParams)&&!("exact"===y.fragment&&_.fragment!==I.fragment)}function $(_,I,y){return Q(_,I,I.segments,y)}function Q(_,I,y,T){if(_.segments.length>y.length){const b=_.segments.slice(0,y.length);return!(!pe(b,y)||I.hasChildren()||!ue(b,y,T))}if(_.segments.length===y.length){if(!pe(_.segments,y)||!ue(_.segments,y,T))return!1;for(const b in I.children)if(!_.children[b]||!$(_.children[b],I.children[b],T))return!1;return!0}{const b=y.slice(0,_.segments.length),F=y.slice(_.segments.length);return!!(pe(_.segments,b)&&ue(_.segments,b,T)&&_.children[K])&&Q(_.children[K],I,F,T)}}function ue(_,I,y){return I.every((T,b)=>bi[y](_[b].parameters,T.parameters))}class We{root;queryParams;fragment;_queryParamMap;constructor(I=new nt([],{}),y={},T=null){this.root=I,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap??=ce(this.queryParams),this._queryParamMap}toString(){return Kt.serialize(this)}}class nt{segments;children;parent=null;constructor(I,y){this.segments=I,this.children=y,Object.values(y).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class q{path;parameters;_parameterMap;constructor(I,y){this.path=I,this.parameters=y}get parameterMap(){return this._parameterMap??=ce(this.parameters),this._parameterMap}toString(){return Si(this)}}function pe(_,I){return _.length===I.length&&_.every((y,T)=>y.path===I[T].path)}let wt=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:()=>new Ft,providedIn:"root"})}return _})();class Ft{parse(I){const y=new Yi(I);return new We(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(I){const y=`/${yn(I.root,!0)}`,T=function oo(_){const I=Object.entries(_).map(([y,T])=>Array.isArray(T)?T.map(b=>`${vn(y)}=${vn(b)}`).join("&"):`${vn(y)}=${vn(T)}`).filter(y=>y);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${y}${T}${"string"==typeof I.fragment?`#${function Hn(_){return encodeURI(_)}(I.fragment)}`:""}`}}const Kt=new Ft;function pn(_){return _.segments.map(I=>Si(I)).join("/")}function yn(_,I){if(!_.hasChildren())return pn(_);if(I){const y=_.children[K]?yn(_.children[K],!1):"",T=[];return Object.entries(_.children).forEach(([b,F])=>{b!==K&&T.push(`${b}:${yn(F,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function Xe(_,I){let y=[];return Object.entries(_.children).forEach(([T,b])=>{T===K&&(y=y.concat(I(b,T)))}),Object.entries(_.children).forEach(([T,b])=>{T!==K&&(y=y.concat(I(b,T)))}),y}(_,(T,b)=>b===K?[yn(_.children[K],!1)]:[`${b}:${yn(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[K]?`${pn(_)}/${y[0]}`:`${pn(_)}/(${y.join("//")})`}}function Nn(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(_){return Nn(_).replace(/%3B/gi,";")}function _i(_){return Nn(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Co(_){return decodeURIComponent(_)}function St(_){return Co(_.replace(/\+/g,"%20"))}function Si(_){return`${_i(_.path)}${function mo(_){return Object.entries(_).map(([I,y])=>`;${_i(I)}=${_i(y)}`).join("")}(_.parameters)}`}const bo=/^[^\/()?;#]+/;function di(_){const I=_.match(bo);return I?I[0]:""}const ca=/^[^\/()?;=#]+/,eg=/^[^=?&#]+/,Ya=/^[^&#]+/;class Yi{url;remaining;constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(I.length>0||Object.keys(y).length>0)&&(T[K]=new nt(I,y)),T}parseSegment(){const I=di(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new W.wOt(4009,!1);return this.capture(I),new q(Co(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const y=function pc(_){const I=_.match(ca);return I?I[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const b=di(this.remaining);b&&(T=b,this.capture(T))}I[Co(y)]=Co(T)}parseQueryParam(I){const y=function vh(_){const I=_.match(eg);return I?I[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const B=function Ja(_){const I=_.match(Ya);return I?I[0]:""}(this.remaining);B&&(T=B,this.capture(T))}const b=St(y),F=St(T);if(I.hasOwnProperty(b)){let B=I[b];Array.isArray(B)||(B=[B],I[b]=B),B.push(F)}else I[b]=F}parseParens(I){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=di(this.remaining),b=this.remaining[T.length];if("/"!==b&&")"!==b&&";"!==b)throw new W.wOt(4010,!1);let F;T.indexOf(":")>-1?(F=T.slice(0,T.indexOf(":")),this.capture(F),this.capture(":")):I&&(F=K);const B=this.parseChildren();y[F]=1===Object.keys(B).length?B[K]:new nt([],B),this.consumeOptional("//")}return y}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new W.wOt(4011,!1)}}function jo(_){return _.segments.length>0?new nt([],{[K]:_}):_}function $o(_){const I={};for(const[T,b]of Object.entries(_.children)){const F=$o(b);if(T===K&&0===F.segments.length&&F.hasChildren())for(const[B,ye]of Object.entries(F.children))I[B]=ye;else(F.segments.length>0||F.hasChildren())&&(I[T]=F)}return function oi(_){if(1===_.numberOfChildren&&_.children[K]){const I=_.children[K];return new nt(_.segments.concat(I.segments),I.children)}return _}(new nt(_.segments,I))}function C(_){return _ instanceof We}function M(_){let I;const b=jo(function y(F){const B={};for(const be of F.children){const ft=y(be);B[be.outlet]=ft}const ye=new nt(F.url,B);return F===_&&(I=ye),ye}(_.root));return I??b}function V(_,I,y,T){let b=_;for(;b.parent;)b=b.parent;if(0===I.length)return dt(b,b,b,y,T);const F=function er(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Un(!0,0,_);let I=0,y=!1;const T=_.reduce((b,F,B)=>{if("object"==typeof F&&null!=F){if(F.outlets){const ye={};return Object.entries(F.outlets).forEach(([be,ft])=>{ye[be]="string"==typeof ft?ft.split("/"):ft}),[...b,{outlets:ye}]}if(F.segmentPath)return[...b,F.segmentPath]}return"string"!=typeof F?[...b,F]:0===B?(F.split("/").forEach((ye,be)=>{0==be&&"."===ye||(0==be&&""===ye?y=!0:".."===ye?I++:""!=ye&&b.push(ye))}),b):[...b,F]},[]);return new Un(y,I,T)}(I);if(F.toRoot())return dt(b,b,new nt([],{}),y,T);const B=function Rn(_,I,y){if(_.isAbsolute)return new zn(I,!0,0);if(!y)return new zn(I,!1,NaN);if(null===y.parent)return new zn(y,!0,0);const T=ie(_.commands[0])?0:1;return function nn(_,I,y){let T=_,b=I,F=y;for(;F>b;){if(F-=b,T=T.parent,!T)throw new W.wOt(4005,!1);b=T.segments.length}return new zn(T,!1,b-F)}(y,y.segments.length-1+T,_.numberOfDoubleDots)}(F,b,_),ye=B.processChildren?sr(B.segmentGroup,B.index,F.commands):Or(B.segmentGroup,B.index,F.commands);return dt(b,B.segmentGroup,ye,y,T)}function ie(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function se(_){return"object"==typeof _&&null!=_&&_.outlets}function dt(_,I,y,T,b){let B,F={};T&&Object.entries(T).forEach(([be,ft])=>{F[be]=Array.isArray(ft)?ft.map(un=>`${un}`):`${ft}`}),B=_===I?y:Ot(_,I,y);const ye=jo($o(B));return new We(ye,F,b)}function Ot(_,I,y){const T={};return Object.entries(_.children).forEach(([b,F])=>{T[b]=F===I?y:Ot(F,I,y)}),new nt(_.segments,T)}class Un{isAbsolute;numberOfDoubleDots;commands;constructor(I,y,T){if(this.isAbsolute=I,this.numberOfDoubleDots=y,this.commands=T,I&&T.length>0&&ie(T[0]))throw new W.wOt(4003,!1);const b=T.find(se);if(b&&b!==Ir(T))throw new W.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zn{segmentGroup;processChildren;index;constructor(I,y,T){this.segmentGroup=I,this.processChildren=y,this.index=T}}function Or(_,I,y){if(_??=new nt([],{}),0===_.segments.length&&_.hasChildren())return sr(_,I,y);const T=function so(_,I,y){let T=0,b=I;const F={match:!1,pathIndex:0,commandIndex:0};for(;b<_.segments.length;){if(T>=y.length)return F;const B=_.segments[b],ye=y[T];if(se(ye))break;const be=`${ye}`,ft=T<y.length-1?y[T+1]:null;if(b>0&&void 0===be)break;if(be&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!ee(be,ft,B))return F;T+=2}else{if(!ee(be,{},B))return F;T++}b++}return{match:!0,pathIndex:b,commandIndex:T}}(_,I,y),b=y.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const F=new nt(_.segments.slice(0,T.pathIndex),{});return F.children[K]=new nt(_.segments.slice(T.pathIndex),_.children),sr(F,0,b)}return T.match&&0===b.length?new nt(_.segments,{}):T.match&&!_.hasChildren()?as(_,I,y):T.match?sr(_,0,b):as(_,I,y)}function sr(_,I,y){if(0===y.length)return new nt(_.segments,{});{const T=function Bn(_){return se(_[0])?_[0].outlets:{[K]:_}}(y),b={};if(Object.keys(T).some(F=>F!==K)&&_.children[K]&&1===_.numberOfChildren&&0===_.children[K].segments.length){const F=sr(_.children[K],I,y);return new nt(_.segments,F.children)}return Object.entries(T).forEach(([F,B])=>{"string"==typeof B&&(B=[B]),null!==B&&(b[F]=Or(_.children[F],I,B))}),Object.entries(_.children).forEach(([F,B])=>{void 0===T[F]&&(b[F]=B)}),new nt(_.segments,b)}}function as(_,I,y){const T=_.segments.slice(0,I);let b=0;for(;b<y.length;){const F=y[b];if(se(F)){const be=z(F.outlets);return new nt(T,be)}if(0===b&&ie(y[0])){T.push(new q(_.segments[I].path,me(y[0]))),b++;continue}const B=se(F)?F.outlets[K]:`${F}`,ye=b<y.length-1?y[b+1]:null;B&&ye&&ie(ye)?(T.push(new q(B,me(ye))),b+=2):(T.push(new q(B,{})),b++)}return new nt(T,{})}function z(_){const I={};return Object.entries(_).forEach(([y,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(I[y]=as(new nt([],{}),0,T))}),I}function me(_){const I={};return Object.entries(_).forEach(([y,T])=>I[y]=`${T}`),I}function ee(_,I,y){return _==y.path&&Cn(I,y.parameters)}const Ce="imperative";var Ze=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(Ze||{});class vt{id;url;constructor(I,y){this.id=I,this.url=y}}class Ut extends vt{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(I,y,T="imperative",b=null){super(I,y),this.navigationTrigger=T,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fr extends vt{urlAfterRedirects;type=Ze.NavigationEnd;constructor(I,y,T){super(I,y),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ar=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(ar||{}),us=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(us||{});class pr extends vt{reason;code;type=Ze.NavigationCancel;constructor(I,y,T,b){super(I,y),this.reason=T,this.code=b}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ho extends vt{reason;code;type=Ze.NavigationSkipped;constructor(I,y,T,b){super(I,y),this.reason=T,this.code=b}}class Dt extends vt{error;target;type=Ze.NavigationError;constructor(I,y,T,b){super(I,y),this.error=T,this.target=b}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _o extends vt{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(I,y,T,b){super(I,y),this.urlAfterRedirects=T,this.state=b}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends vt{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(I,y,T,b){super(I,y),this.urlAfterRedirects=T,this.state=b}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends vt{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(I,y,T,b,F){super(I,y),this.urlAfterRedirects=T,this.state=b,this.shouldActivate=F}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xl extends vt{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(I,y,T,b){super(I,y),this.urlAfterRedirects=T,this.state=b}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends vt{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(I,y,T,b){super(I,y),this.urlAfterRedirects=T,this.state=b}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol{route;type=Ze.RouteConfigLoadStart;constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gc{route;type=Ze.RouteConfigLoadEnd;constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ds{snapshot;type=Ze.ChildActivationStart;constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{snapshot;type=Ze.ChildActivationEnd;constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{snapshot;type=Ze.ActivationStart;constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{snapshot;type=Ze.ActivationEnd;constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{routerEvent;position;anchor;type=Ze.Scroll;constructor(I,y,T){this.routerEvent=I,this.position=y,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mc{}class qr{url;navigationBehaviorOptions;constructor(I,y){this.url=I,this.navigationBehaviorOptions=y}}function _c(_){switch(_.type){case Ze.ActivationEnd:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case Ze.ActivationStart:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case Ze.ChildActivationEnd:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case Ze.ChildActivationStart:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case Ze.GuardsCheckEnd:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case Ze.GuardsCheckStart:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ze.NavigationCancel:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case Ze.NavigationSkipped:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case Ze.NavigationEnd:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case Ze.NavigationError:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case Ze.NavigationStart:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case Ze.ResolveEnd:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ze.ResolveStart:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ze.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${_.route.path})`;case Ze.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${_.route.path})`;case Ze.RoutesRecognized:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ze.Scroll:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}function Qn(_){return _.outlet||K}function hs(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const y=I.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class cy{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hs(this.route?.snapshot)??this.rootInjector}constructor(I){this.rootInjector=I,this.children=new yi(this.rootInjector)}}let yi=(()=>{class _{rootInjector;contexts=new Map;constructor(y){this.rootInjector=y}onChildOutletCreated(y,T){const b=this.getOrCreateContext(y);b.outlet=T,this.contexts.set(y,b)}onChildOutletDestroyed(y){const T=this.getContext(y);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let T=this.getContext(y);return T||(T=new cy(this.rootInjector),this.contexts.set(y,T)),T}getContext(y){return this.contexts.get(y)||null}static \u0275fac=function(T){return new(T||_)(W.KVO(W.uvJ))};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class Pn{_root;constructor(I){this._root=I}get root(){return this._root.value}parent(I){const y=this.pathFromRoot(I);return y.length>1?y[y.length-2]:null}children(I){const y=Ri(I,this._root);return y?y.children.map(T=>T.value):[]}firstChild(I){const y=Ri(I,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(I){const y=Ll(I,this._root);return y.length<2?[]:y[y.length-2].children.map(b=>b.value).filter(b=>b!==I)}pathFromRoot(I){return Ll(I,this._root).map(y=>y.value)}}function Ri(_,I){if(_===I.value)return I;for(const y of I.children){const T=Ri(_,y);if(T)return T}return null}function Ll(_,I){if(_===I.value)return[I];for(const y of I.children){const T=Ll(_,y);if(T.length)return T.unshift(I),T}return[]}class Fi{value;children;constructor(I,y){this.value=I,this.children=y}toString(){return`TreeNode(${this.value})`}}function fs(_){const I={};return _&&_.children.forEach(y=>I[y.value.outlet]=y),I}class Vi extends Pn{snapshot;constructor(I,y){super(I),this.snapshot=y,ao(this,I)}toString(){return this.snapshot.toString()}}function bn(_){const I=function si(_){const F=new Mi([],{},{},"",{},K,_,null,{});return new Bs("",new Fi(F,[]))}(_),y=new Ne.t([new q("",{})]),T=new Ne.t({}),b=new Ne.t({}),F=new Ne.t({}),B=new Ne.t(""),ye=new Pi(y,T,F,B,b,K,_,I.root);return ye.snapshot=I.root,new Vi(new Fi(ye,[]),I)}class Pi{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(I,y,T,b,F,B,ye,be){this.urlSubject=I,this.paramsSubject=y,this.queryParamsSubject=T,this.fragmentSubject=b,this.dataSubject=F,this.outlet=B,this.component=ye,this._futureSnapshot=be,this.title=this.dataSubject?.pipe((0,tn.T)(ft=>ft[_e]))??(0,te.of)(void 0),this.url=I,this.params=y,this.queryParams=T,this.fragment=b,this.data=F}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,tn.T)(I=>ce(I))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,tn.T)(I=>ce(I))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yo(_,I,y="emptyOnly"){let T;const{routeConfig:b}=_;return T=null===I||"always"!==y&&""!==b?.path&&(I.component||I.routeConfig?.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,..._._resolvedData??{}}}:{params:{...I.params,..._.params},data:{...I.data,..._.data},resolve:{..._.data,...I.data,...b?.data,..._._resolvedData}},b&&ng(b)&&(T.resolve[_e]=b.title),T}class Mi{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_e]}constructor(I,y,T,b,F,B,ye,be,ft){this.url=I,this.params=y,this.queryParams=T,this.fragment=b,this.data=F,this.outlet=B,this.component=ye,this.routeConfig=be,this._resolve=ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ce(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ce(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends Pn{url;constructor(I,y){super(y),this.url=I,ao(this,y)}toString(){return Ic(this._root)}}function ao(_,I){I.value._routerState=_,I.children.forEach(y=>ao(_,y))}function Ic(_){const I=_.children.length>0?` { ${_.children.map(Ic).join(", ")} } `:"";return`${_.value}${I}`}function vo(_){if(_.snapshot){const I=_.snapshot,y=_._futureSnapshot;_.snapshot=y,Cn(I.queryParams,y.queryParams)||_.queryParamsSubject.next(y.queryParams),I.fragment!==y.fragment&&_.fragmentSubject.next(y.fragment),Cn(I.params,y.params)||_.paramsSubject.next(y.params),function jt(_,I){if(_.length!==I.length)return!1;for(let y=0;y<_.length;++y)if(!Cn(_[y],I[y]))return!1;return!0}(I.url,y.url)||_.urlSubject.next(y.url),Cn(I.data,y.data)||_.dataSubject.next(y.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Tc(_,I){const y=Cn(_.params,I.params)&&function J(_,I){return pe(_,I)&&_.every((y,T)=>Cn(y.parameters,I[T].parameters))}(_.url,I.url);return y&&!(!_.parent!=!I.parent)&&(!_.parent||Tc(_.parent,I.parent))}function ng(_){return"string"==typeof _.title||null===_.title}const nu=new W.nKC("");let da=(()=>{class _{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new W.bkB;deactivateEvents=new W.bkB;attachEvents=new W.bkB;detachEvents=new W.bkB;routerOutletData=(0,W.hFB)(void 0);parentContexts=(0,W.WQX)(yi);location=(0,W.WQX)(W.c1b);changeDetector=(0,W.WQX)(W.gRc);inputBinder=(0,W.WQX)(ru,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(y){if(y.name){const{firstChange:T,previousValue:b}=y.name;if(T)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new W.wOt(4013,!1);this._activatedRoute=y;const b=this.location,B=y.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,be=new Fl(y,ye,b.injector,this.routerOutletData);this.activated=b.createComponent(B,{index:b.length,injector:be,environmentInjector:T}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(T){return new(T||_)};static \u0275dir=W.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[W.OA$]})}return _})();class Fl{route;childContexts;parent;outletData;constructor(I,y,T,b){this.route=I,this.childContexts=y,this.parent=T,this.outletData=b}get(I,y){return I===Pi?this.route:I===yi?this.childContexts:I===nu?this.outletData:this.parent.get(I,y)}}const ru=new W.nKC("");let Ih=(()=>{class _{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:T}=y,b=Mt([T.queryParams,T.params,T.data]).pipe((0,Ee.n)(([F,B,ye],be)=>(ye={...F,...B,...ye},0===be?(0,te.of)(ye):Promise.resolve(ye)))).subscribe(F=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(y);const B=(0,W.HJs)(T.component);if(B)for(const{templateName:ye}of B.inputs)y.activatedComponentRef.setInput(ye,F[ye]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,b)}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac})}return _})();function iu(_,I,y){if(y&&_.shouldReuseRoute(I.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=I.value;const b=function Vl(_,I,y){return I.children.map(T=>{for(const b of y.children)if(_.shouldReuseRoute(T.value,b.value.snapshot))return iu(_,T,b);return iu(_,T)})}(_,I,y);return new Fi(T,b)}{if(_.shouldAttach(I.value)){const F=_.retrieve(I.value);if(null!==F){const B=F.route;return B.value._futureSnapshot=I.value,B.children=I.children.map(ye=>iu(_,ye)),B}}const T=function wc(_){return new Pi(new Ne.t(_.url),new Ne.t(_.params),new Ne.t(_.queryParams),new Ne.t(_.fragment),new Ne.t(_.data),_.outlet,_.component,_)}(I.value),b=I.children.map(F=>iu(_,F));return new Fi(T,b)}}class Dc{redirectTo;navigationBehaviorOptions;constructor(I,y){this.redirectTo=I,this.navigationBehaviorOptions=y}}const ou="ngNavigationCancelingError";function su(_,I){const{redirectTo:y,navigationBehaviorOptions:T}=C(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,b=uo(!1,ar.Redirect);return b.url=y,b.navigationBehaviorOptions=T,b}function uo(_,I){const y=new Error(`NavigationCancelingError: ${_||""}`);return y[ou]=!0,y.cancellationCode=I,y}function Ul(_){return!!_&&_[ou]}class rg{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(I,y,T,b,F){this.routeReuseStrategy=I,this.futureState=y,this.currState=T,this.forwardEvent=b,this.inputBindingEnabled=F}activate(I){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,I),vo(this.futureState.root),this.activateChildRoutes(y,T,I)}deactivateChildRoutes(I,y,T){const b=fs(y);I.children.forEach(F=>{const B=F.value.outlet;this.deactivateRoutes(F,b[B],T),delete b[B]}),Object.values(b).forEach(F=>{this.deactivateRouteAndItsChildren(F,T)})}deactivateRoutes(I,y,T){const b=I.value,F=y?y.value:null;if(b===F)if(b.component){const B=T.getContext(b.outlet);B&&this.deactivateChildRoutes(I,y,B.children)}else this.deactivateChildRoutes(I,y,T);else F&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(I,y){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,y):this.deactivateRouteAndOutlet(I,y)}detachAndStoreRouteSubtree(I,y){const T=y.getContext(I.value.outlet),b=T&&I.value.component?T.children:y,F=fs(I);for(const B of Object.values(F))this.deactivateRouteAndItsChildren(B,b);if(T&&T.outlet){const B=T.outlet.detach(),ye=T.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:B,route:I,contexts:ye})}}deactivateRouteAndOutlet(I,y){const T=y.getContext(I.value.outlet),b=T&&I.value.component?T.children:y,F=fs(I);for(const B of Object.values(F))this.deactivateRouteAndItsChildren(B,b);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(I,y,T){const b=fs(y);I.children.forEach(F=>{this.activateRoutes(F,b[F.value.outlet],T),this.forwardEvent(new la(F.value.snapshot))}),I.children.length&&this.forwardEvent(new Vs(I.value.snapshot))}activateRoutes(I,y,T){const b=I.value,F=y?y.value:null;if(vo(b),b===F)if(b.component){const B=T.getOrCreateContext(b.outlet);this.activateChildRoutes(I,y,B.children)}else this.activateChildRoutes(I,y,T);else if(b.component){const B=T.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const ye=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),B.children.onOutletReAttached(ye.contexts),B.attachRef=ye.componentRef,B.route=ye.route.value,B.outlet&&B.outlet.attach(ye.componentRef,ye.route.value),vo(ye.route.value),this.activateChildRoutes(I,null,B.children)}else B.attachRef=null,B.route=b,B.outlet&&B.outlet.activateWith(b,B.injector),this.activateChildRoutes(I,null,B.children)}else this.activateChildRoutes(I,null,T)}}class $s{path;route;constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class ps{component;route;constructor(I,y){this.component=I,this.route=y}}function hy(_,I,y){const T=_._root;return Hs(T,I?I._root:null,y,[T.value])}function dr(_,I){const y=Symbol(),T=I.get(_,y);return T===y?"function"!=typeof _||(0,W.LfX)(_)?I.get(_):_:T}function Hs(_,I,y,T,b={canDeactivateChecks:[],canActivateChecks:[]}){const F=fs(I);return _.children.forEach(B=>{(function ha(_,I,y,T,b={canDeactivateChecks:[],canActivateChecks:[]}){const F=_.value,B=I?I.value:null,ye=y?y.getContext(_.value.outlet):null;if(B&&F.routeConfig===B.routeConfig){const be=function ig(_,I,y){if("function"==typeof y)return y(_,I);switch(y){case"pathParamsChange":return!pe(_.url,I.url);case"pathParamsOrQueryParamsChange":return!pe(_.url,I.url)||!Cn(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tc(_,I)||!Cn(_.queryParams,I.queryParams);default:return!Tc(_,I)}}(B,F,F.routeConfig.runGuardsAndResolvers);be?b.canActivateChecks.push(new $s(T)):(F.data=B.data,F._resolvedData=B._resolvedData),Hs(_,I,F.component?ye?ye.children:null:y,T,b),be&&ye&&ye.outlet&&ye.outlet.isActivated&&b.canDeactivateChecks.push(new ps(ye.outlet.component,B))}else B&&co(I,ye,b),b.canActivateChecks.push(new $s(T)),Hs(_,null,F.component?ye?ye.children:null:y,T,b)})(B,F[B.value.outlet],y,T.concat([B.value]),b),delete F[B.value.outlet]}),Object.entries(F).forEach(([B,ye])=>co(ye,y.getContext(B),b)),b}function co(_,I,y){const T=fs(_),b=_.value;Object.entries(T).forEach(([F,B])=>{co(B,b.component?I?I.children.getContext(F):null:I,y)}),y.canDeactivateChecks.push(new ps(b.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,b))}function Wo(_){return"function"==typeof _}function sg(_){return _ instanceof at||"EmptyError"===_?.name}const Bl=Symbol("INITIAL_VALUE");function uu(){return(0,Ee.n)(_=>Mt(_.map(I=>I.pipe(Pe(1),function Ve(..._){const I=(0,Le.lI)(_);return(0,Zt.N)((y,T)=>{(I?Fe(_,y,I):Fe(_,y)).subscribe(T)})}(Bl)))).pipe((0,tn.T)(I=>{for(const y of I)if(!0!==y){if(y===Bl)return Bl;if(!1===y||_y(y))return y}return!0}),(0,Oe.p)(I=>I!==Bl),Pe(1)))}function _y(_){return C(_)||_ instanceof Dc}function Kr(_){return(0,Dn.F)(an(I=>{if("boolean"!=typeof I)throw su(0,I)}),(0,tn.T)(I=>!0===I))}class Ws{segmentGroup;constructor(I){this.segmentGroup=I||null}}class Wn extends Error{urlTree;constructor(I){super(),this.urlTree=I}}function rr(_){return Fn(new Ws(_))}class pa{urlSerializer;urlTree;constructor(I,y){this.urlSerializer=I,this.urlTree=y}lineralizeSegments(I,y){let T=[],b=y.root;for(;;){if(T=T.concat(b.segments),0===b.numberOfChildren)return(0,te.of)(T);if(b.numberOfChildren>1||!b.children[K])return Fn(new W.wOt(4e3,!1));b=b.children[K]}}applyRedirectCommands(I,y,T,b,F){if("string"!=typeof y){const ye=y,{queryParams:be,fragment:ft,routeConfig:un,url:Zn,outlet:tr,params:Po,data:ui,title:ys}=b,Lr=(0,W.N4e)(F,()=>ye({params:Po,data:ui,queryParams:be,fragment:ft,routeConfig:un,url:Zn,outlet:tr,title:ys}));if(Lr instanceof We)throw new Wn(Lr);y=Lr}const B=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),I,T);if("/"===y[0])throw new Wn(B);return B}applyRedirectCreateUrlTree(I,y,T,b){const F=this.createSegmentGroup(I,y.root,T,b);return new We(F,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(I,y){const T={};return Object.entries(I).forEach(([b,F])=>{if("string"==typeof F&&":"===F[0]){const ye=F.substring(1);T[b]=y[ye]}else T[b]=F}),T}createSegmentGroup(I,y,T,b){const F=this.createSegments(I,y.segments,T,b);let B={};return Object.entries(y.children).forEach(([ye,be])=>{B[ye]=this.createSegmentGroup(I,be,T,b)}),new nt(F,B)}createSegments(I,y,T,b){return y.map(F=>":"===F.path[0]?this.findPosParam(I,F,b):this.findOrReturn(F,T))}findPosParam(I,y,T){const b=T[y.path.substring(1)];if(!b)throw new W.wOt(4001,!1);return b}findOrReturn(I,y){let T=0;for(const b of y){if(b.path===I.path)return y.splice(T),b;T++}return I}}const qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ga(_,I,y,T,b){const F=ur(_,I,y);return F.matched?(T=function tg(_,I){return _.providers&&!_._injector&&(_._injector=(0,W.Ol2)(_.providers,I,`Route: ${_.path}`)),_._injector??I}(I,T),function Ui(_,I,y,T){const b=I.canMatch;if(!b||0===b.length)return(0,te.of)(!0);const F=b.map(B=>{const ye=dr(B,_);return mn(function zs(_){return _&&Wo(_.canMatch)}(ye)?ye.canMatch(I,y):(0,W.N4e)(_,()=>ye(I,y)))});return(0,te.of)(F).pipe(uu(),Kr())}(T,I,y).pipe((0,tn.T)(B=>!0===B?F:{...qo}))):(0,te.of)(F)}function ur(_,I,y){if("**"===I.path)return function ma(_){return{matched:!0,parameters:_.length>0?Ir(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||y.length>0)?{...qo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const b=(I.matcher||bt)(y,_,I);if(!b)return{...qo};const F={};Object.entries(b.posParams??{}).forEach(([ye,be])=>{F[ye]=be.path});const B=b.consumed.length>0?{...F,...b.consumed[b.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:b.consumed,remainingSegments:y.slice(b.consumed.length),parameters:B,positionalParamSegments:b.posParams??{}}}function gs(_,I,y,T){return y.length>0&&function ag(_,I,y){return y.some(T=>ya(_,I,T)&&Qn(T)!==K)}(_,y,T)?{segmentGroup:new nt(I,_a(T,new nt(y,_.children))),slicedSegments:[]}:0===y.length&&function Ko(_,I,y){return y.some(T=>ya(_,I,T))}(_,y,T)?{segmentGroup:new nt(_.segments,ms(_,y,T,_.children)),slicedSegments:y}:{segmentGroup:new nt(_.segments,_.children),slicedSegments:y}}function ms(_,I,y,T){const b={};for(const F of y)if(ya(_,I,F)&&!T[Qn(F)]){const B=new nt([],{});b[Qn(F)]=B}return{...T,...b}}function _a(_,I){const y={};y[K]=I;for(const T of _)if(""===T.path&&Qn(T)!==K){const b=new nt([],{});y[Qn(T)]=b}return y}function ya(_,I,y){return(!(_.hasChildren()||I.length>0)||"full"!==y.pathMatch)&&""===y.path}class Ni{}class Cc{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(I,y,T,b,F,B,ye){this.injector=I,this.configLoader=y,this.rootComponentType=T,this.config=b,this.urlTree=F,this.paramsInheritanceStrategy=B,this.urlSerializer=ye,this.applyRedirects=new pa(this.urlSerializer,this.urlTree)}noMatchError(I){return new W.wOt(4002,`'${I.segmentGroup}'`)}recognize(){const I=gs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(I).pipe((0,tn.T)(({children:y,rootSnapshot:T})=>{const b=new Fi(T,y),F=new Bs("",b),B=function Z(_,I,y=null,T=null){return V(M(_),I,y,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return B.queryParams=this.urlTree.queryParams,F.url=this.urlSerializer.serialize(B),{state:F,tree:B}}))}match(I){const y=new Mi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,I,K,y).pipe((0,tn.T)(T=>({children:T,rootSnapshot:y})),Wt(T=>{if(T instanceof Wn)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof Ws?this.noMatchError(T):T}))}processSegmentGroup(I,y,T,b,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(I,y,T,F):this.processSegment(I,y,T,T.segments,b,!0,F).pipe((0,tn.T)(B=>B instanceof Fi?[B]:[]))}processChildren(I,y,T,b){const F=[];for(const B of Object.keys(T.children))"primary"===B?F.unshift(B):F.push(B);return(0,le.H)(F).pipe((0,Tt.H)(B=>{const ye=T.children[B],be=function Ec(_,I){const y=_.filter(T=>Qn(T)===I);return y.push(..._.filter(T=>Qn(T)!==I)),y}(y,B);return this.processSegmentGroup(I,be,ye,B,b)}),function Tn(_,I){return(0,Zt.N)(function br(_,I,y,T,b){return(F,B)=>{let ye=y,be=I,ft=0;F.subscribe((0,rt._)(B,un=>{const Zn=ft++;be=ye?_(be,un,Zn):(ye=!0,un),T&&B.next(be)},b&&(()=>{ye&&B.next(be),B.complete()})))}}(_,I,arguments.length>=2,!0))}((B,ye)=>(B.push(...ye),B)),it(null),function kn(_,I){const y=arguments.length>=2;return T=>T.pipe(_?(0,Oe.p)((b,F)=>_(b,F,T)):oe.D,Kn(1),y?it(I):kt(()=>new at))}(),(0,Je.Z)(B=>{if(null===B)return rr(T);const ye=bc(B);return function So(_){_.sort((I,y)=>I.value.outlet===K?-1:y.value.outlet===K?1:I.value.outlet.localeCompare(y.value.outlet))}(ye),(0,te.of)(ye)}))}processSegment(I,y,T,b,F,B,ye){return(0,le.H)(y).pipe((0,Tt.H)(be=>this.processSegmentAgainstRoute(be._injector??I,y,be,T,b,F,B,ye).pipe(Wt(ft=>{if(ft instanceof Ws)return(0,te.of)(null);throw ft}))),An(be=>!!be),Wt(be=>{if(sg(be))return function _s(_,I,y){return 0===I.length&&!_.children[y]}(T,b,F)?(0,te.of)(new Ni):rr(T);throw be}))}processSegmentAgainstRoute(I,y,T,b,F,B,ye,be){return Qn(T)===B||B!==K&&ya(b,F,T)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(I,b,T,F,B,be):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(I,b,y,T,F,B,be):rr(b):rr(b)}expandSegmentAgainstRouteUsingRedirect(I,y,T,b,F,B,ye){const{matched:be,parameters:ft,consumedSegments:un,positionalParamSegments:Zn,remainingSegments:tr}=ur(y,b,F);if(!be)return rr(y);"string"==typeof b.redirectTo&&"/"===b.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Po=new Mi(F,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mr(b),Qn(b),b.component??b._loadedComponent??null,b,_r(b)),ui=yo(Po,ye,this.paramsInheritanceStrategy);Po.params=Object.freeze(ui.params),Po.data=Object.freeze(ui.data);const ys=this.applyRedirects.applyRedirectCommands(un,b.redirectTo,Zn,Po,I);return this.applyRedirects.lineralizeSegments(b,ys).pipe((0,Je.Z)(Lr=>this.processSegment(I,T,y,Lr.concat(tr),B,!1,ye)))}matchSegmentAgainstRoute(I,y,T,b,F,B){const ye=ga(y,T,b,I);return"**"===T.path&&(y.children={}),ye.pipe((0,Ee.n)(be=>be.matched?this.getChildConfig(I=T._injector??I,T,b).pipe((0,Ee.n)(({routes:ft})=>{const un=T._loadedInjector??I,{parameters:Zn,consumedSegments:tr,remainingSegments:Po}=be,ui=new Mi(tr,Zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mr(T),Qn(T),T.component??T._loadedComponent??null,T,_r(T)),ys=yo(ui,B,this.paramsInheritanceStrategy);ui.params=Object.freeze(ys.params),ui.data=Object.freeze(ys.data);const{segmentGroup:Lr,slicedSegments:pu}=gs(y,tr,Po,ft);if(0===pu.length&&Lr.hasChildren())return this.processChildren(un,ft,Lr,ui).pipe((0,tn.T)(Pc=>new Fi(ui,Pc)));if(0===ft.length&&0===pu.length)return(0,te.of)(new Fi(ui,[]));const Rc=Qn(T)===F;return this.processSegment(un,ft,Lr,pu,Rc?K:F,!0,ui).pipe((0,tn.T)(Pc=>new Fi(ui,Pc instanceof Fi?[Pc]:[])))})):rr(y)))}getChildConfig(I,y,T){return y.children?(0,te.of)({routes:y.children,injector:I}):y.loadChildren?void 0!==y._loadedRoutes?(0,te.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function vi(_,I,y,T){const b=I.canLoad;if(void 0===b||0===b.length)return(0,te.of)(!0);const F=b.map(B=>{const ye=dr(B,_);return mn(function gy(_){return _&&Wo(_.canLoad)}(ye)?ye.canLoad(I,y):(0,W.N4e)(_,()=>ye(I,y)))});return(0,te.of)(F).pipe(uu(),Kr())}(I,y,T).pipe((0,Je.Z)(b=>b?this.configLoader.loadChildren(I,y).pipe(an(F=>{y._loadedRoutes=F.routes,y._loadedInjector=F.injector})):function sn(){return Fn(uo(!1,ar.GuardRejected))}())):(0,te.of)({routes:[],injector:I})}}function Eo(_){const I=_.value.routeConfig;return I&&""===I.path}function bc(_){const I=[],y=new Set;for(const T of _){if(!Eo(T)){I.push(T);continue}const b=I.find(F=>T.value.routeConfig===F.value.routeConfig);void 0!==b?(b.children.push(...T.children),y.add(b)):I.push(T)}for(const T of y){const b=bc(T.children);I.push(new Fi(T.value,b))}return I.filter(T=>!y.has(T))}function mr(_){return _.data||{}}function _r(_){return _.resolve||{}}function Io(_){const I=_.children.map(y=>Io(y)).flat();return[_,...I]}function lu(_){return(0,Ee.n)(I=>{const y=_(I);return y?(0,le.H)(y).pipe((0,tn.T)(()=>I)):(0,te.of)(I)})}let ug=(()=>{class _{buildTitle(y){let T,b=y.root;for(;void 0!==b;)T=this.getResolvedTitleForRoute(b)??T,b=b.children.find(F=>F.outlet===K);return T}getResolvedTitleForRoute(y){return y.data[_e]}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:()=>(0,W.WQX)(To),providedIn:"root"})}return _})(),To=(()=>{class _ extends ug{title;constructor(y){super(),this.title=y}updateTitle(y){const T=this.buildTitle(y);void 0!==T&&this.title.setTitle(T)}static \u0275fac=function(T){return new(T||_)(W.KVO(kr))};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const du=new W.nKC("",{providedIn:"root",factory:()=>({})});let jl=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275cmp=W.VBU({type:_,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(T,b){1&T&&W.nrm(0,"router-outlet")},dependencies:[da],encapsulation:2})}return _})();function hu(_){const I=_.children&&_.children.map(hu),y=I?{..._,children:I}:{..._};return!y.component&&!y.loadComponent&&(I||y.loadChildren)&&y.outlet&&y.outlet!==K&&(y.component=jl),y}const $l=new W.nKC("");let Ey=(()=>{class _{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,W.WQX)(W.Ql9);loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,te.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const T=mn(y.loadComponent()).pipe((0,tn.T)(Iy),an(F=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=F}),(0,Jn.j)(()=>{this.componentLoaders.delete(y)})),b=new qn(T,()=>new Xn.B).pipe(Vn());return this.componentLoaders.set(y,b),b}loadChildren(y,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,te.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const F=function cg(_,I,y,T){return mn(_.loadChildren()).pipe((0,tn.T)(Iy),(0,Je.Z)(b=>b instanceof W.Co$||Array.isArray(b)?(0,te.of)(b):(0,le.H)(I.compileModuleAsync(b))),(0,tn.T)(b=>{T&&T(_);let F,B,ye=!1;return Array.isArray(b)?(B=b,!0):(F=b.create(y).injector,B=F.get($l,[],{optional:!0,self:!0}).flat()),{routes:B.map(hu),injector:F}}))}(T,this.compiler,y,this.onLoadEndListener).pipe((0,Jn.j)(()=>{this.childrenLoaders.delete(T)})),B=new qn(F,()=>new Xn.B).pipe(Vn());return this.childrenLoaders.set(T,B),B}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Iy(_){return function rw(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Hl=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:()=>(0,W.WQX)(fu),providedIn:"root"})}return _})(),fu=(()=>{class _{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,T){return y}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Ty=new W.nKC(""),wy=new W.nKC("");function Th(_,I,y){const T=_.get(wy),b=_.get(N.q);return _.get(W.SKi).runOutsideAngular(()=>{if(!b.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,new Promise(ft=>setTimeout(ft));let F;const B=new Promise(ft=>{F=ft}),ye=b.startViewTransition(()=>(F(),function ub(_){return new Promise(I=>{(0,W.mal)({read:()=>setTimeout(I)},{injector:_})})}(_))),{onViewTransitionCreated:be}=T;return be&&(0,W.N4e)(_,()=>be({transition:ye,from:I,to:y})),B})}const zl=new W.nKC("");let Ro=(()=>{class _{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xn.B;transitionAbortSubject=new Xn.B;configLoader=(0,W.WQX)(Ey);environmentInjector=(0,W.WQX)(W.uvJ);destroyRef=(0,W.WQX)(W.abz);urlSerializer=(0,W.WQX)(wt);rootContexts=(0,W.WQX)(yi);location=(0,W.WQX)(U.aZ);inputBindingEnabled=null!==(0,W.WQX)(ru,{optional:!0});titleStrategy=(0,W.WQX)(ug);options=(0,W.WQX)(du,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,W.WQX)(Hl);createViewTransition=(0,W.WQX)(Ty,{optional:!0});navigationErrorHandler=(0,W.WQX)(zl,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,te.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=b=>this.events.next(new gc(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new Ol(b)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(y){const T=++this.navigationId;this.transitions?.next({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:T})}setupNavigations(y){return this.transitions=new Ne.t(null),this.transitions.pipe((0,Oe.p)(T=>null!==T),(0,Ee.n)(T=>{let b=!1,F=!1;return(0,te.of)(T).pipe((0,Ee.n)(B=>{if(this.navigationId>T.id)return this.cancelNavigationTransition(T,"",ar.SupersededByNewNavigation),Nt;this.currentTransition=T,this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,targetBrowserUrl:"string"==typeof B.extras.browserUrl?this.urlSerializer.parse(B.extras.browserUrl):B.extras.browserUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ye=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ye&&"reload"!==(B.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const ft="";return this.events.next(new Ho(B.id,this.urlSerializer.serialize(B.rawUrl),ft,us.IgnoredSameUrlNavigation)),B.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return(0,te.of)(B).pipe((0,Ee.n)(ft=>(this.events.next(new Ut(ft.id,this.urlSerializer.serialize(ft.extractedUrl),ft.source,ft.restoredState)),ft.id!==this.navigationId?Nt:Promise.resolve(ft))),function ai(_,I,y,T,b,F){return(0,Je.Z)(B=>function Gs(_,I,y,T,b,F,B="emptyOnly"){return new Cc(_,I,y,T,b,B,F).recognize()}(_,I,y,T,B.extractedUrl,b,F).pipe((0,tn.T)(({state:ye,tree:be})=>({...B,targetSnapshot:ye,urlAfterRedirects:be}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),an(ft=>{T.targetSnapshot=ft.targetSnapshot,T.urlAfterRedirects=ft.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ft.urlAfterRedirects};const un=new _o(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(un)}));if(ye&&this.urlHandlingStrategy.shouldProcessUrl(B.currentRawUrl)){const{id:ft,extractedUrl:un,source:Zn,restoredState:tr,extras:Po}=B,ui=new Ut(ft,this.urlSerializer.serialize(un),Zn,tr);this.events.next(ui);const ys=bn(this.rootComponentType).snapshot;return this.currentTransition=T={...B,targetSnapshot:ys,urlAfterRedirects:un,extras:{...Po,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=un,(0,te.of)(T)}{const ft="";return this.events.next(new Ho(B.id,this.urlSerializer.serialize(B.extractedUrl),ft,us.IgnoredByUrlHandlingStrategy)),B.resolve(!1),Nt}}),an(B=>{const ye=new cs(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(ye)}),(0,tn.T)(B=>(this.currentTransition=T={...B,guards:hy(B.targetSnapshot,B.currentSnapshot,this.rootContexts)},T)),function yy(_,I){return(0,Je.Z)(y=>{const{targetSnapshot:T,currentSnapshot:b,guards:{canActivateChecks:F,canDeactivateChecks:B}}=y;return 0===B.length&&0===F.length?(0,te.of)({...y,guardsResult:!0}):function vy(_,I,y,T){return(0,le.H)(_).pipe((0,Je.Z)(b=>function gr(_,I,y,T,b){const F=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,te.of)(!0);const B=F.map(ye=>{const be=hs(I)??b,ft=dr(ye,be);return mn(function my(_){return _&&Wo(_.canDeactivate)}(ft)?ft.canDeactivate(_,I,y,T):(0,W.N4e)(be,()=>ft(_,I,y,T))).pipe(An())});return(0,te.of)(B).pipe(uu())}(b.component,b.route,y,I,T)),An(b=>!0!==b,!0))}(B,T,b,_).pipe((0,Je.Z)(ye=>ye&&function py(_){return"boolean"==typeof _}(ye)?function fa(_,I,y,T){return(0,le.H)(I).pipe((0,Tt.H)(b=>Fe(function jn(_,I){return null!==_&&I&&I(new ds(_)),(0,te.of)(!0)}(b.route.parent,T),function Ac(_,I){return null!==_&&I&&I(new Us(_)),(0,te.of)(!0)}(b.route,T),function Yt(_,I,y){const T=I[I.length-1],F=I.slice(0,I.length-1).reverse().map(B=>function fy(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(B)).filter(B=>null!==B).map(B=>yt(()=>{const ye=B.guards.map(be=>{const ft=hs(B.node)??y,un=dr(be,ft);return mn(function og(_){return _&&Wo(_.canActivateChild)}(un)?un.canActivateChild(T,_):(0,W.N4e)(ft,()=>un(T,_))).pipe(An())});return(0,te.of)(ye).pipe(uu())}));return(0,te.of)(F).pipe(uu())}(_,b.path,y),function ct(_,I,y){const T=I.routeConfig?I.routeConfig.canActivate:null;if(!T||0===T.length)return(0,te.of)(!0);const b=T.map(F=>yt(()=>{const B=hs(I)??y,ye=dr(F,B);return mn(function Zr(_){return _&&Wo(_.canActivate)}(ye)?ye.canActivate(I,_):(0,W.N4e)(B,()=>ye(I,_))).pipe(An())}));return(0,te.of)(b).pipe(uu())}(_,b.route,y))),An(b=>!0!==b,!0))}(T,F,_,I):(0,te.of)(ye)),(0,tn.T)(ye=>({...y,guardsResult:ye})))})}(this.environmentInjector,B=>this.events.next(B)),an(B=>{if(T.guardsResult=B.guardsResult,B.guardsResult&&"boolean"!=typeof B.guardsResult)throw su(0,B.guardsResult);const ye=new ls(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(ye)}),(0,Oe.p)(B=>!!B.guardsResult||(this.cancelNavigationTransition(B,"",ar.GuardRejected),!1)),lu(B=>{if(0!==B.guards.canActivateChecks.length)return(0,te.of)(B).pipe(an(ye=>{const be=new xl(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(be)}),(0,Ee.n)(ye=>{let be=!1;return(0,te.of)(ye).pipe(function Sc(_,I){return(0,Je.Z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:b}}=y;if(!b.length)return(0,te.of)(y);const F=new Set(b.map(be=>be.route)),B=new Set;for(const be of F)if(!B.has(be))for(const ft of Io(be))B.add(ft);let ye=0;return(0,le.H)(B).pipe((0,Tt.H)(be=>F.has(be)?function cu(_,I,y,T){const b=_.routeConfig,F=_._resolve;return void 0!==b?.title&&!ng(b)&&(F[_e]=b.title),function Bi(_,I,y,T){const b=lr(_);if(0===b.length)return(0,te.of)({});const F={};return(0,le.H)(b).pipe((0,Je.Z)(B=>function Ei(_,I,y,T){const b=hs(I)??T,F=dr(_,b);return mn(F.resolve?F.resolve(I,y):(0,W.N4e)(b,()=>F(I,y)))}(_[B],I,y,T).pipe(An(),an(ye=>{if(ye instanceof Dc)throw su(new Ft,ye);F[B]=ye}))),Kn(1),(0,tn.T)(()=>F),Wt(B=>sg(B)?Nt:Fn(B)))}(F,_,I,T).pipe((0,tn.T)(B=>(_._resolvedData=B,_.data=yo(_,_.parent,y).resolve,null)))}(be,T,_,I):(be.data=yo(be,be.parent,_).resolve,(0,te.of)(void 0))),an(()=>ye++),Kn(1),(0,Je.Z)(be=>ye===B.size?(0,te.of)(y):Nt))})}(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>be=!0,complete:()=>{be||this.cancelNavigationTransition(ye,"",ar.NoDataFromResolver)}}))}),an(ye=>{const be=new eu(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(be)}))}),lu(B=>{const ye=be=>{const ft=[];be.routeConfig?.loadComponent&&!be.routeConfig._loadedComponent&&ft.push(this.configLoader.loadComponent(be.routeConfig).pipe(an(un=>{be.component=un}),(0,tn.T)(()=>{})));for(const un of be.children)ft.push(...ye(un));return ft};return Mt(ye(B.targetSnapshot.root)).pipe(it(null),Pe(1))}),lu(()=>this.afterPreactivation()),(0,Ee.n)(()=>{const{currentSnapshot:B,targetSnapshot:ye}=T,be=this.createViewTransition?.(this.environmentInjector,B.root,ye.root);return be?(0,le.H)(be).pipe((0,tn.T)(()=>T)):(0,te.of)(T)}),(0,tn.T)(B=>{const ye=function js(_,I,y){const T=iu(_,I._root,y?y._root:void 0);return new Vi(T,I)}(y.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return this.currentTransition=T={...B,targetRouterState:ye},this.currentNavigation.targetRouterState=ye,T}),an(()=>{this.events.next(new mc)}),((_,I,y,T)=>(0,tn.T)(b=>(new rg(I,b.targetRouterState,b.currentRouterState,y,T).activate(_),b)))(this.rootContexts,y.routeReuseStrategy,B=>this.events.next(B),this.inputBindingEnabled),Pe(1),an({next:B=>{b=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects))),this.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{b=!0}}),function Oi(_){return(0,Zt.N)((I,y)=>{(0,st.Tg)(_).subscribe((0,rt._)(y,()=>y.complete(),Er.l)),!y.closed&&I.subscribe(y)})}(this.transitionAbortSubject.pipe(an(B=>{throw B}))),(0,Jn.j)(()=>{!b&&!F&&this.cancelNavigationTransition(T,"",ar.SupersededByNewNavigation),this.currentTransition?.id===T.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wt(B=>{if(this.destroyed)return T.resolve(!1),Nt;if(F=!0,Ul(B))this.events.next(new pr(T.id,this.urlSerializer.serialize(T.extractedUrl),B.message,B.cancellationCode)),function au(_){return Ul(_)&&C(_.url)}(B)?this.events.next(new qr(B.url,B.navigationBehaviorOptions)):T.resolve(!1);else{const ye=new Dt(T.id,this.urlSerializer.serialize(T.extractedUrl),B,T.targetSnapshot??void 0);try{const be=(0,W.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ye));if(!(be instanceof Dc))throw this.events.next(ye),B;{const{message:ft,cancellationCode:un}=su(0,be);this.events.next(new pr(T.id,this.urlSerializer.serialize(T.extractedUrl),ft,un)),this.events.next(new qr(be.redirectTo,be.navigationBehaviorOptions))}}catch(be){this.options.resolveNavigationPromiseOnError?T.resolve(!1):T.reject(be)}}return Nt}))}))}cancelNavigationTransition(y,T,b){const F=new pr(y.id,this.urlSerializer.serialize(y.extractedUrl),T,b);this.events.next(F),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),T=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return y.toString()!==T?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function iw(_){return _!==Ce}let wh=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:()=>(0,W.WQX)(ow),providedIn:"root"})}return _})();class cb{shouldDetach(I){return!1}store(I,y){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,y){return I.routeConfig===y.routeConfig}}let ow=(()=>{class _ extends cb{static \u0275fac=(()=>{let y;return function(b){return(y||(y=W.xGo(_)))(b||_)}})();static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),lg=(()=>{class _{urlSerializer=(0,W.WQX)(wt);options=(0,W.WQX)(du,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,W.WQX)(U.aZ);urlHandlingStrategy=(0,W.WQX)(Hl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new We;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:y,initialUrl:T,targetBrowserUrl:b}){const F=void 0!==y?this.urlHandlingStrategy.merge(y,T):T,B=b??F;return B instanceof We?this.urlSerializer.serialize(B):B}commitTransition({targetRouterState:y,finalUrl:T,initialUrl:b}){T&&y?(this.currentUrlTree=T,this.rawUrlTree=this.urlHandlingStrategy.merge(T,b),this.routerState=y):this.rawUrlTree=b}routerState=bn(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:y}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y??this.rawUrlTree)}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:()=>(0,W.WQX)(dg),providedIn:"root"})}return _})(),dg=(()=>{class _ extends lg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(T=>{"popstate"===T.type&&setTimeout(()=>{y(T.url,T.state,"popstate")})})}handleRouterEvent(y,T){y instanceof Ut?this.updateStateMemento():y instanceof Ho?this.commitTransition(T):y instanceof _o?"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(T),T)):y instanceof mc?(this.commitTransition(T),"deferred"===this.urlUpdateStrategy&&!T.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(T),T)):y instanceof pr&&(y.code===ar.GuardRejected||y.code===ar.NoDataFromResolver)?this.restoreHistory(T):y instanceof Dt?this.restoreHistory(T,!0):y instanceof fr&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,{extras:T,id:b}){const{replaceUrl:F,state:B}=T;if(this.location.isCurrentPathEqualTo(y)||F){const ye=this.browserPageId,be={...B,...this.generateNgRouterState(b,ye)};this.location.replaceState(y,"",be)}else{const ye={...B,...this.generateNgRouterState(b,this.browserPageId+1)};this.location.go(y,"",ye)}}restoreHistory(y,T=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-this.browserPageId;0!==F?this.location.historyGo(F):this.getCurrentUrlTree()===y.finalUrl&&0===F&&(this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}static \u0275fac=(()=>{let y;return function(b){return(y||(y=W.xGo(_)))(b||_)}})();static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Ea(_,I){_.events.pipe((0,Oe.p)(y=>y instanceof fr||y instanceof pr||y instanceof Dt||y instanceof Ho),(0,tn.T)(y=>y instanceof fr||y instanceof Ho?0:y instanceof pr&&(y.code===ar.Redirect||y.code===ar.SupersededByNewNavigation)?2:1),(0,Oe.p)(y=>2!==y),Pe(1)).subscribe(()=>{I()})}const Dy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ay=(()=>{class _{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,W.WQX)(W.H3F);stateManager=(0,W.WQX)(lg);options=(0,W.WQX)(du,{optional:!0})||{};pendingTasks=(0,W.WQX)(W.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,W.WQX)(Ro);urlSerializer=(0,W.WQX)(wt);location=(0,W.WQX)(U.aZ);urlHandlingStrategy=(0,W.WQX)(Hl);_events=new Xn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,W.WQX)(wh);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,W.WQX)($l,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,W.WQX)(ru,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}eventsSubscription=new dn.yU;subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(T=>{try{const b=this.navigationTransitions.currentTransition,F=this.navigationTransitions.currentNavigation;if(null!==b&&null!==F)if(this.stateManager.handleRouterEvent(T,F),T instanceof pr&&T.code!==ar.Redirect&&T.code!==ar.SupersededByNewNavigation)this.navigated=!0;else if(T instanceof fr)this.navigated=!0;else if(T instanceof qr){const B=T.navigationBehaviorOptions,ye=this.urlHandlingStrategy.merge(T.url,b.currentRawUrl),be={browserUrl:b.extras.browserUrl,info:b.extras.info,skipLocationChange:b.extras.skipLocationChange,replaceUrl:b.extras.replaceUrl||"eager"===this.urlUpdateStrategy||iw(b.source),...B};this.scheduleNavigation(ye,Ce,null,be,{resolve:b.resolve,reject:b.reject,promise:b.promise})}(function Ch(_){return!(_ instanceof mc||_ instanceof qr)})(T)&&this._events.next(T)}catch(b){this.navigationTransitions.transitionAbortSubject.next(b)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ce,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,T,b)=>{this.navigateToSyncWithBrowser(y,b,T)})}navigateToSyncWithBrowser(y,T,b){const F={replaceUrl:!0},B=b?.navigationId?b:null;if(b){const be={...b};delete be.navigationId,delete be.\u0275routerPageId,0!==Object.keys(be).length&&(F.state=be)}const ye=this.parseUrl(y);this.scheduleNavigation(ye,T,B,F)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(hu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,T={}){const{relativeTo:b,queryParams:F,fragment:B,queryParamsHandling:ye,preserveFragment:be}=T,ft=be?this.currentUrlTree.fragment:B;let Zn,un=null;switch(ye??this.options.defaultQueryParamsHandling){case"merge":un={...this.currentUrlTree.queryParams,...F};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=F||null}null!==un&&(un=this.removeEmptyProps(un));try{Zn=M(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Zn=this.currentUrlTree.root}return V(Zn,y,un,ft??null)}navigateByUrl(y,T={skipLocationChange:!1}){const b=C(y)?y:this.parseUrl(y),F=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(F,Ce,null,T)}navigate(y,T={skipLocationChange:!1}){return function Ah(_){for(let I=0;I<_.length;I++)if(null==_[I])throw new W.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,T){let b;if(b=!0===T?{...Dy}:!1===T?{...Dh}:T,C(y))return Uo(this.currentUrlTree,y,b);const F=this.parseUrl(y);return Uo(this.currentUrlTree,F,b)}removeEmptyProps(y){return Object.entries(y).reduce((T,[b,F])=>(null!=F&&(T[b]=F),T),{})}scheduleNavigation(y,T,b,F,B){if(this.disposed)return Promise.resolve(!1);let ye,be,ft;B?(ye=B.resolve,be=B.reject,ft=B.promise):ft=new Promise((Zn,tr)=>{ye=Zn,be=tr});const un=this.pendingTasks.add();return Ea(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(un))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:F,resolve:ye,reject:be,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(Zn=>Promise.reject(Zn))}static \u0275fac=function(T){return new(T||_)};static \u0275prov=W.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7440:($t,Qe,L)=>{L.d(Qe,{MW:()=>Le,Wp:()=>Mt,XU:()=>G,gL:()=>O});var N=L(2214),U=L(1360),W=L(5407);class G{constructor(Ke){return Ke}}class O{constructor(){return(0,N.Dk)()}}const te=new U.nKC("angularfire2._apps"),Ne={provide:G,useFactory:function le(Ie){return Ie&&1===Ie.length?Ie[0]:new G((0,N.Sx)())},deps:[[new U.Xx1,te]]},ne={provide:O,deps:[[new U.Xx1,te]]};function oe(Ie){return(Ke,Fe)=>{const st=Fe.get(U.Agw);(0,N.KO)("angularfire",W.xv.full,"core"),(0,N.KO)("angularfire",W.xv.full,"app"),(0,N.KO)("angular",U.xvI.full,st.toString());const yt=Ke.runOutsideAngular(()=>Ie(Fe));return new G(yt)}}function Le(Ie,...Ke){return(0,U.EmA)([Ne,ne,{provide:te,useFactory:oe(Ie),multi:!0,deps:[U.SKi,U.zZn,W.u0,...Ke]}])}const Mt=(0,W.S3)(N.Wp,!0)},7441:($t,Qe,L)=>{L.d(Qe,{X:()=>N});const N=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7673:($t,Qe,L)=>{L.d(Qe,{of:()=>W});var N=L(3794),U=L(8455);function W(...G){const O=(0,N.lI)(G);return(0,U.H)(G,O)}},7707:($t,Qe,L)=>{L.d(Qe,{Ms:()=>Rt,vU:()=>xe});var N=L(8071),U=L(8359),W=L(1026),G=L(5334),O=L(5343);const Me=Ne("C",void 0,void 0);function Ne(at,Ie,Ke){return{kind:at,value:Ie,error:Ke}}var ne=L(9270),oe=L(9786);class xe extends U.yU{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,U.Uv)(Ie)&&Ie.add(this)):this.destination=rn}static create(Ie,Ke,Fe){return new Rt(Ie,Ke,Fe)}next(Ie){this.isStopped?Ht(function te(at){return Ne("N",at,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Ht(function le(at){return Ne("E",void 0,at)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Ht(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function He(at,Ie){return Le.call(at,Ie)}class rt{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Ie)}catch(Fe){Mt(Fe)}}error(Ie){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Ie)}catch(Fe){Mt(Fe)}else Mt(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ke){Mt(Ke)}}}class Rt extends xe{constructor(Ie,Ke,Fe){let st;if(super(),(0,N.T)(Ie)||!Ie)st={next:Ie??void 0,error:Ke??void 0,complete:Fe??void 0};else{let yt;this&&W.$.useDeprecatedNextContext?(yt=Object.create(Ie),yt.unsubscribe=()=>this.unsubscribe(),st={next:Ie.next&&He(Ie.next,yt),error:Ie.error&&He(Ie.error,yt),complete:Ie.complete&&He(Ie.complete,yt)}):st=Ie}this.destination=new rt(st)}}function Mt(at){W.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(at):(0,G.m)(at)}function Ht(at,Ie){const{onStoppedNotification:Ke}=W.$;Ke&&ne.f.setTimeout(()=>Ke(at,Ie))}const rn={closed:!0,next:O.l,error:function Et(at){throw at},complete:O.l}},7852:($t,Qe,L)=>{L.d(Qe,{MF:()=>on,j6:()=>ii,xZ:()=>Ge,om:()=>zr,Sx:()=>Xt,Dk:()=>Wr,Wp:()=>nr,KO:()=>K});var N=L(467),U=L(1362),W=L(8041),G=L(6858);let Me,le;const ne=new WeakMap,oe=new WeakMap,xe=new WeakMap,Le=new WeakMap,He=new WeakMap;let Mt={get(q,J,pe){if(q instanceof IDBTransaction){if("done"===J)return oe.get(q);if("objectStoreNames"===J)return q.objectStoreNames||xe.get(q);if("store"===J)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return at(q[J])},set:(q,J,pe)=>(q[J]=pe,!0),has:(q,J)=>q instanceof IDBTransaction&&("done"===J||"store"===J)||J in q};function rn(q){return"function"==typeof q?function Ht(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...J){return q.apply(Ie(this),J),at(ne.get(this))}:function(...J){return at(q.apply(Ie(this),J))}:function(J,...pe){const Xe=q.call(Ie(this),J,...pe);return xe.set(Xe,J.sort?J.sort():[J]),at(Xe)}}(q):(q instanceof IDBTransaction&&function Rt(q){if(oe.has(q))return;const J=new Promise((pe,Xe)=>{const wt=()=>{q.removeEventListener("complete",Ft),q.removeEventListener("error",Kt),q.removeEventListener("abort",Kt)},Ft=()=>{pe(),wt()},Kt=()=>{Xe(q.error||new DOMException("AbortError","AbortError")),wt()};q.addEventListener("complete",Ft),q.addEventListener("error",Kt),q.addEventListener("abort",Kt)});oe.set(q,J)}(q),((q,J)=>J.some(pe=>q instanceof pe))(q,function te(){return Me||(Me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Mt):q)}function at(q){if(q instanceof IDBRequest)return function rt(q){const J=new Promise((pe,Xe)=>{const wt=()=>{q.removeEventListener("success",Ft),q.removeEventListener("error",Kt)},Ft=()=>{pe(at(q.result)),wt()},Kt=()=>{Xe(q.error),wt()};q.addEventListener("success",Ft),q.addEventListener("error",Kt)});return J.then(pe=>{pe instanceof IDBCursor&&ne.set(pe,q)}).catch(()=>{}),He.set(J,q),J}(q);if(Le.has(q))return Le.get(q);const J=rn(q);return J!==q&&(Le.set(q,J),He.set(J,q)),J}const Ie=q=>He.get(q),st=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],Dn=new Map;function Fn(q,J){if(!(q instanceof IDBDatabase)||J in q||"string"!=typeof J)return;if(Dn.get(J))return Dn.get(J);const pe=J.replace(/FromIndex$/,""),Xe=J!==pe,wt=yt.includes(pe);if(!(pe in(Xe?IDBIndex:IDBObjectStore).prototype)||!wt&&!st.includes(pe))return;const Ft=function(){var Kt=(0,N.A)(function*(pn,...yn){const Nn=this.transaction(pn,wt?"readwrite":"readonly");let vn=Nn.store;return Xe&&(vn=vn.index(yn.shift())),(yield Promise.all([vn[pe](...yn),wt&&Nn.done]))[0]});return function(yn){return Kt.apply(this,arguments)}}();return Dn.set(J,Ft),Ft}!function Et(q){Mt=q(Mt)}(q=>({...q,get:(J,pe,Xe)=>Fn(J,pe)||q.get(J,pe,Xe),has:(J,pe)=>!!Fn(J,pe)||q.has(J,pe)}));class Nt{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(pe=>{if(function qt(q){const J=q.getComponent();return"VERSION"===J?.type}(pe)){const Xe=pe.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(pe=>pe).join(" ")}}const Qt="@firebase/app",Zt=new W.Vy("@firebase/app"),Vn="@firebase/app-compat",qn="@firebase/analytics-compat",Xn="@firebase/analytics",tn="@firebase/app-check-compat",Ee="@firebase/app-check",Pe="@firebase/auth",Ve="@firebase/auth-compat",Oe="@firebase/database",Je="@firebase/data-connect",it="@firebase/database-compat",kt="@firebase/functions",Ct="@firebase/functions-compat",An="@firebase/installations",Tt="@firebase/installations-compat",an="@firebase/messaging",Wt="@firebase/messaging-compat",br="@firebase/performance",Tn="@firebase/performance-compat",Kn="@firebase/remote-config",kn="@firebase/remote-config-compat",Jn="@firebase/storage",Er="@firebase/storage-compat",Oi="@firebase/firestore",Ai="@firebase/vertexai",Ci="@firebase/firestore-compat",kr="firebase",xr="[DEFAULT]",Zi={[Qt]:"fire-core",[Vn]:"fire-core-compat",[Xn]:"fire-analytics",[qn]:"fire-analytics-compat",[Ee]:"fire-app-check",[tn]:"fire-app-check-compat",[Pe]:"fire-auth",[Ve]:"fire-auth-compat",[Oe]:"fire-rtdb",[Je]:"fire-data-connect",[it]:"fire-rtdb-compat",[kt]:"fire-fn",[Ct]:"fire-fn-compat",[An]:"fire-iid",[Tt]:"fire-iid-compat",[an]:"fire-fcm",[Wt]:"fire-fcm-compat",[br]:"fire-perf",[Tn]:"fire-perf-compat",[Kn]:"fire-rc",[kn]:"fire-rc-compat",[Jn]:"fire-gcs",[Er]:"fire-gcs-compat",[Oi]:"fire-fst",[Ci]:"fire-fst-compat",[Ai]:"fire-vertex","fire-js":"fire-js",[kr]:"fire-js-all"},Xr=new Map,mt=new Map,ri=new Map;function Sr(q,J){try{q.container.addComponent(J)}catch(pe){Zt.debug(`Component ${J.name} failed to register with FirebaseApp ${q.name}`,pe)}}function zr(q){const J=q.name;if(ri.has(J))return Zt.debug(`There were multiple attempts to register component ${J}.`),!1;ri.set(J,q);for(const pe of Xr.values())Sr(pe,q);for(const pe of mt.values())Sr(pe,q);return!0}function ii(q,J){const pe=q.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),q.container.getProvider(J)}function Ge(q){return null!=q&&void 0!==q.settings}const De=new G.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class et{constructor(J,pe,Xe){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},pe),this._name=pe.name,this._automaticDataCollectionEnabled=pe.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new U.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}const on="11.6.0";function nr(q,J={}){let pe=q;"object"!=typeof J&&(J={name:J});const Xe=Object.assign({name:xr,automaticDataCollectionEnabled:!1},J),wt=Xe.name;if("string"!=typeof wt||!wt)throw De.create("bad-app-name",{appName:String(wt)});if(pe||(pe=(0,G.T9)()),!pe)throw De.create("no-options");const Ft=Xr.get(wt);if(Ft){if((0,G.bD)(pe,Ft.options)&&(0,G.bD)(Xe,Ft.config))return Ft;throw De.create("duplicate-app",{appName:wt})}const Kt=new U.h1(wt);for(const yn of ri.values())Kt.addComponent(yn);const pn=new et(pe,Xe,Kt);return Xr.set(wt,pn),pn}function Xt(q=xr){const J=Xr.get(q);if(!J&&q===xr&&(0,G.T9)())return nr();if(!J)throw De.create("no-app",{appName:q});return J}function Wr(){return Array.from(Xr.values())}function K(q,J,pe){var Xe;let wt=null!==(Xe=Zi[q])&&void 0!==Xe?Xe:q;pe&&(wt+=`-${pe}`);const Ft=wt.match(/\s|\//),Kt=J.match(/\s|\//);if(Ft||Kt){const pn=[`Unable to register library "${wt}" with version "${J}":`];return Ft&&pn.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Ft&&Kt&&pn.push("and"),Kt&&pn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Zt.warn(pn.join(" "))}zr(new U.uA(`${wt}-version`,()=>({library:wt,version:J}),"VERSION"))}const jt="firebase-heartbeat-store";let Cn=null;function lr(){return Cn||(Cn=function Ke(q,J,{blocked:pe,upgrade:Xe,blocking:wt,terminated:Ft}={}){const Kt=indexedDB.open(q,J),pn=at(Kt);return Xe&&Kt.addEventListener("upgradeneeded",yn=>{Xe(at(Kt.result),yn.oldVersion,yn.newVersion,at(Kt.transaction),yn)}),pe&&Kt.addEventListener("blocked",yn=>pe(yn.oldVersion,yn.newVersion,yn)),pn.then(yn=>{Ft&&yn.addEventListener("close",()=>Ft()),wt&&yn.addEventListener("versionchange",Nn=>wt(Nn.oldVersion,Nn.newVersion,Nn))}).catch(()=>{}),pn}("firebase-heartbeat-database",1,{upgrade:(q,J)=>{if(0===J)try{q.createObjectStore(jt)}catch(pe){console.warn(pe)}}}).catch(q=>{throw De.create("idb-open",{originalErrorMessage:q.message})})),Cn}function Ir(){return(Ir=(0,N.A)(function*(q){try{const pe=(yield lr()).transaction(jt),Xe=yield pe.objectStore(jt).get(bi(q));return yield pe.done,Xe}catch(J){if(J instanceof G.g)Zt.warn(J.message);else{const pe=De.create("idb-get",{originalErrorMessage:J?.message});Zt.warn(pe.message)}}})).apply(this,arguments)}function mn(q,J){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.A)(function*(q,J){try{const Xe=(yield lr()).transaction(jt,"readwrite");yield Xe.objectStore(jt).put(J,bi(q)),yield Xe.done}catch(pe){if(pe instanceof G.g)Zt.warn(pe.message);else{const Xe=De.create("idb-set",{originalErrorMessage:pe?.message});Zt.warn(Xe.message)}}})).apply(this,arguments)}function bi(q){return`${q.name}!${q.options.appId}`}class Bo{constructor(J){this.container=J,this._heartbeatsCache=null;const pe=this.container.getProvider("app").getImmediate();this._storage=new Q(pe),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var J=this;return(0,N.A)(function*(){var pe,Xe;try{const Ft=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=ss();if(null==(null===(pe=J._heartbeatsCache)||void 0===pe?void 0:pe.heartbeats)&&(J._heartbeatsCache=yield J._heartbeatsCachePromise,null==(null===(Xe=J._heartbeatsCache)||void 0===Xe?void 0:Xe.heartbeats))||J._heartbeatsCache.lastSentHeartbeatDate===Kt||J._heartbeatsCache.heartbeats.some(pn=>pn.date===Kt))return;if(J._heartbeatsCache.heartbeats.push({date:Kt,agent:Ft}),J._heartbeatsCache.heartbeats.length>30){const pn=function We(q){if(0===q.length)return-1;let J=0,pe=q[0].date;for(let Xe=1;Xe<q.length;Xe++)q[Xe].date<pe&&(pe=q[Xe].date,J=Xe);return J}(J._heartbeatsCache.heartbeats);J._heartbeatsCache.heartbeats.splice(pn,1)}return J._storage.overwrite(J._heartbeatsCache)}catch(wt){Zt.warn(wt)}})()}getHeartbeatsHeader(){var J=this;return(0,N.A)(function*(){var pe;try{if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null==(null===(pe=J._heartbeatsCache)||void 0===pe?void 0:pe.heartbeats)||0===J._heartbeatsCache.heartbeats.length)return"";const Xe=ss(),{heartbeatsToSend:wt,unsentEntries:Ft}=function $(q,J=1024){const pe=[];let Xe=q.slice();for(const wt of q){const Ft=pe.find(Kt=>Kt.agent===wt.agent);if(Ft){if(Ft.dates.push(wt.date),ue(pe)>J){Ft.dates.pop();break}}else if(pe.push({agent:wt.agent,dates:[wt.date]}),ue(pe)>J){pe.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:pe,unsentEntries:Xe}}(J._heartbeatsCache.heartbeats),Kt=(0,G.Uj)(JSON.stringify({version:2,heartbeats:wt}));return J._heartbeatsCache.lastSentHeartbeatDate=Xe,Ft.length>0?(J._heartbeatsCache.heartbeats=Ft,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Kt}catch(Xe){return Zt.warn(Xe),""}})()}}function ss(){return(new Date).toISOString().substring(0,10)}class Q{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,N.A)(function*(){return!!(0,G.zW)()&&(0,G.eX)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,N.A)(function*(){if(yield J._canUseIndexedDBPromise){const Xe=yield function Gr(q){return Ir.apply(this,arguments)}(J.app);return Xe?.heartbeats?Xe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(J){var pe=this;return(0,N.A)(function*(){var Xe;if(yield pe._canUseIndexedDBPromise){const Ft=yield pe.read();return mn(pe.app,{lastSentHeartbeatDate:null!==(Xe=J.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Ft.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var pe=this;return(0,N.A)(function*(){var Xe;if(yield pe._canUseIndexedDBPromise){const Ft=yield pe.read();return mn(pe.app,{lastSentHeartbeatDate:null!==(Xe=J.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...J.heartbeats]})}})()}}function ue(q){return(0,G.Uj)(JSON.stringify({version:2,heartbeats:q})).length}!function nt(q){zr(new U.uA("platform-logger",J=>new Nt(J),"PRIVATE")),zr(new U.uA("heartbeat",J=>new Bo(J),"PRIVATE")),K(Qt,"0.11.4",q),K(Qt,"0.11.4","esm2017"),K("fire-js","")}("")},7908:($t,Qe,L)=>{function N(U,W){if(U){const G=U.indexOf(W);0<=G&&U.splice(G,1)}}L.d(Qe,{o:()=>N})},7953:($t,Qe,L)=>{L.d(Qe,{T:()=>U});var N=L(8071);function U(W){return Symbol.asyncIterator&&(0,N.T)(W?.[Symbol.asyncIterator])}},8041:($t,Qe,L)=>{L.d(Qe,{$b:()=>U,Vy:()=>le});const N=[];var U=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(U||{});const W={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},G=U.INFO,O={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Me=(ne,oe,...xe)=>{if(oe<ne.logLevel)return;const Le=(new Date).toISOString(),He=O[oe];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[He](`[${Le}]  ${ne.name}:`,...xe)};class le{constructor(oe){this.name=oe,this._logLevel=G,this._logHandler=Me,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in U))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?W[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...oe),this._logHandler(this,U.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...oe),this._logHandler(this,U.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,U.INFO,...oe),this._logHandler(this,U.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,U.WARN,...oe),this._logHandler(this,U.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...oe),this._logHandler(this,U.ERROR,...oe)}}},8071:($t,Qe,L)=>{function N(U){return"function"==typeof U}L.d(Qe,{T:()=>N})},8359:($t,Qe,L)=>{L.d(Qe,{Kn:()=>Me,yU:()=>O,Uv:()=>le});var N=L(8071);const W=(0,L(1853).L)(Ne=>function(oe){Ne(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((xe,Le)=>`${Le+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var G=L(7908);class O{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const He of oe)He.remove(this);else oe.remove(this);const{initialTeardown:xe}=this;if((0,N.T)(xe))try{xe()}catch(He){ne=He instanceof W?He.errors:[He]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const He of Le)try{te(He)}catch(rt){ne=ne??[],rt instanceof W?ne=[...ne,...rt.errors]:ne.push(rt)}}if(ne)throw new W(ne)}}add(ne){var oe;if(ne&&ne!==this)if(this.closed)te(ne);else{if(ne instanceof O){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ne)}}_hasParent(ne){const{_parentage:oe}=this;return oe===ne||Array.isArray(oe)&&oe.includes(ne)}_addParent(ne){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ne),oe):oe?[oe,ne]:ne}_removeParent(ne){const{_parentage:oe}=this;oe===ne?this._parentage=null:Array.isArray(oe)&&(0,G.o)(oe,ne)}remove(ne){const{_finalizers:oe}=this;oe&&(0,G.o)(oe,ne),ne instanceof O&&ne._removeParent(this)}}O.EMPTY=(()=>{const Ne=new O;return Ne.closed=!0,Ne})();const Me=O.EMPTY;function le(Ne){return Ne instanceof O||Ne&&"closed"in Ne&&(0,N.T)(Ne.remove)&&(0,N.T)(Ne.add)&&(0,N.T)(Ne.unsubscribe)}function te(Ne){(0,N.T)(Ne)?Ne():Ne.unsubscribe()}},8434:($t,Qe,L)=>{L.d(Qe,{MD:()=>oi,PV:()=>Nn,Sq:()=>lr,bT:()=>mn,fw:()=>W});var N=L(1360),U=L(1482);let W=(()=>{class C extends U.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(M,V){super(),this._platformLocation=M,null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){const V=this._platformLocation.hash??"#";return V.length>0?V.substring(1):V}prepareExternalUrl(M){const V=(0,U.om)(this._baseHref,M);return V.length>0?"#"+V:V}pushState(M,V,ie,se){const dt=this.prepareExternalUrl(ie+(0,U.Q)(se))||this._platformLocation.pathname;this._platformLocation.pushState(M,V,dt)}replaceState(M,V,ie,se){const dt=this.prepareExternalUrl(ie+(0,U.Q)(se))||this._platformLocation.pathname;this._platformLocation.replaceState(M,V,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static \u0275fac=function(V){return new(V||C)(N.KVO(U.Vw),N.KVO(U.kB,8))};static \u0275prov=N.jDH({token:C,factory:C.\u0275fac})}return C})();class Cn{$implicit;ngForOf;index;count;constructor(Z,M,V,ie){this.$implicit=Z,this.ngForOf=M,this.index=V,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class C{_viewContainer;_template;_differs;set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(M,V,ie){this._viewContainer=M,this._template=V,this._differs=ie}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const V=this._viewContainer;M.forEachOperation((ie,se,dt)=>{if(null==ie.previousIndex)V.createEmbeddedView(this._template,new Cn(ie.item,this._ngForOf,-1,-1),null===dt?void 0:dt);else if(null==dt)V.remove(null===se?void 0:se);else if(null!==se){const Ot=V.get(se);V.move(Ot,dt),Gr(Ot,ie)}});for(let ie=0,se=V.length;ie<se;ie++){const Ot=V.get(ie).context;Ot.index=ie,Ot.count=se,Ot.ngForOf=this._ngForOf}M.forEachIdentityChange(ie=>{Gr(V.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(M,V){return!0}static \u0275fac=function(V){return new(V||C)(N.rXU(N.c1b),N.rXU(N.C4Q),N.rXU(N._q3))};static \u0275dir=N.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return C})();function Gr(C,Z){C.context.$implicit=Z.item}let mn=(()=>{class C{_viewContainer;_context=new mi;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(M,V){this._viewContainer=M,this._thenTemplateRef=V}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){bi(M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){bi(M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(M,V){return!0}static \u0275fac=function(V){return new(V||C)(N.rXU(N.c1b),N.rXU(N.C4Q))};static \u0275dir=N.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return C})();class mi{$implicit=null;ngIf=null}function bi(C,Z){if(C&&!C.createEmbeddedView)throw new N.wOt(2020,!1)}const yn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Nn=(()=>{class C{transform(M){if(null==M)return null;if("string"!=typeof M)throw function J(C,Z){return new N.wOt(2100,!1)}();return M.replace(yn,V=>V[0].toUpperCase()+V.slice(1).toLowerCase())}static \u0275fac=function(V){return new(V||C)};static \u0275pipe=N.EJ8({name:"titlecase",type:C,pure:!0})}return C})(),oi=(()=>{class C{static \u0275fac=function(V){return new(V||C)};static \u0275mod=N.$C({type:C});static \u0275inj=N.G2t({})}return C})()},8455:($t,Qe,L)=>{L.d(Qe,{H:()=>Ie});var N=L(8750),U=L(941),W=L(6745),Me=L(1985),te=L(4761),Ne=L(8071),ne=L(5225);function xe(Ke,Fe){if(!Ke)throw new Error("Iterable cannot be null");return new Me.c(st=>{(0,ne.N)(st,Fe,()=>{const yt=Ke[Symbol.asyncIterator]();(0,ne.N)(st,Fe,()=>{yt.next().then(Dn=>{Dn.done?st.complete():st.next(Dn.value)})},0,!0)})})}var Le=L(5055),He=L(9858),rt=L(7441),Rt=L(5397),Mt=L(7953),Et=L(591),Ht=L(5196);function Ie(Ke,Fe){return Fe?function at(Ke,Fe){if(null!=Ke){if((0,Le.l)(Ke))return function G(Ke,Fe){return(0,N.Tg)(Ke).pipe((0,W._)(Fe),(0,U.Q)(Fe))}(Ke,Fe);if((0,rt.X)(Ke))return function le(Ke,Fe){return new Me.c(st=>{let yt=0;return Fe.schedule(function(){yt===Ke.length?st.complete():(st.next(Ke[yt++]),st.closed||this.schedule())})})}(Ke,Fe);if((0,He.y)(Ke))return function O(Ke,Fe){return(0,N.Tg)(Ke).pipe((0,W._)(Fe),(0,U.Q)(Fe))}(Ke,Fe);if((0,Mt.T)(Ke))return xe(Ke,Fe);if((0,Rt.x)(Ke))return function oe(Ke,Fe){return new Me.c(st=>{let yt;return(0,ne.N)(st,Fe,()=>{yt=Ke[te.l](),(0,ne.N)(st,Fe,()=>{let Dn,Fn;try{({value:Dn,done:Fn}=yt.next())}catch(Nt){return void st.error(Nt)}Fn?st.complete():st.next(Dn)},0,!0)}),()=>(0,Ne.T)(yt?.return)&&yt.return()})}(Ke,Fe);if((0,Ht.U)(Ke))return function rn(Ke,Fe){return xe((0,Ht.C)(Ke),Fe)}(Ke,Fe)}throw(0,Et.L)(Ke)}(Ke,Fe):(0,N.Tg)(Ke)}},8496:($t,Qe,L)=>{function N(U,W){return U.reduce((G,O,Me)=>(G[O]=W[Me],G),{})}L.d(Qe,{e:()=>N})},8750:($t,Qe,L)=>{L.d(Qe,{Tg:()=>Le});var N=L(1635),U=L(7441),W=L(9858),G=L(1985),O=L(5055),Me=L(7953),le=L(591),te=L(5397),Ne=L(5196),ne=L(8071),oe=L(5334),xe=L(3494);function Le(at){if(at instanceof G.c)return at;if(null!=at){if((0,O.l)(at))return function He(at){return new G.c(Ie=>{const Ke=at[xe.s]();if((0,ne.T)(Ke.subscribe))return Ke.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,U.X)(at))return function rt(at){return new G.c(Ie=>{for(let Ke=0;Ke<at.length&&!Ie.closed;Ke++)Ie.next(at[Ke]);Ie.complete()})}(at);if((0,W.y)(at))return function Rt(at){return new G.c(Ie=>{at.then(Ke=>{Ie.closed||(Ie.next(Ke),Ie.complete())},Ke=>Ie.error(Ke)).then(null,oe.m)})}(at);if((0,Me.T)(at))return Et(at);if((0,te.x)(at))return function Mt(at){return new G.c(Ie=>{for(const Ke of at)if(Ie.next(Ke),Ie.closed)return;Ie.complete()})}(at);if((0,Ne.U)(at))return function Ht(at){return Et((0,Ne.C)(at))}(at)}throw(0,le.L)(at)}function Et(at){return new G.c(Ie=>{(function rn(at,Ie){var Ke,Fe,st,yt;return(0,N.sH)(this,void 0,void 0,function*(){try{for(Ke=(0,N.xN)(at);!(Fe=yield Ke.next()).done;)if(Ie.next(Fe.value),Ie.closed)return}catch(Dn){st={error:Dn}}finally{try{Fe&&!Fe.done&&(yt=Ke.return)&&(yield yt.call(Ke))}finally{if(st)throw st.error}}Ie.complete()})})(at,Ie).catch(Ke=>Ie.error(Ke))})}},9079:($t,Qe,L)=>{L.d(Qe,{YV:()=>oe,ot:()=>Ne});var N=L(1360),U=L(1985);function Ne(Le,He){const rt=!He?.manualCleanup;rt&&!He?.injector&&(0,N.Af3)(Ne);const Rt=rt?He?.injector?.get(N.abz)??(0,N.WQX)(N.abz):null,Mt=function ne(Le=Object.is){return(He,rt)=>1===He.kind&&1===rt.kind&&Le(He.value,rt.value)}(He?.equal);let Et;Et=(0,N.vPA)(He?.requireSync?{kind:0}:{kind:1,value:He?.initialValue},{equal:Mt});const Ht=Le.subscribe({next:rn=>Et.set({kind:1,value:rn}),error:rn=>{if(He?.rejectErrors)throw rn;Et.set({kind:2,error:rn})}});if(He?.requireSync&&0===Et().kind)throw new N.wOt(601,!1);return Rt?.onDestroy(Ht.unsubscribe.bind(Ht)),(0,N.EWP)(()=>{const rn=Et();switch(rn.kind){case 1:return rn.value;case 2:throw rn.error;case 0:throw new N.wOt(601,!1)}},{equal:He?.equal})}function oe(Le){void 0===Le&&((0,N.Af3)(oe),Le=(0,N.WQX)(N.zZn));const He=Le.get(N.u5s);return rt=>new U.c(Rt=>{const Mt=He.add();let Et=!1;function Ht(){Et||(Mt(),Et=!0)}const rn=rt.subscribe({next:at=>{Rt.next(at),Ht()},complete:()=>{Rt.complete(),Ht()},error:at=>{Rt.error(at),Ht()}});return rn.add(()=>{Rt.unsubscribe(),Ht()}),rn})}},9270:($t,Qe,L)=>{L.d(Qe,{f:()=>N});const N={setTimeout(U,W,...G){const{delegate:O}=N;return O?.setTimeout?O.setTimeout(U,W,...G):setTimeout(U,W,...G)},clearTimeout(U){const{delegate:W}=N;return(W?.clearTimeout||clearTimeout)(U)},delegate:void 0}},9361:($t,Qe,L)=>{L.d(Qe,{q:()=>U});const U=new(L(1360).nKC)("")},9377:($t,Qe,L)=>{function N(le,te){te=encodeURIComponent(te);for(const Ne of le.split(";")){const ne=Ne.indexOf("="),[oe,xe]=-1==ne?[Ne,""]:[Ne.slice(0,ne),Ne.slice(ne+1)];if(oe.trim()===te)return decodeURIComponent(xe)}return null}L.d(Qe,{N0:()=>Me,Vy:()=>O,Zn:()=>U,bS:()=>N});const U="browser",W="server";function O(le){return le===W}class Me{}},9786:($t,Qe,L)=>{L.d(Qe,{Y:()=>W,l:()=>G});var N=L(1026);let U=null;function W(O){if(N.$.useDeprecatedSynchronousErrorHandling){const Me=!U;if(Me&&(U={errorThrown:!1,error:null}),O(),Me){const{errorThrown:le,error:te}=U;if(U=null,le)throw te}}else O()}function G(O){N.$.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=O)}},9858:($t,Qe,L)=>{L.d(Qe,{y:()=>U});var N=L(8071);function U(W){return(0,N.T)(W?.then)}},9974:($t,Qe,L)=>{L.d(Qe,{N:()=>W,S:()=>U});var N=L(8071);function U(G){return(0,N.T)(G?.lift)}function W(G){return O=>{if(U(O))return O.lift(function(Me){try{return G(Me,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}}},$t=>{$t($t.s=884)}]);