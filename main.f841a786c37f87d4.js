"use strict";(self.webpackChunkrecipe_finder=self.webpackChunkrecipe_finder||[]).push([[792],{274:(jt,qe,j)=>{j.d(qe,{H:()=>X});var x=j(1397),K=j(8071);function X(Pe,U){return(0,K.T)(U)?(0,x.Z)(Pe,U,1):(0,x.Z)(Pe,1)}},460:(jt,qe,j)=>{j.d(qe,{D:()=>K});const K=new(j(9498).nKC)("")},467:(jt,qe,j)=>{function x(X,Pe,U,Ne,he,ne,z){try{var ie=X[ne](z),se=ie.value}catch(Oe){return void U(Oe)}ie.done?Pe(se):Promise.resolve(se).then(Ne,he)}function K(X){return function(){var Pe=this,U=arguments;return new Promise(function(Ne,he){var ne=X.apply(Pe,U);function z(se){x(ne,Ne,he,z,ie,"next",se)}function ie(se){x(ne,Ne,he,z,ie,"throw",se)}z(void 0)})}}j.d(qe,{A:()=>K})},591:(jt,qe,j)=>{function x(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(qe,{L:()=>x})},941:(jt,qe,j)=>{j.d(qe,{Q:()=>Pe});var x=j(5225),K=j(9974),X=j(4360);function Pe(U,Ne=0){return(0,K.N)((he,ne)=>{he.subscribe((0,X._)(ne,z=>(0,x.N)(ne,U,()=>ne.next(z),Ne),()=>(0,x.N)(ne,U,()=>ne.complete(),Ne),z=>(0,x.N)(ne,U,()=>ne.error(z),Ne)))})}},980:(jt,qe,j)=>{j.d(qe,{j:()=>K});var x=j(9974);function K(X){return(0,x.N)((Pe,U)=>{try{Pe.subscribe(U)}finally{U.add(X)}})}},1026:(jt,qe,j)=>{j.d(qe,{$:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(jt,qe,j)=>{j.d(qe,{F:()=>K,m:()=>X});var x=j(3669);function K(...Pe){return X(Pe)}function X(Pe){return 0===Pe.length?x.D:1===Pe.length?Pe[0]:function(Ne){return Pe.reduce((he,ne)=>ne(he),Ne)}}},1350:(jt,qe,j)=>{j.d(qe,{$:()=>Dh,J:()=>zt,M:()=>Lt,R:()=>wa,S:()=>pe,W:()=>Na,X:()=>C,Y:()=>yy,Z:()=>Xo,_:()=>Kl,a0:()=>mu,a1:()=>Ah,a2:()=>Iy,a3:()=>Ey,a4:()=>Vt,g:()=>mr,i:()=>xo,j:()=>ko,k:()=>Mt,t:()=>wy,u:()=>Du,v:()=>Gl,w:()=>sr,x:()=>Fi,Qb:()=>Wl});var x=j(460),K=j(2300),X=j(9498),Pe=j(1985),U=j(8071),he=j(8455),ne=j(7673),z=j(4412),ie=j(3073),se=j(3669),Oe=j(6450),Ue=j(3794),ze=j(8496),it=j(4360),wt=j(5225);function Dt(..._){const E=(0,Ue.lI)(_),y=(0,Ue.ms)(_),{args:T,keys:b}=(0,ie.D)(_);if(0===T.length)return(0,he.H)([],E);const V=new Pe.c(function mt(_,E,y=se.D){return T=>{Ft(E,()=>{const{length:b}=_,V=new Array(b);let $=b,_e=b;for(let be=0;be<b;be++)Ft(E,()=>{const ct=(0,he.H)(_[be],E);let tn=!1;ct.subscribe((0,it._)(T,Kn=>{V[be]=Kn,tn||(tn=!0,_e--),_e||T.next(y(V.slice()))},()=>{--$||T.complete()}))},T)},T)}}(T,E,b?$=>(0,ze.e)(b,$):se.D));return y?V.pipe((0,Oe.I)(y)):V}function Ft(_,E,y){_?(0,wt.N)(y,_,E):E()}const rt=(0,j(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var we=j(6365);function Ve(..._){return function Qe(){return(0,we.U)(1)}()((0,he.H)(_,(0,Ue.lI)(_)))}var tt=j(8750);function pt(_){return new Pe.c(E=>{(0,tt.Tg)(_()).subscribe(E)})}var Sn=j(1203);function rr(_,E){const y=(0,U.T)(_)?_:()=>_,T=b=>b.error(y());return new Pe.c(E?b=>E.schedule(T,0,b):T)}const Pt=new Pe.c(_=>_.complete());var fn=j(8359),Yt=j(9974);function Xn(){return(0,Yt.N)((_,E)=>{let y=null;_._refCount++;const T=(0,it._)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(y=null);const b=_._connection,V=y;y=null,b&&(!V||b===V)&&b.unsubscribe(),E.unsubscribe()});_.subscribe(T),T.closed||(y=_.connect())})}class vr extends Pe.c{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Yt.S)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new fn.yU;const y=this.getSubject();E.add(this.source.subscribe((0,it._)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=fn.yU.EMPTY)}return E}refCount(){return Xn()(this)}}var br=j(1413),rn=j(6354),Ee=j(5558);function Me(_){return _<=0?()=>Pt:(0,Yt.N)((E,y)=>{let T=0;E.subscribe((0,it._)(y,b=>{++T<=_&&(y.next(b),_<=T&&y.complete())}))})}var Le=j(5964),Ye=j(1397);function Je(_){return(0,Yt.N)((E,y)=>{let T=!1;E.subscribe((0,it._)(y,b=>{T=!0,y.next(b)},()=>{T||y.next(_),y.complete()}))})}function Rt(_=Et){return(0,Yt.N)((E,y)=>{let T=!1;E.subscribe((0,it._)(y,b=>{T=!0,y.next(b)},()=>T?y.complete():y.error(_())))})}function Et(){return new rt}function Rn(_,E){const y=arguments.length>=2;return T=>T.pipe(_?(0,Le.p)((b,V)=>_(b,V,T)):se.D,Me(1),y?Je(E):Rt(()=>new rt))}var It=j(274);function sn(_,E,y){const T=(0,U.T)(_)||E||y?{next:_,error:E,complete:y}:_;return T?(0,Yt.N)((b,V)=>{var $;null===($=T.subscribe)||void 0===$||$.call(T);let _e=!0;b.subscribe((0,it._)(V,be=>{var ct;null===(ct=T.next)||void 0===ct||ct.call(T,be),V.next(be)},()=>{var be;_e=!1,null===(be=T.complete)||void 0===be||be.call(T),V.complete()},be=>{var ct;_e=!1,null===(ct=T.error)||void 0===ct||ct.call(T,be),V.error(be)},()=>{var be,ct;_e&&(null===(be=T.unsubscribe)||void 0===be||be.call(T)),null===(ct=T.finalize)||void 0===ct||ct.call(T)}))}):se.D}function Ht(_){return(0,Yt.N)((E,y)=>{let V,T=null,b=!1;T=E.subscribe((0,it._)(y,void 0,void 0,$=>{V=(0,tt.Tg)(_($,Ht(_)(E))),T?(T.unsubscribe(),T=null,V.subscribe(y)):b=!0})),b&&(T.unsubscribe(),T=null,V.subscribe(y))})}function Zn(_){return _<=0?()=>Pt:(0,Yt.N)((E,y)=>{let T=[];E.subscribe((0,it._)(y,b=>{T.push(b),_<T.length&&T.shift()},()=>{for(const b of T)y.next(b);y.complete()},void 0,()=>{T=null}))})}var Jn=j(980),Kr=j(5343);let io=(()=>{class _{_doc;constructor(y){this._doc=y}getTitle(){return this._doc.title}setTitle(y){this._doc.title=y||""}static \u0275fac=function(T){return new(T||_)(X.KVO(x.D))};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Q="primary",me=Symbol("RouteTitle");class Ke{params;constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function de(_){return new Ke(_)}function At(_,E,y){const T=y.path.split("/");if(T.length>_.length||"full"===y.pathMatch&&(E.hasChildren()||T.length<_.length))return null;const b={};for(let V=0;V<T.length;V++){const $=T[V],_e=_[V];if(":"===$[0])b[$.substring(1)]=_e;else if($!==_e.path)return null}return{consumed:_.slice(0,T.length),posParams:b}}function In(_,E){const y=_?er(_):void 0,T=E?er(E):void 0;if(!y||!T||y.length!=T.length)return!1;let b;for(let V=0;V<y.length;V++)if(b=y[V],!Er(_[b],E[b]))return!1;return!0}function er(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function Er(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const y=[..._].sort(),T=[...E].sort();return y.every((b,V)=>T[V]===b)}return _===E}function cr(_){return _.length>0?_[_.length-1]:null}function hn(_){return function Ne(_){return!!_&&(_ instanceof Pe.c||(0,U.T)(_.lift)&&(0,U.T)(_.subscribe))}(_)?_:(0,X.jNT)(_)?(0,he.H)(Promise.resolve(_)):(0,ne.of)(_)}const ci={exact:function _o(_,E,y){if(!Ae(_.segments,E.segments)||!vo(_.segments,E.segments,y)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!_.children[T]||!_o(_.children[T],E.children[T],y))return!1;return!0},subset:lr},yi={exact:function xi(_,E){return In(_,E)},subset:function yo(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(y=>Er(_[y],E[y]))},ignored:()=>!0};function zi(_,E,y){return ci[y.paths](_.root,E.root,y.matrixParams)&&yi[y.queryParams](_.queryParams,E.queryParams)&&!("exact"===y.fragment&&_.fragment!==E.fragment)}function lr(_,E,y){return Ct(_,E,E.segments,y)}function Ct(_,E,y,T){if(_.segments.length>y.length){const b=_.segments.slice(0,y.length);return!(!Ae(b,y)||E.hasChildren()||!vo(b,y,T))}if(_.segments.length===y.length){if(!Ae(_.segments,y)||!vo(_.segments,y,T))return!1;for(const b in E.children)if(!_.children[b]||!lr(_.children[b],E.children[b],T))return!1;return!0}{const b=y.slice(0,_.segments.length),V=y.slice(_.segments.length);return!!(Ae(_.segments,b)&&vo(_.segments,b,T)&&_.children[Q])&&Ct(_.children[Q],E,V,T)}}function vo(_,E,y){return E.every((T,b)=>yi[y](_[b].parameters,T.parameters))}class Io{root;queryParams;fragment;_queryParamMap;constructor(E=new Un([],{}),y={},T=null){this.root=E,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap??=de(this.queryParams),this._queryParamMap}toString(){return ln.serialize(this)}}class Un{segments;children;parent=null;constructor(E,y){this.segments=E,this.children=y,Object.values(y).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class le{path;parameters;_parameterMap;constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap??=de(this.parameters),this._parameterMap}toString(){return Po(this)}}function Ae(_,E){return _.length===E.length&&_.every((y,T)=>y.path===E[T].path)}let Lt=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:()=>new zt,providedIn:"root"})}return _})();class zt{parse(E){const y=new Li(E);return new Io(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${xn(E.root,!0)}`,T=function du(_){const E=Object.entries(_).map(([y,T])=>Array.isArray(T)?T.map(b=>`${vi(y)}=${vi(b)}`).join("&"):`${vi(y)}=${vi(T)}`).filter(y=>y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${T}${"string"==typeof E.fragment?`#${function Go(_){return encodeURI(_)}(E.fragment)}`:""}`}}const ln=new zt;function Mn(_){return _.segments.map(E=>Po(E)).join("/")}function xn(_,E){if(!_.hasChildren())return Mn(_);if(E){const y=_.children[Q]?xn(_.children[Q],!1):"",T=[];return Object.entries(_.children).forEach(([b,V])=>{b!==Q&&T.push(`${b}:${xn(V,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function ht(_,E){let y=[];return Object.entries(_.children).forEach(([T,b])=>{T===Q&&(y=y.concat(E(b,T)))}),Object.entries(_.children).forEach(([T,b])=>{T!==Q&&(y=y.concat(E(b,T)))}),y}(_,(T,b)=>b===Q?[xn(_.children[Q],!1)]:[`${b}:${xn(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Q]?`${Mn(_)}/${y[0]}`:`${Mn(_)}/(${y.join("//")})`}}function Sr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vi(_){return Sr(_).replace(/%3B/gi,";")}function qs(_){return Sr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ro(_){return decodeURIComponent(_)}function Wt(_){return Ro(_.replace(/\+/g,"%20"))}function Po(_){return`${qs(_.path)}${function os(_){return Object.entries(_).map(([E,y])=>`;${qs(E)}=${qs(y)}`).join("")}(_.parameters)}`}const ss=/^[^\/()?;#]+/;function Oi(_){const E=_.match(ss);return E?E[0]:""}const Ks=/^[^\/()?;=#]+/,wh=/^[^=?&#]+/,Ta=/^[^&#]+/;class Li{url;remaining;constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(T[Q]=new Un(E,y)),T}parseSegment(){const E=Oi(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new X.wOt(4009,!1);return this.capture(E),new le(Ro(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=function hu(_){const E=_.match(Ks);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const b=Oi(this.remaining);b&&(T=b,this.capture(T))}E[Ro(y)]=Ro(T)}parseQueryParam(E){const y=function Bl(_){const E=_.match(wh);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const $=function Qs(_){const E=_.match(Ta);return E?E[0]:""}(this.remaining);$&&(T=$,this.capture(T))}const b=Wt(y),V=Wt(T);if(E.hasOwnProperty(b)){let $=E[b];Array.isArray($)||($=[$],E[b]=$),$.push(V)}else E[b]=V}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Oi(this.remaining),b=this.remaining[T.length];if("/"!==b&&")"!==b&&";"!==b)throw new X.wOt(4010,!1);let V;T.indexOf(":")>-1?(V=T.slice(0,T.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=Q);const $=this.parseChildren();y[V]=1===Object.keys($).length?$[Q]:new Un([],$),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new X.wOt(4011,!1)}}function Eo(_){return _.segments.length>0?new Un([],{[Q]:_}):_}function Mo(_){const E={};for(const[T,b]of Object.entries(_.children)){const V=Mo(b);if(T===Q&&0===V.segments.length&&V.hasChildren())for(const[$,_e]of Object.entries(V.children))E[$]=_e;else(V.segments.length>0||V.hasChildren())&&(E[T]=V)}return function Jr(_){if(1===_.numberOfChildren&&_.children[Q]){const E=_.children[Q];return new Un(_.segments.concat(E.segments),E.children)}return _}(new Un(_.segments,E))}function C(_){return _ instanceof Io}function M(_){let E;const b=Eo(function y(V){const $={};for(const be of V.children){const ct=y(be);$[be.outlet]=ct}const _e=new Un(V.url,$);return V===_&&(E=_e),_e}(_.root));return E??b}function B(_,E,y,T){let b=_;for(;b.parent;)b=b.parent;if(0===E.length)return ot(b,b,b,y,T);const V=function $n(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new An(!0,0,_);let E=0,y=!1;const T=_.reduce((b,V,$)=>{if("object"==typeof V&&null!=V){if(V.outlets){const _e={};return Object.entries(V.outlets).forEach(([be,ct])=>{_e[be]="string"==typeof ct?ct.split("/"):ct}),[...b,{outlets:_e}]}if(V.segmentPath)return[...b,V.segmentPath]}return"string"!=typeof V?[...b,V]:0===$?(V.split("/").forEach((_e,be)=>{0==be&&"."===_e||(0==be&&""===_e?y=!0:".."===_e?E++:""!=_e&&b.push(_e))}),b):[...b,V]},[]);return new An(y,E,T)}(E);if(V.toRoot())return ot(b,b,new Un([],{}),y,T);const $=function En(_,E,y){if(_.isAbsolute)return new On(E,!0,0);if(!y)return new On(E,!1,NaN);if(null===y.parent)return new On(y,!0,0);const T=te(_.commands[0])?0:1;return function Qt(_,E,y){let T=_,b=E,V=y;for(;V>b;){if(V-=b,T=T.parent,!T)throw new X.wOt(4005,!1);b=T.segments.length}return new On(T,!1,b-V)}(y,y.segments.length-1+T,_.numberOfDoubleDots)}(V,b,_),_e=$.processChildren?tr($.segmentGroup,$.index,V.commands):qn($.segmentGroup,$.index,V.commands);return ot(b,$.segmentGroup,_e,y,T)}function te(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function oe(_){return"object"==typeof _&&null!=_&&_.outlets}function ot(_,E,y,T,b){let $,V={};T&&Object.entries(T).forEach(([be,ct])=>{V[be]=Array.isArray(ct)?ct.map(tn=>`${tn}`):`${ct}`}),$=_===E?y:bt(_,E,y);const _e=Eo(Mo($));return new Io(_e,V,b)}function bt(_,E,y){const T={};return Object.entries(_.children).forEach(([b,V])=>{T[b]=V===E?y:bt(V,E,y)}),new Un(_.segments,T)}class An{isAbsolute;numberOfDoubleDots;commands;constructor(E,y,T){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=T,E&&T.length>0&&te(T[0]))throw new X.wOt(4003,!1);const b=T.find(oe);if(b&&b!==cr(T))throw new X.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class On{segmentGroup;processChildren;index;constructor(E,y,T){this.segmentGroup=E,this.processChildren=y,this.index=T}}function qn(_,E,y){if(_??=new Un([],{}),0===_.segments.length&&_.hasChildren())return tr(_,E,y);const T=function ao(_,E,y){let T=0,b=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;b<_.segments.length;){if(T>=y.length)return V;const $=_.segments[b],_e=y[T];if(oe(_e))break;const be=`${_e}`,ct=T<y.length-1?y[T+1]:null;if(b>0&&void 0===be)break;if(be&&ct&&"object"==typeof ct&&void 0===ct.outlets){if(!ee(be,ct,$))return V;T+=2}else{if(!ee(be,{},$))return V;T++}b++}return{match:!0,pathIndex:b,commandIndex:T}}(_,E,y),b=y.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const V=new Un(_.segments.slice(0,T.pathIndex),{});return V.children[Q]=new Un(_.segments.slice(T.pathIndex),_.children),tr(V,0,b)}return T.match&&0===b.length?new Un(_.segments,{}):T.match&&!_.hasChildren()?No(_,E,y):T.match?tr(_,0,b):No(_,E,y)}function tr(_,E,y){if(0===y.length)return new Un(_.segments,{});{const T=function pn(_){return oe(_[0])?_[0].outlets:{[Q]:_}}(y),b={};if(Object.keys(T).some(V=>V!==Q)&&_.children[Q]&&1===_.numberOfChildren&&0===_.children[Q].segments.length){const V=tr(_.children[Q],E,y);return new Un(_.segments,V.children)}return Object.entries(T).forEach(([V,$])=>{"string"==typeof $&&($=[$]),null!==$&&(b[V]=qn(_.children[V],E,$))}),Object.entries(_.children).forEach(([V,$])=>{void 0===T[V]&&(b[V]=$)}),new Un(_.segments,b)}}function No(_,E,y){const T=_.segments.slice(0,E);let b=0;for(;b<y.length;){const V=y[b];if(oe(V)){const be=W(V.outlets);return new Un(T,be)}if(0===b&&te(y[0])){T.push(new le(_.segments[E].path,fe(y[0]))),b++;continue}const $=oe(V)?V.outlets[Q]:`${V}`,_e=b<y.length-1?y[b+1]:null;$&&_e&&te(_e)?(T.push(new le($,fe(_e))),b+=2):(T.push(new le($,{})),b++)}return new Un(T,{})}function W(_){const E={};return Object.entries(_).forEach(([y,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(E[y]=No(new Un([],{}),0,T))}),E}function fe(_){const E={};return Object.entries(_).forEach(([y,T])=>E[y]=`${T}`),E}function ee(_,E,y){return _==y.path&&In(E,y.parameters)}const Ce="imperative";var Ge=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(Ge||{});class gt{id;url;constructor(E,y){this.id=E,this.url=y}}class Mt extends gt{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(E,y,T="imperative",b=null){super(E,y),this.navigationTrigger=T,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mr extends gt{urlAfterRedirects;type=Ge.NavigationEnd;constructor(E,y,T){super(E,y),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ir=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(ir||{}),ko=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(ko||{});class or extends gt{reason;code;type=Ge.NavigationCancel;constructor(E,y,T,b){super(E,y),this.reason=T,this.code=b}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xo extends gt{reason;code;type=Ge.NavigationSkipped;constructor(E,y,T,b){super(E,y),this.reason=T,this.code=b}}class _t extends gt{error;target;type=Ge.NavigationError;constructor(E,y,T,b){super(E,y),this.error=T,this.target=b}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uo extends gt{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(E,y,T,b){super(E,y),this.urlAfterRedirects=T,this.state=b}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo extends gt{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(E,y,T,b){super(E,y),this.urlAfterRedirects=T,this.state=b}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qo extends gt{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(E,y,T,b,V){super(E,y),this.urlAfterRedirects=T,this.state=b,this.shouldActivate=V}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xs extends gt{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(E,y,T,b){super(E,y),this.urlAfterRedirects=T,this.state=b}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs extends gt{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(E,y,T,b){super(E,y),this.urlAfterRedirects=T,this.state=b}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu{route;type=Ge.RouteConfigLoadStart;constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pu{route;type=Ge.RouteConfigLoadEnd;constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N{snapshot;type=Ge.ChildActivationStart;constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F{snapshot;type=Ge.ChildActivationEnd;constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k{snapshot;type=Ge.ActivationStart;constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q{snapshot;type=Ge.ActivationEnd;constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{routerEvent;position;anchor;type=Ge.Scroll;constructor(E,y,T){this.routerEvent=E,this.position=y,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xe{}class et{url;navigationBehaviorOptions;constructor(E,y){this.url=E,this.navigationBehaviorOptions=y}}function Vt(_){switch(_.type){case Ge.ActivationEnd:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case Ge.ActivationStart:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case Ge.ChildActivationEnd:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case Ge.ChildActivationStart:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case Ge.GuardsCheckEnd:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case Ge.GuardsCheckStart:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ge.NavigationCancel:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case Ge.NavigationSkipped:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case Ge.NavigationEnd:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case Ge.NavigationError:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case Ge.NavigationStart:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case Ge.ResolveEnd:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ge.ResolveStart:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ge.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${_.route.path})`;case Ge.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${_.route.path})`;case Ge.RoutesRecognized:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case Ge.Scroll:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}function an(_){return _.outlet||Q}function Nn(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Rr{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Nn(this.route?.snapshot)??this.rootInjector}constructor(E){this.rootInjector=E,this.children=new sr(this.rootInjector)}}let sr=(()=>{class _{rootInjector;contexts=new Map;constructor(y){this.rootInjector=y}onChildOutletCreated(y,T){const b=this.getOrCreateContext(y);b.outlet=T,this.contexts.set(y,b)}onChildOutletDestroyed(y){const T=this.getContext(y);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let T=this.getContext(y);return T||(T=new Rr(this.rootInjector),this.contexts.set(y,T)),T}getContext(y){return this.contexts.get(y)||null}static \u0275fac=function(T){return new(T||_)(X.KVO(X.uvJ))};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class gn{_root;constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=kn(E,this._root);return y?y.children.map(T=>T.value):[]}firstChild(E){const y=kn(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=Ko(E,this._root);return y.length<2?[]:y[y.length-2].children.map(b=>b.value).filter(b=>b!==E)}pathFromRoot(E){return Ko(E,this._root).map(y=>y.value)}}function kn(_,E){if(_===E.value)return E;for(const y of E.children){const T=kn(_,y);if(T)return T}return null}function Ko(_,E){if(_===E.value)return[E];for(const y of E.children){const T=Ko(_,y);if(T.length)return T.unshift(E),T}return[]}class di{value;children;constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function Ci(_){const E={};return _&&_.children.forEach(y=>E[y.value.outlet]=y),E}class hi extends gn{snapshot;constructor(E,y){super(E),this.snapshot=y,To(this,E)}toString(){return this.snapshot.toString()}}function mn(_){const E=function fi(_){const V=new Vi([],{},{},"",{},Q,_,null,{});return new Ys("",new di(V,[]))}(_),y=new z.t([new le("",{})]),T=new z.t({}),b=new z.t({}),V=new z.t({}),$=new z.t(""),_e=new Fi(y,T,V,$,b,Q,_,E.root);return _e.snapshot=E.root,new hi(new di(_e,[]),E)}class Fi{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(E,y,T,b,V,$,_e,be){this.urlSubject=E,this.paramsSubject=y,this.queryParamsSubject=T,this.fragmentSubject=b,this.dataSubject=V,this.outlet=$,this.component=_e,this._futureSnapshot=be,this.title=this.dataSubject?.pipe((0,rn.T)(ct=>ct[me]))??(0,ne.of)(void 0),this.url=E,this.params=y,this.queryParams=T,this.fragment=b,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,rn.T)(E=>de(E))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,rn.T)(E=>de(E))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lo(_,E,y="emptyOnly"){let T;const{routeConfig:b}=_;return T=null===E||"always"!==y&&""!==b?.path&&(E.component||E.routeConfig?.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,..._._resolvedData??{}}}:{params:{...E.params,..._.params},data:{...E.data,..._.data},resolve:{..._.data,...E.data,...b?.data,..._._resolvedData}},b&&ng(b)&&(T.resolve[me]=b.title),T}class Vi{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[me]}constructor(E,y,T,b,V,$,_e,be,ct){this.url=E,this.params=y,this.queryParams=T,this.fragment=b,this.data=V,this.outlet=$,this.component=_e,this.routeConfig=be,this._resolve=ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=de(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=de(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ys extends gn{url;constructor(E,y){super(y),this.url=E,To(this,y)}toString(){return Cc(this._root)}}function To(_,E){E.value._routerState=_,E.children.forEach(y=>To(_,y))}function Cc(_){const E=_.children.length>0?` { ${_.children.map(Cc).join(", ")} } `:"";return`${_.value}${E}`}function Fo(_){if(_.snapshot){const E=_.snapshot,y=_._futureSnapshot;_.snapshot=y,In(E.queryParams,y.queryParams)||_.queryParamsSubject.next(y.queryParams),E.fragment!==y.fragment&&_.fragmentSubject.next(y.fragment),In(E.params,y.params)||_.paramsSubject.next(y.params),function xt(_,E){if(_.length!==E.length)return!1;for(let y=0;y<_.length;++y)if(!In(_[y],E[y]))return!1;return!0}(E.url,y.url)||_.urlSubject.next(y.url),In(E.data,y.data)||_.dataSubject.next(y.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function bc(_,E){const y=In(_.params,E.params)&&function ye(_,E){return Ae(_,E)&&_.every((y,T)=>In(y.parameters,E[T].parameters))}(_.url,E.url);return y&&!(!_.parent!=!E.parent)&&(!_.parent||bc(_.parent,E.parent))}function ng(_){return"string"==typeof _.title||null===_.title}const gu=new X.nKC("");let wa=(()=>{class _{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new X.bkB;deactivateEvents=new X.bkB;attachEvents=new X.bkB;detachEvents=new X.bkB;routerOutletData=(0,X.hFB)(void 0);parentContexts=(0,X.WQX)(sr);location=(0,X.WQX)(X.c1b);changeDetector=(0,X.WQX)(X.gRc);inputBinder=(0,X.WQX)(mu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(y){if(y.name){const{firstChange:T,previousValue:b}=y.name;if(T)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new X.wOt(4013,!1);this._activatedRoute=y;const b=this.location,$=y.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,be=new jl(y,_e,b.injector,this.routerOutletData);this.activated=b.createComponent($,{index:b.length,injector:be,environmentInjector:T}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(T){return new(T||_)};static \u0275dir=X.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[X.OA$]})}return _})();class jl{route;childContexts;parent;outletData;constructor(E,y,T,b){this.route=E,this.childContexts=y,this.parent=T,this.outletData=b}get(E,y){return E===Fi?this.route:E===sr?this.childContexts:E===gu?this.outletData:this.parent.get(E,y)}}const mu=new X.nKC("");let Dh=(()=>{class _{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:T}=y,b=Dt([T.queryParams,T.params,T.data]).pipe((0,Ee.n)(([V,$,_e],be)=>(_e={...V,...$,..._e},0===be?(0,ne.of)(_e):Promise.resolve(_e)))).subscribe(V=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(y);const $=(0,X.HJs)(T.component);if($)for(const{templateName:_e}of $.inputs)y.activatedComponentRef.setInput(_e,V[_e]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,b)}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac})}return _})();function _u(_,E,y){if(y&&_.shouldReuseRoute(E.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=E.value;const b=function $l(_,E,y){return E.children.map(T=>{for(const b of y.children)if(_.shouldReuseRoute(T.value,b.value.snapshot))return _u(_,T,b);return _u(_,T)})}(_,E,y);return new di(T,b)}{if(_.shouldAttach(E.value)){const V=_.retrieve(E.value);if(null!==V){const $=V.route;return $.value._futureSnapshot=E.value,$.children=E.children.map(_e=>_u(_,_e)),$}}const T=function Sc(_){return new Fi(new z.t(_.url),new z.t(_.params),new z.t(_.queryParams),new z.t(_.fragment),new z.t(_.data),_.outlet,_.component,_)}(E.value),b=E.children.map(V=>_u(_,V));return new di(T,b)}}class Rc{redirectTo;navigationBehaviorOptions;constructor(E,y){this.redirectTo=E,this.navigationBehaviorOptions=y}}const yu="ngNavigationCancelingError";function vu(_,E){const{redirectTo:y,navigationBehaviorOptions:T}=C(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,b=wo(!1,ir.Redirect);return b.url=y,b.navigationBehaviorOptions=T,b}function wo(_,E){const y=new Error(`NavigationCancelingError: ${_||""}`);return y[yu]=!0,y.cancellationCode=E,y}function Hl(_){return!!_&&_[yu]}class rg{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(E,y,T,b,V){this.routeReuseStrategy=E,this.futureState=y,this.currState=T,this.forwardEvent=b,this.inputBindingEnabled=V}activate(E){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,E),Fo(this.futureState.root),this.activateChildRoutes(y,T,E)}deactivateChildRoutes(E,y,T){const b=Ci(y);E.children.forEach(V=>{const $=V.value.outlet;this.deactivateRoutes(V,b[$],T),delete b[$]}),Object.values(b).forEach(V=>{this.deactivateRouteAndItsChildren(V,T)})}deactivateRoutes(E,y,T){const b=E.value,V=y?y.value:null;if(b===V)if(b.component){const $=T.getContext(b.outlet);$&&this.deactivateChildRoutes(E,y,$.children)}else this.deactivateChildRoutes(E,y,T);else V&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const T=y.getContext(E.value.outlet),b=T&&E.value.component?T.children:y,V=Ci(E);for(const $ of Object.values(V))this.deactivateRouteAndItsChildren($,b);if(T&&T.outlet){const $=T.outlet.detach(),_e=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:$,route:E,contexts:_e})}}deactivateRouteAndOutlet(E,y){const T=y.getContext(E.value.outlet),b=T&&E.value.component?T.children:y,V=Ci(E);for(const $ of Object.values(V))this.deactivateRouteAndItsChildren($,b);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(E,y,T){const b=Ci(y);E.children.forEach(V=>{this.activateRoutes(V,b[V.value.outlet],T),this.forwardEvent(new q(V.value.snapshot))}),E.children.length&&this.forwardEvent(new F(E.value.snapshot))}activateRoutes(E,y,T){const b=E.value,V=y?y.value:null;if(Fo(b),b===V)if(b.component){const $=T.getOrCreateContext(b.outlet);this.activateChildRoutes(E,y,$.children)}else this.activateChildRoutes(E,y,T);else if(b.component){const $=T.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const _e=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),$.children.onOutletReAttached(_e.contexts),$.attachRef=_e.componentRef,$.route=_e.route.value,$.outlet&&$.outlet.attach(_e.componentRef,_e.route.value),Fo(_e.route.value),this.activateChildRoutes(E,null,$.children)}else $.attachRef=null,$.route=b,$.outlet&&$.outlet.activateWith(b,$.injector),this.activateChildRoutes(E,null,$.children)}else this.activateChildRoutes(E,null,T)}}class ea{path;route;constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class As{component;route;constructor(E,y){this.component=E,this.route=y}}function ly(_,E,y){const T=_._root;return ta(T,E?E._root:null,y,[T.value])}function _r(_,E){const y=Symbol(),T=E.get(_,y);return T===y?"function"!=typeof _||(0,X.LfX)(_)?E.get(_):_:T}function ta(_,E,y,T,b={canDeactivateChecks:[],canActivateChecks:[]}){const V=Ci(E);return _.children.forEach($=>{(function Da(_,E,y,T,b={canDeactivateChecks:[],canActivateChecks:[]}){const V=_.value,$=E?E.value:null,_e=y?y.getContext(_.value.outlet):null;if($&&V.routeConfig===$.routeConfig){const be=function ig(_,E,y){if("function"==typeof y)return y(_,E);switch(y){case"pathParamsChange":return!Ae(_.url,E.url);case"pathParamsOrQueryParamsChange":return!Ae(_.url,E.url)||!In(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bc(_,E)||!In(_.queryParams,E.queryParams);default:return!bc(_,E)}}($,V,V.routeConfig.runGuardsAndResolvers);be?b.canActivateChecks.push(new ea(T)):(V.data=$.data,V._resolvedData=$._resolvedData),ta(_,E,V.component?_e?_e.children:null:y,T,b),be&&_e&&_e.outlet&&_e.outlet.isActivated&&b.canDeactivateChecks.push(new As(_e.outlet.component,$))}else $&&Do(E,_e,b),b.canActivateChecks.push(new ea(T)),ta(_,null,V.component?_e?_e.children:null:y,T,b)})($,V[$.value.outlet],y,T.concat([$.value]),b),delete V[$.value.outlet]}),Object.entries(V).forEach(([$,_e])=>Do(_e,y.getContext($),b)),b}function Do(_,E,y){const T=Ci(_),b=_.value;Object.entries(T).forEach(([V,$])=>{Do($,b.component?E?E.children.getContext(V):null:E,y)}),y.canDeactivateChecks.push(new As(b.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,b))}function as(_){return"function"==typeof _}function sg(_){return _ instanceof rt||"EmptyError"===_?.name}const zl=Symbol("INITIAL_VALUE");function Eu(){return(0,Ee.n)(_=>Dt(_.map(E=>E.pipe(Me(1),function $e(..._){const E=(0,Ue.lI)(_);return(0,Yt.N)((y,T)=>{(E?Ve(_,y,E):Ve(_,y)).subscribe(T)})}(zl)))).pipe((0,rn.T)(E=>{for(const y of E)if(!0!==y){if(y===zl)return zl;if(!1===y||gy(y))return y}return!0}),(0,Le.p)(E=>E!==zl),Me(1)))}function gy(_){return C(_)||_ instanceof Rc}function Xr(_){return(0,Sn.F)(sn(E=>{if("boolean"!=typeof E)throw vu(0,E)}),(0,rn.T)(E=>!0===E))}class ra{segmentGroup;constructor(E){this.segmentGroup=E||null}}class Hn extends Error{urlTree;constructor(E){super(),this.urlTree=E}}function ar(_){return rr(new ra(_))}class Ca{urlSerializer;urlTree;constructor(E,y){this.urlSerializer=E,this.urlTree=y}lineralizeSegments(E,y){let T=[],b=y.root;for(;;){if(T=T.concat(b.segments),0===b.numberOfChildren)return(0,ne.of)(T);if(b.numberOfChildren>1||!b.children[Q])return rr(new X.wOt(4e3,!1));b=b.children[Q]}}applyRedirectCommands(E,y,T,b,V){if("string"!=typeof y){const _e=y,{queryParams:be,fragment:ct,routeConfig:tn,url:Kn,outlet:nr,params:Zo,data:gi,title:Rs}=b,Br=(0,X.N4e)(V,()=>_e({params:Zo,data:gi,queryParams:be,fragment:ct,routeConfig:tn,url:Kn,outlet:nr,title:Rs}));if(Br instanceof Io)throw new Hn(Br);y=Br}const $=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,T);if("/"===y[0])throw new Hn($);return $}applyRedirectCreateUrlTree(E,y,T,b){const V=this.createSegmentGroup(E,y.root,T,b);return new Io(V,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const T={};return Object.entries(E).forEach(([b,V])=>{if("string"==typeof V&&":"===V[0]){const _e=V.substring(1);T[b]=y[_e]}else T[b]=V}),T}createSegmentGroup(E,y,T,b){const V=this.createSegments(E,y.segments,T,b);let $={};return Object.entries(y.children).forEach(([_e,be])=>{$[_e]=this.createSegmentGroup(E,be,T,b)}),new Un(V,$)}createSegments(E,y,T,b){return y.map(V=>":"===V.path[0]?this.findPosParam(E,V,b):this.findOrReturn(V,T))}findPosParam(E,y,T){const b=T[y.path.substring(1)];if(!b)throw new X.wOt(4001,!1);return b}findOrReturn(E,y){let T=0;for(const b of y){if(b.path===E.path)return y.splice(T),b;T++}return E}}const cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ba(_,E,y,T,b){const V=hr(_,E,y);return V.matched?(T=function Kt(_,E){return _.providers&&!_._injector&&(_._injector=(0,X.Ol2)(_.providers,E,`Route: ${_.path}`)),_._injector??E}(E,T),function Wi(_,E,y,T){const b=E.canMatch;if(!b||0===b.length)return(0,ne.of)(!0);const V=b.map($=>{const _e=_r($,_);return hn(function na(_){return _&&as(_.canMatch)}(_e)?_e.canMatch(E,y):(0,X.N4e)(_,()=>_e(E,y)))});return(0,ne.of)(V).pipe(Eu(),Xr())}(T,E,y).pipe((0,rn.T)($=>!0===$?V:{...cs}))):(0,ne.of)(V)}function hr(_,E,y){if("**"===E.path)return function Sa(_){return{matched:!0,parameters:_.length>0?cr(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||y.length>0)?{...cs}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const b=(E.matcher||At)(y,_,E);if(!b)return{...cs};const V={};Object.entries(b.posParams??{}).forEach(([_e,be])=>{V[_e]=be.path});const $=b.consumed.length>0?{...V,...b.consumed[b.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:b.consumed,remainingSegments:y.slice(b.consumed.length),parameters:$,positionalParamSegments:b.posParams??{}}}function Cs(_,E,y,T){return y.length>0&&function ag(_,E,y){return y.some(T=>Pa(_,E,T)&&an(T)!==Q)}(_,y,T)?{segmentGroup:new Un(E,Ra(T,new Un(y,_.children))),slicedSegments:[]}:0===y.length&&function ls(_,E,y){return y.some(T=>Pa(_,E,T))}(_,y,T)?{segmentGroup:new Un(_.segments,bs(_,y,T,_.children)),slicedSegments:y}:{segmentGroup:new Un(_.segments,_.children),slicedSegments:y}}function bs(_,E,y,T){const b={};for(const V of y)if(Pa(_,E,V)&&!T[an(V)]){const $=new Un([],{});b[an(V)]=$}return{...T,...b}}function Ra(_,E){const y={};y[Q]=E;for(const T of _)if(""===T.path&&an(T)!==Q){const b=new Un([],{});y[an(T)]=b}return y}function Pa(_,E,y){return(!(_.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}class Ui{}class Mc{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(E,y,T,b,V,$,_e){this.injector=E,this.configLoader=y,this.rootComponentType=T,this.config=b,this.urlTree=V,this.paramsInheritanceStrategy=$,this.urlSerializer=_e,this.applyRedirects=new Ca(this.urlSerializer,this.urlTree)}noMatchError(E){return new X.wOt(4002,`'${E.segmentGroup}'`)}recognize(){const E=Cs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(E).pipe((0,rn.T)(({children:y,rootSnapshot:T})=>{const b=new di(T,y),V=new Ys("",b),$=function Y(_,E,y=null,T=null){return B(M(_),E,y,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return $.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize($),{state:V,tree:$}}))}match(E){const y=new Vi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,E,Q,y).pipe((0,rn.T)(T=>({children:T,rootSnapshot:y})),Ht(T=>{if(T instanceof Hn)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof ra?this.noMatchError(T):T}))}processSegmentGroup(E,y,T,b,V){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,y,T,V):this.processSegment(E,y,T,T.segments,b,!0,V).pipe((0,rn.T)($=>$ instanceof di?[$]:[]))}processChildren(E,y,T,b){const V=[];for(const $ of Object.keys(T.children))"primary"===$?V.unshift($):V.push($);return(0,he.H)(V).pipe((0,It.H)($=>{const _e=T.children[$],be=function li(_,E){const y=_.filter(T=>an(T)===E);return y.push(..._.filter(T=>an(T)!==E)),y}(y,$);return this.processSegmentGroup(E,be,_e,$,b)}),function Dn(_,E){return(0,Yt.N)(function Zr(_,E,y,T,b){return(V,$)=>{let _e=y,be=E,ct=0;V.subscribe((0,it._)($,tn=>{const Kn=ct++;be=_e?_(be,tn,Kn):(_e=!0,tn),T&&$.next(be)},b&&(()=>{_e&&$.next(be),$.complete()})))}}(_,E,arguments.length>=2,!0))}(($,_e)=>($.push(..._e),$)),Je(null),function Yn(_,E){const y=arguments.length>=2;return T=>T.pipe(_?(0,Le.p)((b,V)=>_(b,V,T)):se.D,Zn(1),y?Je(E):Rt(()=>new rt))}(),(0,Ye.Z)($=>{if(null===$)return ar(T);const _e=Nc($);return function Qo(_){_.sort((E,y)=>E.value.outlet===Q?-1:y.value.outlet===Q?1:E.value.outlet.localeCompare(y.value.outlet))}(_e),(0,ne.of)(_e)}))}processSegment(E,y,T,b,V,$,_e){return(0,he.H)(y).pipe((0,It.H)(be=>this.processSegmentAgainstRoute(be._injector??E,y,be,T,b,V,$,_e).pipe(Ht(ct=>{if(ct instanceof ra)return(0,ne.of)(null);throw ct}))),Rn(be=>!!be),Ht(be=>{if(sg(be))return function Ss(_,E,y){return 0===E.length&&!_.children[y]}(T,b,V)?(0,ne.of)(new Ui):ar(T);throw be}))}processSegmentAgainstRoute(E,y,T,b,V,$,_e,be){return an(T)===$||$!==Q&&Pa(b,V,T)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(E,b,T,V,$,be):this.allowRedirects&&_e?this.expandSegmentAgainstRouteUsingRedirect(E,b,y,T,V,$,be):ar(b):ar(b)}expandSegmentAgainstRouteUsingRedirect(E,y,T,b,V,$,_e){const{matched:be,parameters:ct,consumedSegments:tn,positionalParamSegments:Kn,remainingSegments:nr}=hr(y,b,V);if(!be)return ar(y);"string"==typeof b.redirectTo&&"/"===b.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Zo=new Vi(V,ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(b),an(b),b.component??b._loadedComponent??null,b,Dr(b)),gi=Lo(Zo,_e,this.paramsInheritanceStrategy);Zo.params=Object.freeze(gi.params),Zo.data=Object.freeze(gi.data);const Rs=this.applyRedirects.applyRedirectCommands(tn,b.redirectTo,Kn,Zo,E);return this.applyRedirects.lineralizeSegments(b,Rs).pipe((0,Ye.Z)(Br=>this.processSegment(E,T,y,Br.concat(nr),$,!1,_e)))}matchSegmentAgainstRoute(E,y,T,b,V,$){const _e=ba(y,T,b,E);return"**"===T.path&&(y.children={}),_e.pipe((0,Ee.n)(be=>be.matched?this.getChildConfig(E=T._injector??E,T,b).pipe((0,Ee.n)(({routes:ct})=>{const tn=T._loadedInjector??E,{parameters:Kn,consumedSegments:nr,remainingSegments:Zo}=be,gi=new Vi(nr,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(T),an(T),T.component??T._loadedComponent??null,T,Dr(T)),Rs=Lo(gi,$,this.paramsInheritanceStrategy);gi.params=Object.freeze(Rs.params),gi.data=Object.freeze(Rs.data);const{segmentGroup:Br,slicedSegments:bu}=Cs(y,nr,Zo,ct);if(0===bu.length&&Br.hasChildren())return this.processChildren(tn,ct,Br,gi).pipe((0,rn.T)(Oc=>new di(gi,Oc)));if(0===ct.length&&0===bu.length)return(0,ne.of)(new di(gi,[]));const xc=an(T)===V;return this.processSegment(tn,ct,Br,bu,xc?Q:V,!0,gi).pipe((0,rn.T)(Oc=>new di(gi,Oc instanceof di?[Oc]:[])))})):ar(y)))}getChildConfig(E,y,T){return y.children?(0,ne.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,ne.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function bi(_,E,y,T){const b=E.canLoad;if(void 0===b||0===b.length)return(0,ne.of)(!0);const V=b.map($=>{const _e=_r($,_);return hn(function fy(_){return _&&as(_.canLoad)}(_e)?_e.canLoad(E,y):(0,X.N4e)(_,()=>_e(E,y)))});return(0,ne.of)(V).pipe(Eu(),Xr())}(E,y,T).pipe((0,Ye.Z)(b=>b?this.configLoader.loadChildren(E,y).pipe(sn(V=>{y._loadedRoutes=V.routes,y._loadedInjector=V.injector})):function en(){return rr(wo(!1,ir.GuardRejected))}())):(0,ne.of)({routes:[],injector:E})}}function Vo(_){const E=_.value.routeConfig;return E&&""===E.path}function Nc(_){const E=[],y=new Set;for(const T of _){if(!Vo(T)){E.push(T);continue}const b=E.find(V=>T.value.routeConfig===V.value.routeConfig);void 0!==b?(b.children.push(...T.children),y.add(b)):E.push(T)}for(const T of y){const b=Nc(T.children);E.push(new di(T.value,b))}return E.filter(T=>!y.has(T))}function wr(_){return _.data||{}}function Dr(_){return _.resolve||{}}function Uo(_){const E=_.children.map(y=>Uo(y)).flat();return[_,...E]}function wu(_){return(0,Ee.n)(E=>{const y=_(E);return y?(0,he.H)(y).pipe((0,rn.T)(()=>E)):(0,ne.of)(E)})}let ug=(()=>{class _{buildTitle(y){let T,b=y.root;for(;void 0!==b;)T=this.getResolvedTitleForRoute(b)??T,b=b.children.find(V=>V.outlet===Q);return T}getResolvedTitleForRoute(y){return y.data[me]}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:()=>(0,X.WQX)(Bo),providedIn:"root"})}return _})(),Bo=(()=>{class _ extends ug{title;constructor(y){super(),this.title=y}updateTitle(y){const T=this.buildTitle(y);void 0!==T&&this.title.setTitle(T)}static \u0275fac=function(T){return new(T||_)(X.KVO(io))};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Du=new X.nKC("",{providedIn:"root",factory:()=>({})});let Wl=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275cmp=X.VBU({type:_,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(T,b){1&T&&X.nrm(0,"router-outlet")},dependencies:[wa],encapsulation:2})}return _})();function Au(_){const E=_.children&&_.children.map(Au),y=E?{..._,children:E}:{..._};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==Q&&(y.component=Wl),y}const Gl=new X.nKC("");let yy=(()=>{class _{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,X.WQX)(X.Ql9);loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,ne.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const T=hn(y.loadComponent()).pipe((0,rn.T)(vy),sn(V=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=V}),(0,Jn.j)(()=>{this.componentLoaders.delete(y)})),b=new vr(T,()=>new br.B).pipe(Xn());return this.componentLoaders.set(y,b),b}loadChildren(y,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,ne.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const V=function cg(_,E,y,T){return hn(_.loadChildren()).pipe((0,rn.T)(vy),(0,Ye.Z)(b=>b instanceof X.Co$||Array.isArray(b)?(0,ne.of)(b):(0,he.H)(E.compileModuleAsync(b))),(0,rn.T)(b=>{T&&T(_);let V,$,_e=!1;return Array.isArray(b)?($=b,!0):(V=b.create(y).injector,$=V.get(Gl,[],{optional:!0,self:!0}).flat()),{routes:$.map(Au),injector:V}}))}(T,this.compiler,y,this.onLoadEndListener).pipe((0,Jn.j)(()=>{this.childrenLoaders.delete(T)})),$=new vr(V,()=>new br.B).pipe(Xn());return this.childrenLoaders.set(T,$),$}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function vy(_){return function nw(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let ql=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:()=>(0,X.WQX)(Cu),providedIn:"root"})}return _})(),Cu=(()=>{class _{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,T){return y}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Iy=new X.nKC(""),Ey=new X.nKC("");function Ah(_,E,y){const T=_.get(Ey),b=_.get(x.D);return _.get(X.SKi).runOutsideAngular(()=>{if(!b.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,new Promise(ct=>setTimeout(ct));let V;const $=new Promise(ct=>{V=ct}),_e=b.startViewTransition(()=>(V(),function ab(_){return new Promise(E=>{(0,X.mal)({read:()=>setTimeout(E)},{injector:_})})}(_))),{onViewTransitionCreated:be}=T;return be&&(0,X.N4e)(_,()=>be({transition:_e,from:E,to:y})),$})}const Kl=new X.nKC("");let Xo=(()=>{class _{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new br.B;transitionAbortSubject=new br.B;configLoader=(0,X.WQX)(yy);environmentInjector=(0,X.WQX)(X.uvJ);destroyRef=(0,X.WQX)(X.abz);urlSerializer=(0,X.WQX)(Lt);rootContexts=(0,X.WQX)(sr);location=(0,X.WQX)(K.L);inputBindingEnabled=null!==(0,X.WQX)(mu,{optional:!0});titleStrategy=(0,X.WQX)(ug);options=(0,X.WQX)(Du,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,X.WQX)(ql);createViewTransition=(0,X.WQX)(Iy,{optional:!0});navigationErrorHandler=(0,X.WQX)(Kl,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,ne.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=b=>this.events.next(new pu(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new fu(b)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(y){const T=++this.navigationId;this.transitions?.next({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:T})}setupNavigations(y){return this.transitions=new z.t(null),this.transitions.pipe((0,Le.p)(T=>null!==T),(0,Ee.n)(T=>{let b=!1,V=!1;return(0,ne.of)(T).pipe((0,Ee.n)($=>{if(this.navigationId>T.id)return this.cancelNavigationTransition(T,"",ir.SupersededByNewNavigation),Pt;this.currentTransition=T,this.currentNavigation={id:$.id,initialUrl:$.rawUrl,extractedUrl:$.extractedUrl,targetBrowserUrl:"string"==typeof $.extras.browserUrl?this.urlSerializer.parse($.extras.browserUrl):$.extras.browserUrl,trigger:$.source,extras:$.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const _e=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!_e&&"reload"!==($.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const ct="";return this.events.next(new xo($.id,this.urlSerializer.serialize($.rawUrl),ct,ko.IgnoredSameUrlNavigation)),$.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl($.rawUrl))return(0,ne.of)($).pipe((0,Ee.n)(ct=>(this.events.next(new Mt(ct.id,this.urlSerializer.serialize(ct.extractedUrl),ct.source,ct.restoredState)),ct.id!==this.navigationId?Pt:Promise.resolve(ct))),function pi(_,E,y,T,b,V){return(0,Ye.Z)($=>function ia(_,E,y,T,b,V,$="emptyOnly"){return new Mc(_,E,y,T,b,$,V).recognize()}(_,E,y,T,$.extractedUrl,b,V).pipe((0,rn.T)(({state:_e,tree:be})=>({...$,targetSnapshot:_e,urlAfterRedirects:be}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),sn(ct=>{T.targetSnapshot=ct.targetSnapshot,T.urlAfterRedirects=ct.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ct.urlAfterRedirects};const tn=new uo(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(tn)}));if(_e&&this.urlHandlingStrategy.shouldProcessUrl($.currentRawUrl)){const{id:ct,extractedUrl:tn,source:Kn,restoredState:nr,extras:Zo}=$,gi=new Mt(ct,this.urlSerializer.serialize(tn),Kn,nr);this.events.next(gi);const Rs=mn(this.rootComponentType).snapshot;return this.currentTransition=T={...$,targetSnapshot:Rs,urlAfterRedirects:tn,extras:{...Zo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=tn,(0,ne.of)(T)}{const ct="";return this.events.next(new xo($.id,this.urlSerializer.serialize($.extractedUrl),ct,ko.IgnoredByUrlHandlingStrategy)),$.resolve(!1),Pt}}),sn($=>{const _e=new Oo($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot);this.events.next(_e)}),(0,rn.T)($=>(this.currentTransition=T={...$,guards:ly($.targetSnapshot,$.currentSnapshot,this.rootContexts)},T)),function my(_,E){return(0,Ye.Z)(y=>{const{targetSnapshot:T,currentSnapshot:b,guards:{canActivateChecks:V,canDeactivateChecks:$}}=y;return 0===$.length&&0===V.length?(0,ne.of)({...y,guardsResult:!0}):function _y(_,E,y,T){return(0,he.H)(_).pipe((0,Ye.Z)(b=>function Tr(_,E,y,T,b){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,ne.of)(!0);const $=V.map(_e=>{const be=Nn(E)??b,ct=_r(_e,be);return hn(function py(_){return _&&as(_.canDeactivate)}(ct)?ct.canDeactivate(_,E,y,T):(0,X.N4e)(be,()=>ct(_,E,y,T))).pipe(Rn())});return(0,ne.of)($).pipe(Eu())}(b.component,b.route,y,E,T)),Rn(b=>!0!==b,!0))}($,T,b,_).pipe((0,Ye.Z)(_e=>_e&&function hy(_){return"boolean"==typeof _}(_e)?function Aa(_,E,y,T){return(0,he.H)(E).pipe((0,It.H)(b=>Ve(function Bn(_,E){return null!==_&&E&&E(new N(_)),(0,ne.of)(!0)}(b.route.parent,T),function Pc(_,E){return null!==_&&E&&E(new k(_)),(0,ne.of)(!0)}(b.route,T),function Gt(_,E,y){const T=E[E.length-1],V=E.slice(0,E.length-1).reverse().map($=>function dy(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}($)).filter($=>null!==$).map($=>pt(()=>{const _e=$.guards.map(be=>{const ct=Nn($.node)??y,tn=_r(be,ct);return hn(function og(_){return _&&as(_.canActivateChild)}(tn)?tn.canActivateChild(T,_):(0,X.N4e)(ct,()=>tn(T,_))).pipe(Rn())});return(0,ne.of)(_e).pipe(Eu())}));return(0,ne.of)(V).pipe(Eu())}(_,b.path,y),function st(_,E,y){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ne.of)(!0);const b=T.map(V=>pt(()=>{const $=Nn(E)??y,_e=_r(V,$);return hn(function ei(_){return _&&as(_.canActivate)}(_e)?_e.canActivate(E,_):(0,X.N4e)($,()=>_e(E,_))).pipe(Rn())}));return(0,ne.of)(b).pipe(Eu())}(_,b.route,y))),Rn(b=>!0!==b,!0))}(T,V,_,E):(0,ne.of)(_e)),(0,rn.T)(_e=>({...y,guardsResult:_e})))})}(this.environmentInjector,$=>this.events.next($)),sn($=>{if(T.guardsResult=$.guardsResult,$.guardsResult&&"boolean"!=typeof $.guardsResult)throw vu(0,$.guardsResult);const _e=new qo($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot,!!$.guardsResult);this.events.next(_e)}),(0,Le.p)($=>!!$.guardsResult||(this.cancelNavigationTransition($,"",ir.GuardRejected),!1)),wu($=>{if(0!==$.guards.canActivateChecks.length)return(0,ne.of)($).pipe(sn(_e=>{const be=new Xs(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(be)}),(0,Ee.n)(_e=>{let be=!1;return(0,ne.of)(_e).pipe(function kc(_,E){return(0,Ye.Z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:b}}=y;if(!b.length)return(0,ne.of)(y);const V=new Set(b.map(be=>be.route)),$=new Set;for(const be of V)if(!$.has(be))for(const ct of Uo(be))$.add(ct);let _e=0;return(0,he.H)($).pipe((0,It.H)(be=>V.has(be)?function Tu(_,E,y,T){const b=_.routeConfig,V=_._resolve;return void 0!==b?.title&&!ng(b)&&(V[me]=b.title),function Gi(_,E,y,T){const b=er(_);if(0===b.length)return(0,ne.of)({});const V={};return(0,he.H)(b).pipe((0,Ye.Z)($=>function Si(_,E,y,T){const b=Nn(E)??T,V=_r(_,b);return hn(V.resolve?V.resolve(E,y):(0,X.N4e)(b,()=>V(E,y)))}(_[$],E,y,T).pipe(Rn(),sn(_e=>{if(_e instanceof Rc)throw vu(new zt,_e);V[$]=_e}))),Zn(1),(0,rn.T)(()=>V),Ht($=>sg($)?Pt:rr($)))}(V,_,E,T).pipe((0,rn.T)($=>(_._resolvedData=$,_.data=Lo(_,_.parent,y).resolve,null)))}(be,T,_,E):(be.data=Lo(be,be.parent,_).resolve,(0,ne.of)(void 0))),sn(()=>_e++),Zn(1),(0,Ye.Z)(be=>_e===$.size?(0,ne.of)(y):Pt))})}(this.paramsInheritanceStrategy,this.environmentInjector),sn({next:()=>be=!0,complete:()=>{be||this.cancelNavigationTransition(_e,"",ir.NoDataFromResolver)}}))}),sn(_e=>{const be=new Zs(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(be)}))}),wu($=>{const _e=be=>{const ct=[];be.routeConfig?.loadComponent&&!be.routeConfig._loadedComponent&&ct.push(this.configLoader.loadComponent(be.routeConfig).pipe(sn(tn=>{be.component=tn}),(0,rn.T)(()=>{})));for(const tn of be.children)ct.push(..._e(tn));return ct};return Dt(_e($.targetSnapshot.root)).pipe(Je(null),Me(1))}),wu(()=>this.afterPreactivation()),(0,Ee.n)(()=>{const{currentSnapshot:$,targetSnapshot:_e}=T,be=this.createViewTransition?.(this.environmentInjector,$.root,_e.root);return be?(0,he.H)(be).pipe((0,rn.T)(()=>T)):(0,ne.of)(T)}),(0,rn.T)($=>{const _e=function Js(_,E,y){const T=_u(_,E._root,y?y._root:void 0);return new hi(T,E)}(y.routeReuseStrategy,$.targetSnapshot,$.currentRouterState);return this.currentTransition=T={...$,targetRouterState:_e},this.currentNavigation.targetRouterState=_e,T}),sn(()=>{this.events.next(new xe)}),((_,E,y,T)=>(0,rn.T)(b=>(new rg(E,b.targetRouterState,b.currentRouterState,y,T).activate(_),b)))(this.rootContexts,y.routeReuseStrategy,$=>this.events.next($),this.inputBindingEnabled),Me(1),sn({next:$=>{b=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mr($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects))),this.titleStrategy?.updateTitle($.targetRouterState.snapshot),$.resolve(!0)},complete:()=>{b=!0}}),function mo(_){return(0,Yt.N)((E,y)=>{(0,tt.Tg)(_).subscribe((0,it._)(y,()=>y.complete(),Kr.l)),!y.closed&&E.subscribe(y)})}(this.transitionAbortSubject.pipe(sn($=>{throw $}))),(0,Jn.j)(()=>{!b&&!V&&this.cancelNavigationTransition(T,"",ir.SupersededByNewNavigation),this.currentTransition?.id===T.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ht($=>{if(this.destroyed)return T.resolve(!1),Pt;if(V=!0,Hl($))this.events.next(new or(T.id,this.urlSerializer.serialize(T.extractedUrl),$.message,$.cancellationCode)),function Iu(_){return Hl(_)&&C(_.url)}($)?this.events.next(new et($.url,$.navigationBehaviorOptions)):T.resolve(!1);else{const _e=new _t(T.id,this.urlSerializer.serialize(T.extractedUrl),$,T.targetSnapshot??void 0);try{const be=(0,X.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(_e));if(!(be instanceof Rc))throw this.events.next(_e),$;{const{message:ct,cancellationCode:tn}=vu(0,be);this.events.next(new or(T.id,this.urlSerializer.serialize(T.extractedUrl),ct,tn)),this.events.next(new et(be.redirectTo,be.navigationBehaviorOptions))}}catch(be){this.options.resolveNavigationPromiseOnError?T.resolve(!1):T.reject(be)}}return Pt}))}))}cancelNavigationTransition(y,T,b){const V=new or(y.id,this.urlSerializer.serialize(y.extractedUrl),T,b);this.events.next(V),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),T=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return y.toString()!==T?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function rw(_){return _!==Ce}let Ch=(()=>{class _{static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:()=>(0,X.WQX)(iw),providedIn:"root"})}return _})();class ub{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}let iw=(()=>{class _ extends ub{static \u0275fac=(()=>{let y;return function(b){return(y||(y=X.xGo(_)))(b||_)}})();static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),lg=(()=>{class _{urlSerializer=(0,X.WQX)(Lt);options=(0,X.WQX)(Du,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,X.WQX)(K.L);urlHandlingStrategy=(0,X.WQX)(ql);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Io;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:y,initialUrl:T,targetBrowserUrl:b}){const V=void 0!==y?this.urlHandlingStrategy.merge(y,T):T,$=b??V;return $ instanceof Io?this.urlSerializer.serialize($):$}commitTransition({targetRouterState:y,finalUrl:T,initialUrl:b}){T&&y?(this.currentUrlTree=T,this.rawUrlTree=this.urlHandlingStrategy.merge(T,b),this.routerState=y):this.rawUrlTree=b}routerState=mn(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:y}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y??this.rawUrlTree)}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:()=>(0,X.WQX)(dg),providedIn:"root"})}return _})(),dg=(()=>{class _ extends lg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(T=>{"popstate"===T.type&&setTimeout(()=>{y(T.url,T.state,"popstate")})})}handleRouterEvent(y,T){y instanceof Mt?this.updateStateMemento():y instanceof xo?this.commitTransition(T):y instanceof uo?"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(T),T)):y instanceof xe?(this.commitTransition(T),"deferred"===this.urlUpdateStrategy&&!T.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(T),T)):y instanceof or&&(y.code===ir.GuardRejected||y.code===ir.NoDataFromResolver)?this.restoreHistory(T):y instanceof _t?this.restoreHistory(T,!0):y instanceof mr&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,{extras:T,id:b}){const{replaceUrl:V,state:$}=T;if(this.location.isCurrentPathEqualTo(y)||V){const _e=this.browserPageId,be={...$,...this.generateNgRouterState(b,_e)};this.location.replaceState(y,"",be)}else{const _e={...$,...this.generateNgRouterState(b,this.browserPageId+1)};this.location.go(y,"",_e)}}restoreHistory(y,T=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.getCurrentUrlTree()===y.finalUrl&&0===V&&(this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}static \u0275fac=(()=>{let y;return function(b){return(y||(y=X.xGo(_)))(b||_)}})();static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Na(_,E){_.events.pipe((0,Le.p)(y=>y instanceof mr||y instanceof or||y instanceof _t||y instanceof xo),(0,rn.T)(y=>y instanceof mr||y instanceof xo?0:y instanceof or&&(y.code===ir.Redirect||y.code===ir.SupersededByNewNavigation)?2:1),(0,Le.p)(y=>2!==y),Me(1)).subscribe(()=>{E()})}const Ty={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wy=(()=>{class _{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,X.WQX)(X.H3F);stateManager=(0,X.WQX)(lg);options=(0,X.WQX)(Du,{optional:!0})||{};pendingTasks=(0,X.WQX)(X.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,X.WQX)(Xo);urlSerializer=(0,X.WQX)(Lt);location=(0,X.WQX)(K.L);urlHandlingStrategy=(0,X.WQX)(ql);_events=new br.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,X.WQX)(Ch);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,X.WQX)(Gl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,X.WQX)(mu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}eventsSubscription=new fn.yU;subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(T=>{try{const b=this.navigationTransitions.currentTransition,V=this.navigationTransitions.currentNavigation;if(null!==b&&null!==V)if(this.stateManager.handleRouterEvent(T,V),T instanceof or&&T.code!==ir.Redirect&&T.code!==ir.SupersededByNewNavigation)this.navigated=!0;else if(T instanceof mr)this.navigated=!0;else if(T instanceof et){const $=T.navigationBehaviorOptions,_e=this.urlHandlingStrategy.merge(T.url,b.currentRawUrl),be={browserUrl:b.extras.browserUrl,info:b.extras.info,skipLocationChange:b.extras.skipLocationChange,replaceUrl:b.extras.replaceUrl||"eager"===this.urlUpdateStrategy||rw(b.source),...$};this.scheduleNavigation(_e,Ce,null,be,{resolve:b.resolve,reject:b.reject,promise:b.promise})}(function Rh(_){return!(_ instanceof xe||_ instanceof et)})(T)&&this._events.next(T)}catch(b){this.navigationTransitions.transitionAbortSubject.next(b)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ce,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,T,b)=>{this.navigateToSyncWithBrowser(y,b,T)})}navigateToSyncWithBrowser(y,T,b){const V={replaceUrl:!0},$=b?.navigationId?b:null;if(b){const be={...b};delete be.navigationId,delete be.\u0275routerPageId,0!==Object.keys(be).length&&(V.state=be)}const _e=this.parseUrl(y);this.scheduleNavigation(_e,T,$,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Au),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,T={}){const{relativeTo:b,queryParams:V,fragment:$,queryParamsHandling:_e,preserveFragment:be}=T,ct=be?this.currentUrlTree.fragment:$;let Kn,tn=null;switch(_e??this.options.defaultQueryParamsHandling){case"merge":tn={...this.currentUrlTree.queryParams,...V};break;case"preserve":tn=this.currentUrlTree.queryParams;break;default:tn=V||null}null!==tn&&(tn=this.removeEmptyProps(tn));try{Kn=M(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Kn=this.currentUrlTree.root}return B(Kn,y,tn,ct??null)}navigateByUrl(y,T={skipLocationChange:!1}){const b=C(y)?y:this.parseUrl(y),V=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(V,Ce,null,T)}navigate(y,T={skipLocationChange:!1}){return function Sh(_){for(let E=0;E<_.length;E++)if(null==_[E])throw new X.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,T){let b;if(b=!0===T?{...Ty}:!1===T?{...bh}:T,C(y))return zi(this.currentUrlTree,y,b);const V=this.parseUrl(y);return zi(this.currentUrlTree,V,b)}removeEmptyProps(y){return Object.entries(y).reduce((T,[b,V])=>(null!=V&&(T[b]=V),T),{})}scheduleNavigation(y,T,b,V,$){if(this.disposed)return Promise.resolve(!1);let _e,be,ct;$?(_e=$.resolve,be=$.reject,ct=$.promise):ct=new Promise((Kn,nr)=>{_e=Kn,be=nr});const tn=this.pendingTasks.add();return Na(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tn))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:V,resolve:_e,reject:be,promise:ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ct.catch(Kn=>Promise.reject(Kn))}static \u0275fac=function(T){return new(T||_)};static \u0275prov=X.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},1362:(jt,qe,j)=>{j.d(qe,{h1:()=>ne,uA:()=>X});var x=j(467),K=j(6858);class X{constructor(ie,se,Oe){this.name=ie,this.instanceFactory=se,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Pe="[DEFAULT]";class U{constructor(ie,se){this.name=ie,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const se=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(se)){const Oe=new K.cY;if(this.instancesDeferred.set(se,Oe),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:se});Ue&&Oe.resolve(Ue)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ie){var se;const Oe=this.normalizeInstanceIdentifier(ie?.identifier),Ue=null!==(se=ie?.optional)&&void 0!==se&&se;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ze){if(Ue)return null;throw ze}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function he(z){return"EAGER"===z.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[se,Oe]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(se);try{const ze=this.getOrInitializeService({instanceIdentifier:Ue});Oe.resolve(ze)}catch{}}}}clearInstance(ie=Pe){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,x.A)(function*(){const se=Array.from(ie.instances.values());yield Promise.all([...se.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...se.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Pe){return this.instances.has(ie)}getOptions(ie=Pe){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:se={}}=ie,Oe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Oe,options:se});for(const[ze,it]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ze)&&it.resolve(Ue);return Ue}onInit(ie,se){var Oe;const Ue=this.normalizeInstanceIdentifier(se),ze=null!==(Oe=this.onInitCallbacks.get(Ue))&&void 0!==Oe?Oe:new Set;ze.add(ie),this.onInitCallbacks.set(Ue,ze);const it=this.instances.get(Ue);return it&&ie(it,Ue),()=>{ze.delete(ie)}}invokeOnInitCallbacks(ie,se){const Oe=this.onInitCallbacks.get(se);if(Oe)for(const Ue of Oe)try{Ue(ie,se)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:se={}}){let Oe=this.instances.get(ie);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(z=ie,z===Pe?void 0:z),options:se}),this.instances.set(ie,Oe),this.instancesOptions.set(ie,se),this.invokeOnInitCallbacks(Oe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Oe)}catch{}var z;return Oe||null}normalizeInstanceIdentifier(ie=Pe){return this.component?this.component.multipleInstances?ie:Pe:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const se=this.getProvider(ie.name);if(se.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);se.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const se=new U(ie,this);return this.providers.set(ie,se),se}getProviders(){return Array.from(this.providers.values())}}},1397:(jt,qe,j)=>{j.d(qe,{Z:()=>ne});var x=j(6354),K=j(8750),X=j(9974),Pe=j(5225),U=j(4360),he=j(8071);function ne(z,ie,se=1/0){return(0,he.T)(ie)?ne((Oe,Ue)=>(0,x.T)((ze,it)=>ie(Oe,ze,Ue,it))((0,K.Tg)(z(Oe,Ue))),se):("number"==typeof ie&&(se=ie),(0,X.N)((Oe,Ue)=>function Ne(z,ie,se,Oe,Ue,ze,it,wt){const Dt=[];let mt=0,Ft=0,Zt=!1;const rt=()=>{Zt&&!Dt.length&&!mt&&ie.complete()},we=Ve=>mt<Oe?Qe(Ve):Dt.push(Ve),Qe=Ve=>{ze&&ie.next(Ve),mt++;let tt=!1;(0,K.Tg)(se(Ve,Ft++)).subscribe((0,U._)(ie,pt=>{Ue?.(pt),ze?we(pt):ie.next(pt)},()=>{tt=!0},void 0,()=>{if(tt)try{for(mt--;Dt.length&&mt<Oe;){const pt=Dt.shift();it?(0,Pe.N)(ie,it,()=>Qe(pt)):Qe(pt)}rt()}catch(pt){ie.error(pt)}}))};return z.subscribe((0,U._)(ie,we,()=>{Zt=!0,rt()})),()=>{wt?.()}}(Oe,Ue,z,se)))}},1413:(jt,qe,j)=>{j.d(qe,{B:()=>he});var x=j(1985),K=j(8359);const Pe=(0,j(1853).L)(z=>function(){z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=j(7908),Ne=j(9786);let he=(()=>{class z extends x.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Oe=new ne(this,this);return Oe.operator=se,Oe}_throwIfClosed(){if(this.closed)throw new Pe}next(se){(0,Ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(se)}})}error(se){(0,Ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(se)}})}complete(){(0,Ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Oe,isStopped:Ue,observers:ze}=this;return Oe||Ue?K.Kn:(this.currentObservers=null,ze.push(se),new K.yU(()=>{this.currentObservers=null,(0,U.o)(ze,se)}))}_checkFinalizedStatuses(se){const{hasError:Oe,thrownError:Ue,isStopped:ze}=this;Oe?se.error(Ue):ze&&se.complete()}asObservable(){const se=new x.c;return se.source=this,se}}return z.create=(ie,se)=>new ne(ie,se),z})();class ne extends he{constructor(ie,se){super(),this.destination=ie,this.source=se}next(ie){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Oe||Oe.call(se,ie)}error(ie){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Oe||Oe.call(se,ie)}complete(){var ie,se;null===(se=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===se||se.call(ie)}_subscribe(ie){var se,Oe;return null!==(Oe=null===(se=this.source)||void 0===se?void 0:se.subscribe(ie))&&void 0!==Oe?Oe:K.Kn}}},1635:(jt,qe,j)=>{function Pe(Ee,Me){var $e={};for(var Le in Ee)Object.prototype.hasOwnProperty.call(Ee,Le)&&Me.indexOf(Le)<0&&($e[Le]=Ee[Le]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Le=Object.getOwnPropertySymbols(Ee);Ye<Le.length;Ye++)Me.indexOf(Le[Ye])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Le[Ye])&&($e[Le[Ye]]=Ee[Le[Ye]])}return $e}function Oe(Ee,Me,$e,Le){return new($e||($e=Promise))(function(Je,Rt){function Et(sn){try{It(Le.next(sn))}catch(Ht){Rt(Ht)}}function Rn(sn){try{It(Le.throw(sn))}catch(Ht){Rt(Ht)}}function It(sn){sn.done?Je(sn.value):function Ye(Je){return Je instanceof $e?Je:new $e(function(Rt){Rt(Je)})}(sn.value).then(Et,Rn)}It((Le=Le.apply(Ee,Me||[])).next())})}function rt(Ee){return this instanceof rt?(this.v=Ee,this):new rt(Ee)}function we(Ee,Me,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Le=$e.apply(Ee,Me||[]),Je=[];return Ye=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Et("next"),Et("throw"),Et("return",function Rt(Dn){return function(Zn){return Promise.resolve(Zn).then(Dn,Ht)}}),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Et(Dn,Zn){Le[Dn]&&(Ye[Dn]=function(Yn){return new Promise(function(Jn,Kr){Je.push([Dn,Yn,Jn,Kr])>1||Rn(Dn,Yn)})},Zn&&(Ye[Dn]=Zn(Ye[Dn])))}function Rn(Dn,Zn){try{!function It(Dn){Dn.value instanceof rt?Promise.resolve(Dn.value.v).then(sn,Ht):Zr(Je[0][2],Dn)}(Le[Dn](Zn))}catch(Yn){Zr(Je[0][3],Yn)}}function sn(Dn){Rn("next",Dn)}function Ht(Dn){Rn("throw",Dn)}function Zr(Dn,Zn){Dn(Zn),Je.shift(),Je.length&&Rn(Je[0][0],Je[0][1])}}function Ve(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Me=Ee[Symbol.asyncIterator];return Me?Me.call(Ee):(Ee=function wt(Ee){var Me="function"==typeof Symbol&&Symbol.iterator,$e=Me&&Ee[Me],Le=0;if($e)return $e.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Le>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Le++],done:!Ee}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),$e={},Le("next"),Le("throw"),Le("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function Le(Je){$e[Je]=Ee[Je]&&function(Rt){return new Promise(function(Et,Rn){!function Ye(Je,Rt,Et,Rn){Promise.resolve(Rn).then(function(It){Je({value:It,done:Et})},Rt)}(Et,Rn,(Rt=Ee[Je](Rt)).done,Rt.value)})}}}j.d(qe,{AQ:()=>we,N3:()=>rt,Tt:()=>Pe,sH:()=>Oe,xN:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError},1853:(jt,qe,j)=>{function x(K){const Pe=K(U=>{Error.call(U),U.stack=(new Error).stack});return Pe.prototype=Object.create(Error.prototype),Pe.prototype.constructor=Pe,Pe}j.d(qe,{L:()=>x})},1985:(jt,qe,j)=>{j.d(qe,{c:()=>ne});var x=j(7707),K=j(8359),X=j(3494),Pe=j(1203),U=j(1026),Ne=j(8071),he=j(9786);let ne=(()=>{class Oe{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const it=new Oe;return it.source=this,it.operator=ze,it}subscribe(ze,it,wt){const Dt=function se(Oe){return Oe&&Oe instanceof x.vU||function ie(Oe){return Oe&&(0,Ne.T)(Oe.next)&&(0,Ne.T)(Oe.error)&&(0,Ne.T)(Oe.complete)}(Oe)&&(0,K.Uv)(Oe)}(ze)?ze:new x.Ms(ze,it,wt);return(0,he.Y)(()=>{const{operator:mt,source:Ft}=this;Dt.add(mt?mt.call(Dt,Ft):Ft?this._subscribe(Dt):this._trySubscribe(Dt))}),Dt}_trySubscribe(ze){try{return this._subscribe(ze)}catch(it){ze.error(it)}}forEach(ze,it){return new(it=z(it))((wt,Dt)=>{const mt=new x.Ms({next:Ft=>{try{ze(Ft)}catch(Zt){Dt(Zt),mt.unsubscribe()}},error:Dt,complete:wt});this.subscribe(mt)})}_subscribe(ze){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(ze)}[X.s](){return this}pipe(...ze){return(0,Pe.m)(ze)(this)}toPromise(ze){return new(ze=z(ze))((it,wt)=>{let Dt;this.subscribe(mt=>Dt=mt,mt=>wt(mt),()=>it(Dt))})}}return Oe.create=Ue=>new Oe(Ue),Oe})();function z(Oe){var Ue;return null!==(Ue=Oe??U.$.Promise)&&void 0!==Ue?Ue:Promise}},2214:(jt,qe,j)=>{j.d(qe,{Dk:()=>x.Dk,KO:()=>x.KO,Sx:()=>x.Sx,Wp:()=>x.Wp});var x=j(7852);(0,x.KO)("firebase","11.6.0","app")},2300:(jt,qe,j)=>{j.d(qe,{A:()=>it,D:()=>he,L:()=>Dt,P:()=>wt,a:()=>ze,b:()=>z,c:()=>ne,g:()=>U,j:()=>se,n:()=>Ue,s:()=>Ne});var x=j(9498),K=j(1413),X=j(460);let Pe=null;function U(){return Pe}function Ne(we){Pe??=we}class he{}let ne=(()=>{class we{historyGo(Ve){throw new Error("")}static \u0275fac=function(tt){return new(tt||we)};static \u0275prov=x.jDH({token:we,factory:()=>(0,x.WQX)(ie),providedIn:"platform"})}return we})();const z=new x.nKC("");let ie=(()=>{class we extends ne{_location;_history;_doc=(0,x.WQX)(X.D);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(Ve){const tt=U().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("popstate",Ve,!1),()=>tt.removeEventListener("popstate",Ve)}onHashChange(Ve){const tt=U().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("hashchange",Ve,!1),()=>tt.removeEventListener("hashchange",Ve)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ve){this._location.pathname=Ve}pushState(Ve,tt,pt){this._history.pushState(Ve,tt,pt)}replaceState(Ve,tt,pt){this._history.replaceState(Ve,tt,pt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ve=0){this._history.go(Ve)}getState(){return this._history.state}static \u0275fac=function(tt){return new(tt||we)};static \u0275prov=x.jDH({token:we,factory:()=>new we,providedIn:"platform"})}return we})();function se(we,Qe){return we?Qe?we.endsWith("/")?Qe.startsWith("/")?we+Qe.slice(1):we+Qe:Qe.startsWith("/")?we+Qe:`${we}/${Qe}`:we:Qe}function Oe(we){const Qe=we.search(/#|\?|$/);return"/"===we[Qe-1]?we.slice(0,Qe-1)+we.slice(Qe):we}function Ue(we){return we&&"?"!==we[0]?`?${we}`:we}let ze=(()=>{class we{historyGo(Ve){throw new Error("")}static \u0275fac=function(tt){return new(tt||we)};static \u0275prov=x.jDH({token:we,factory:()=>(0,x.WQX)(wt),providedIn:"root"})}return we})();const it=new x.nKC("");let wt=(()=>{class we extends ze{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Ve,tt){super(),this._platformLocation=Ve,this._baseHref=tt??this._platformLocation.getBaseHrefFromDOM()??(0,x.WQX)(X.D).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ve){return se(this._baseHref,Ve)}path(Ve=!1){const tt=this._platformLocation.pathname+Ue(this._platformLocation.search),pt=this._platformLocation.hash;return pt&&Ve?`${tt}${pt}`:tt}pushState(Ve,tt,pt,Sn){const rr=this.prepareExternalUrl(pt+Ue(Sn));this._platformLocation.pushState(Ve,tt,rr)}replaceState(Ve,tt,pt,Sn){const rr=this.prepareExternalUrl(pt+Ue(Sn));this._platformLocation.replaceState(Ve,tt,rr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){this._platformLocation.historyGo?.(Ve)}static \u0275fac=function(tt){return new(tt||we)(x.KVO(ne),x.KVO(it,8))};static \u0275prov=x.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),Dt=(()=>{class we{_subject=new K.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Ve){this._locationStrategy=Ve;const tt=this._locationStrategy.getBaseHref();this._basePath=function rt(we){if(new RegExp("^(https?:)?//").test(we)){const[,Ve]=we.split(/\/\/[^\/]+/);return Ve}return we}(Oe(Zt(tt))),this._locationStrategy.onPopState(pt=>{this._subject.next({url:this.path(!0),pop:!0,state:pt.state,type:pt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ve=!1){return this.normalize(this._locationStrategy.path(Ve))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ve,tt=""){return this.path()==this.normalize(Ve+Ue(tt))}normalize(Ve){return we.stripTrailingSlash(function Ft(we,Qe){if(!we||!Qe.startsWith(we))return Qe;const Ve=Qe.substring(we.length);return""===Ve||["/",";","?","#"].includes(Ve[0])?Ve:Qe}(this._basePath,Zt(Ve)))}prepareExternalUrl(Ve){return Ve&&"/"!==Ve[0]&&(Ve="/"+Ve),this._locationStrategy.prepareExternalUrl(Ve)}go(Ve,tt="",pt=null){this._locationStrategy.pushState(pt,"",Ve,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+Ue(tt)),pt)}replaceState(Ve,tt="",pt=null){this._locationStrategy.replaceState(pt,"",Ve,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+Ue(tt)),pt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ve=0){this._locationStrategy.historyGo?.(Ve)}onUrlChange(Ve){return this._urlChangeListeners.push(Ve),this._urlChangeSubscription??=this.subscribe(tt=>{this._notifyUrlChangeListeners(tt.url,tt.state)}),()=>{const tt=this._urlChangeListeners.indexOf(Ve);this._urlChangeListeners.splice(tt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ve="",tt){this._urlChangeListeners.forEach(pt=>pt(Ve,tt))}subscribe(Ve,tt,pt){return this._subject.subscribe({next:Ve,error:tt??void 0,complete:pt??void 0})}static normalizeQueryParams=Ue;static joinWithSlash=se;static stripTrailingSlash=Oe;static \u0275fac=function(tt){return new(tt||we)(x.KVO(ze))};static \u0275prov=x.jDH({token:we,factory:()=>function mt(){return new Dt((0,x.KVO)(ze))}(),providedIn:"root"})}return we})();function Zt(we){return we.replace(/\/index.html$/,"")}},3073:(jt,qe,j)=>{j.d(qe,{D:()=>U});const{isArray:x}=Array,{getPrototypeOf:K,prototype:X,keys:Pe}=Object;function U(he){if(1===he.length){const ne=he[0];if(x(ne))return{args:ne,keys:null};if(function Ne(he){return he&&"object"==typeof he&&K(he)===X}(ne)){const z=Pe(ne);return{args:z.map(ie=>ne[ie]),keys:z}}}return{args:he,keys:null}}},3236:(jt,qe,j)=>{j.d(qe,{E:()=>X});var x=j(6780);const X=new(j(3604).q)(x.R)},3290:(jt,qe,j)=>{j.d(qe,{_7:()=>x_,gS:()=>L_,rJ:()=>Lp,xs:()=>xP,kd:()=>vC,H9:()=>FP,Bg:()=>OP,GG:()=>HP,aU:()=>Fp,hV:()=>mT,P:()=>IC,mZ:()=>IT,_M:()=>ZP});var x=j(5407),K=j(9498),X=j(7440),Pe=j(2214),U=j(467),Ne=j(7852),he=j(1362),ne=j(6858),z=j(8041);const ie=new Map,se={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function Ue(s){return ie.get(s)||Object.assign({},se)}function it(){return Oe}class we{constructor(e,n,o,u,l){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=u,u>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,U.A)(function*(){n.stop();try{n.pending=new ne.cY,n.pending.promise.catch(o=>{}),yield function Qe(s){return new Promise(e=>{setTimeout(e,s)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ne.cY,n.pending.promise.catch(o=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(o){n.retryPolicy(o)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tt=new ne.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Sn(s){if(!Ue(s).activated)throw tt.create("use-before-activation",{appName:s.name})}function $t(s,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,U.A)(function*({url:s,body:e},n){const o={"Content-Type":"application/json"},u=n.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(o["X-Firebase-Client"]=L)}const l={method:"POST",body:JSON.stringify(e),headers:o};let h,g;try{h=yield fetch(s,l)}catch(L){throw tt.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==h.status)throw tt.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(L){throw tt.create("fetch-parse-error",{originalErrorMessage:L?.message})}const I=g.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(I[1]),P=Date.now();return{token:g.token,expireTimeMillis:P+D,issuedAtTimeMillis:P}})).apply(this,arguments)}function Xn(s,e){const{projectId:n,appId:o,apiKey:u}=s.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const rn="firebase-app-check-store";let Me=null;function Rn(){return(Rn=(0,U.A)(function*(s,e){const o=(yield function $e(){return Me||(Me=new Promise((s,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=o=>{s(o.target.result)},n.onerror=o=>{var u;e(tt.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},n.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(rn,{keyPath:"compositeKey"})}}catch(n){e(tt.create("storage-open",{originalErrorMessage:n?.message}))}}),Me)}()).transaction(rn,"readwrite"),l=o.objectStore(rn).put({compositeKey:s,value:e});return new Promise((h,g)=>{l.onsuccess=I=>{h()},o.onerror=I=>{var D;g(tt.create("storage-set",{originalErrorMessage:null===(D=I.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Zr=new z.Vy("@firebase/app-check");function Yn(s,e){return(0,ne.zW)()?function Ye(s,e){return function Et(s,e){return Rn.apply(this,arguments)}(function Ht(s){return`${s.options.appId}-${s.name}`}(s),e)}(s,e).catch(n=>{Zr.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function mo(){return it().enabled}function ro(){return $i.apply(this,arguments)}function $i(){return($i=(0,U.A)(function*(){const s=it();if(s.enabled&&s.token)return s.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hi={error:"UNKNOWN_ERROR"};function Di(s){return ne.K3.encodeString(JSON.stringify(s),!1)}function zo(s){return ai.apply(this,arguments)}function ai(){return(ai=(0,U.A)(function*(s,e=!1,n=!1){const o=s.app;Sn(o);const u=Ue(o);let h,l=u.token;if(l&&!pr(l)&&(u.token=void 0,l=void 0),!l){const D=yield u.cachedTokenPromise;D&&(pr(D)?l=D:yield Yn(o,void 0))}if(!e&&l&&pr(l))return{token:l.token};let I,g=!1;if(mo())try{u.exchangeTokenPromise||(u.exchangeTokenPromise=$t(Xn(o,yield ro()),s.heartbeatServiceProvider).finally(()=>{u.exchangeTokenPromise=void 0}),g=!0);const D=yield u.exchangeTokenPromise;return yield Yn(o,D),u.token=D,{token:D.token}}catch(D){return"appCheck/throttled"===D.code||"appCheck/initial-throttle"===D.code?Zr.warn(D.message):n&&Zr.error(D),ui(D)}try{u.exchangeTokenPromise||(u.exchangeTokenPromise=u.provider.getToken().finally(()=>{u.exchangeTokenPromise=void 0}),g=!0),l=yield Ue(o).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code||"appCheck/initial-throttle"===D.code?Zr.warn(D.message):n&&Zr.error(D),h=D}return l?h?I=pr(l)?{token:l.token,internalError:h}:ui(h):(I={token:l.token},u.token=l,yield Yn(o,l)):I=ui(h),g&&function Wo(s,e){const n=Ue(s).tokenObservers;for(const o of n)try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch{}}(o,I),I})).apply(this,arguments)}function Yr(){return(Yr=(0,U.A)(function*(s){const e=s.app;Sn(e);const{provider:n}=Ue(e);if(mo()){const o=yield ro(),{token:u}=yield $t(Xn(e,o),s.heartbeatServiceProvider);return{token:u}}{const{token:o}=yield n.getToken();return{token:o}}})).apply(this,arguments)}function oo(s,e){const n=Ue(s),o=n.tokenObservers.filter(u=>u.next!==e);0===o.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=o}function Ai(s){const{app:e}=s,n=Ue(e);let o=n.tokenRefresher;o||(o=function Qr(s){const{app:e}=s;return new we((0,U.A)(function*(){let o;if(o=Ue(e).token?yield zo(s,!0):yield zo(s),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const n=Ue(e);if(n.token){let o=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,n.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(s),n.tokenRefresher=o),!o.isRunning()&&n.isTokenAutoRefreshEnabled&&o.start()}function pr(s){return s.expireTimeMillis-Date.now()>0}function ui(s){return{token:Di(Hi),error:s}}class ki{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ue(this.app);for(const n of e)oo(this.app,n.next);return Promise.resolve()}}const yo="app-check-internal";!function lr(){(0,Ne.om)(new he.uA("app-check",s=>function _i(s,e){return new ki(s,e)}(s.getProvider("app").getImmediate(),s.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,e,n)=>{s.getProvider(yo).initialize()})),(0,Ne.om)(new he.uA(yo,s=>function Ir(s){return{getToken:e=>zo(s,e),getLimitedUseToken:()=>function ft(s){return Yr.apply(this,arguments)}(s),addTokenListener:e=>function Vr(s,e,n,o){const{app:u}=s,l=Ue(u);if(l.tokenObservers=[...l.tokenObservers,{next:n,error:o,type:e}],l.token&&pr(l.token)){const g=l.token;Promise.resolve().then(()=>{n({token:g.token}),Ai(s)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Ai(s))}(s,"INTERNAL",e),removeTokenListener:e=>oo(s.app,e)}}(s.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.KO)("@firebase/app-check","0.8.13")}();class Io{constructor(){return(0,x.CA)("app-check")}}typeof window<"u"&&window;var Wt=j(1635);const Bl=function hu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ta=new ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Li=new z.Vy("@firebase/auth");function Mo(s,...e){Li.logLevel<=z.$b.ERROR&&Li.error(`Auth (${Ne.MF}): ${s}`,...e)}function Jr(s,...e){throw te(s,...e)}function C(s,...e){return te(s,...e)}function Y(s,e,n){const o=Object.assign(Object.assign({},Bl()),{[e]:n});return new ne.FA("auth","Firebase",o).create(e,{appName:s.name})}function M(s){return Y(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function te(s,...e){if("string"!=typeof s){const n=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return Ta.create(s,...e)}function oe(s,e,...n){if(!s)throw te(e,...n)}function ot(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Mo(e),new Error(e)}function bt(s,e){s||ot(e)}function On(){var s;return typeof self<"u"&&(null===(s=self.location)||void 0===s?void 0:s.protocol)||null}class pn{constructor(e,n){this.shortDelay=e,this.longDelay=n,bt(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,ne.jZ)()||(0,ne.lV)()}get(){return function En(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $n(){return"http:"===On()||"https:"===On()}()||(0,ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tr{static initialize(e,n,o){this.fetchImpl=e,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ao={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},No=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W=new pn(3e4,6e4);function fe(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}function ee(s,e,n,o){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,U.A)(function*(s,e,n,o,u={}){return Ge(s,u,(0,U.A)(function*(){let l={},h={};o&&("GET"===e?h=o:l={body:JSON.stringify(o)});const g=(0,ne.Am)(Object.assign({key:s.config.apiKey},h)).slice(1),I=yield s._getAdditionalHeaders();I["Content-Type"]="application/json",s.languageCode&&(I["X-Firebase-Locale"]=s.languageCode);const D=Object.assign({method:e,headers:I},l);return(0,ne.c1)()||(D.referrerPolicy="no-referrer"),tr.fetch()(yield ir(s,s.config.apiHost,n,g),D)}))})).apply(this,arguments)}function Ge(s,e,n){return gt.apply(this,arguments)}function gt(){return(gt=(0,U.A)(function*(s,e,n){s._canInitEmulator=!1;const o=Object.assign(Object.assign({},ao),e);try{const u=new xo(s),l=yield Promise.race([n(),u.promise]);u.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw _t(s,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const g=l.ok?h.errorMessage:h.error.message,[I,D]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===I)throw _t(s,"credential-already-in-use",h);if("EMAIL_EXISTS"===I)throw _t(s,"email-already-in-use",h);if("USER_DISABLED"===I)throw _t(s,"user-disabled",h);const P=o[I]||I.toLowerCase().replace(/[_\s]+/g,"-");if(D)throw Y(s,P,D);Jr(s,P)}}catch(u){if(u instanceof ne.g)throw u;Jr(s,"network-request-failed",{message:String(u)})}})).apply(this,arguments)}function ir(s,e,n,o){return ko.apply(this,arguments)}function ko(){return(ko=(0,U.A)(function*(s,e,n,o){const u=`${e}${n}?${o}`,l=s,h=l.config.emulator?function qn(s,e){bt(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(s.config,u):`${s.config.apiScheme}://${u}`;return No.includes(n)&&(yield l._persistenceManagerAvailable,"COOKIE"===l._getPersistenceType())?l._getPersistence()._getFinalTarget(h).toString():h})).apply(this,arguments)}class xo{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(C(this.auth,"network-request-failed")),W.get())})}}function _t(s,e,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const u=C(s,e,o);return u.customData._tokenResponse=n,u}function F(){return(F=(0,U.A)(function*(s,e){return ee(s,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function pe(s,e){return xe.apply(this,arguments)}function xe(){return(xe=(0,U.A)(function*(s,e){return ee(s,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function et(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tn(){return(Tn=(0,U.A)(function*(s,e=!1){const n=(0,ne.Ku)(s),o=yield n.getIdToken(e),u=Wn(o);oe(u&&u.exp&&u.auth_time&&u.iat,n.auth,"internal-error");const l="object"==typeof u.firebase?u.firebase:void 0,h=l?.sign_in_provider;return{claims:u,token:o,authTime:et(Cn(u.auth_time)),issuedAtTime:et(Cn(u.iat)),expirationTime:et(Cn(u.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function Cn(s){return 1e3*Number(s)}function Wn(s){const[e,n,o]=s.split(".");if(void 0===e||void 0===n||void 0===o)return Mo("JWT malformed, contained fewer than 3 sections"),null;try{const u=(0,ne.u)(n);return u?JSON.parse(u):(Mo("Failed to decode base64 JWT payload"),null)}catch(u){return Mo("Caught error parsing JWT payload as JSON",u?.toString()),null}}function dr(s){const e=Wn(s);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function an(s,e){return li.apply(this,arguments)}function li(){return(li=(0,U.A)(function*(s,e,n=!1){if(n)return e;try{return yield e}catch(o){throw o instanceof ne.g&&function Nn({code:s}){return"auth/user-disabled"===s||"auth/user-token-expired"===s}(o)&&s.auth.currentUser===s&&(yield s.auth.signOut()),o}})).apply(this,arguments)}class Rr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),o}{this.errorBackoff=3e4;const u=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout((0,U.A)(function*(){yield n.iteration()}),o)}iteration(){var e=this;return(0,U.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class sr{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(s){return kn.apply(this,arguments)}function kn(){return(kn=(0,U.A)(function*(s){var e;const n=s.auth,o=yield s.getIdToken(),u=yield an(s,pe(n,{idToken:o}));oe(u?.users.length,n,"internal-error");const l=u.users[0];s._notifyReloadListener(l);const h=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?hi(l.providerUserInfo):[],g=function Ci(s,e){return[...s.filter(o=>!e.some(u=>u.providerId===o.providerId)),...e]}(s.providerData,h),P=!!s.isAnonymous&&!(s.email&&l.passwordHash||g?.length),L={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new sr(l.createdAt,l.lastLoginAt),isAnonymous:P};Object.assign(s,L)})).apply(this,arguments)}function di(){return(di=(0,U.A)(function*(s){const e=(0,ne.Ku)(s);yield gn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function hi(s){return s.map(e=>{var{providerId:n}=e,o=(0,Wt.Tt)(e,["providerId"]);return{providerId:n,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}function fi(){return(fi=(0,U.A)(function*(s,e){const n=yield Ge(s,{},(0,U.A)(function*(){const o=(0,ne.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:l}=s.config,h=yield ir(s,u,"/v1/token",`key=${l}`),g=yield s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(h,{method:"POST",headers:g,body:o})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function Lo(){return(Lo=(0,U.A)(function*(s,e){return ee(s,"POST","/v2/accounts:revokeToken",fe(s,e))})).apply(this,arguments)}class Vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(0!==e.length,"internal-error");const n=dr(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var o=this;return(0,U.A)(function*(){return n||!o.accessToken||o.isExpired?(oe(o.refreshToken,e,"user-token-expired"),o.refreshToken?(yield o.refresh(e,o.refreshToken),o.accessToken):null):o.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var o=this;return(0,U.A)(function*(){const{accessToken:u,refreshToken:l,expiresIn:h}=yield function mn(s,e){return fi.apply(this,arguments)}(e,n);o.updateTokensAndExpiration(u,l,Number(h))})()}updateTokensAndExpiration(e,n,o){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*o}static fromJSON(e,n){const{refreshToken:o,accessToken:u,expirationTime:l}=n,h=new Vi;return o&&(oe("string"==typeof o,"internal-error",{appName:e}),h.refreshToken=o),u&&(oe("string"==typeof u,"internal-error",{appName:e}),h.accessToken=u),l&&(oe("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vi,this.toJSON())}_performRefresh(){return ot("not implemented")}}function Ys(s,e){oe("string"==typeof s||typeof s>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:o,stsTokenManager:u}=e,l=(0,Wt.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=o,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sr(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,U.A)(function*(){const o=yield an(n,n.stsTokenManager.getToken(n.auth,e));return oe(o,n.auth,"internal-error"),n.accessToken!==o&&(n.accessToken=o,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),o})()}getIdTokenResult(e){return function Kt(s){return Tn.apply(this,arguments)}(this,e)}reload(){return function Ko(s){return di.apply(this,arguments)}(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var o=this;return(0,U.A)(function*(){let u=!1;e.idToken&&e.idToken!==o.stsTokenManager.accessToken&&(o.stsTokenManager.updateFromServerResponse(e),u=!0),n&&(yield gn(o)),yield o.auth._persistUserIfCurrent(o),u&&o.auth._notifyListenersIfCurrent(o)})()}delete(){var e=this;return(0,U.A)(function*(){if((0,Ne.xZ)(e.auth.app))return Promise.reject(M(e.auth));const n=yield e.getIdToken();return yield an(e,function N(s,e){return F.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var o,u,l,h,g,I,D,P;const L=null!==(o=n.displayName)&&void 0!==o?o:void 0,J=null!==(u=n.email)&&void 0!==u?u:void 0,Te=null!==(l=n.phoneNumber)&&void 0!==l?l:void 0,We=null!==(h=n.photoURL)&&void 0!==h?h:void 0,ut=null!==(g=n.tenantId)&&void 0!==g?g:void 0,nt=null!==(I=n._redirectEventId)&&void 0!==I?I:void 0,Ut=null!==(D=n.createdAt)&&void 0!==D?D:void 0,qt=null!==(P=n.lastLoginAt)&&void 0!==P?P:void 0,{uid:Ot,emailVerified:un,isAnonymous:Vn,providerData:_n,stsTokenManager:ve}=n;oe(Ot&&ve,e,"internal-error");const re=Vi.fromJSON(this.name,ve);oe("string"==typeof Ot,e,"internal-error"),Ys(L,e.name),Ys(J,e.name),oe("boolean"==typeof un,e,"internal-error"),oe("boolean"==typeof Vn,e,"internal-error"),Ys(Te,e.name),Ys(We,e.name),Ys(ut,e.name),Ys(nt,e.name),Ys(Ut,e.name),Ys(qt,e.name);const ce=new To({uid:Ot,auth:e,email:J,emailVerified:un,displayName:L,isAnonymous:Vn,photoURL:We,phoneNumber:Te,tenantId:ut,stsTokenManager:re,createdAt:Ut,lastLoginAt:qt});return _n&&Array.isArray(_n)&&(ce.providerData=_n.map(Ie=>Object.assign({},Ie))),nt&&(ce._redirectEventId=nt),ce}static _fromIdTokenResponse(e,n,o=!1){return(0,U.A)(function*(){const u=new Vi;u.updateFromServerResponse(n);const l=new To({uid:n.localId,auth:e,stsTokenManager:u,isAnonymous:o});return yield gn(l),l})()}static _fromGetAccountInfoResponse(e,n,o){return(0,U.A)(function*(){const u=n.users[0];oe(void 0!==u.localId,"internal-error");const l=void 0!==u.providerUserInfo?hi(u.providerUserInfo):[],h=!(u.email&&u.passwordHash||l?.length),g=new Vi;g.updateFromIdToken(o);const I=new To({uid:u.localId,auth:e,stsTokenManager:g,isAnonymous:h}),D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:l,metadata:new sr(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash||l?.length)};return Object.assign(I,D),I})()}}const Cc=new Map;function Fo(s){bt(s instanceof Function,"Expected a class definition");let e=Cc.get(s);return e?(bt(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Cc.set(s,e),e)}const ng=(()=>{class s{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,U.A)(function*(){return!0})()}_set(n,o){var u=this;return(0,U.A)(function*(){u.storage[n]=o})()}_get(n){var o=this;return(0,U.A)(function*(){const u=o.storage[n];return void 0===u?null:u})()}_remove(n){var o=this;return(0,U.A)(function*(){delete o.storage[n]})()}_addListener(n,o){}_removeListener(n,o){}}return s.type="NONE",s})();function gu(s,e,n){return`firebase:${s}:${e}:${n}`}class wa{constructor(e,n,o){this.persistence=e,this.auth=n,this.userKey=o;const{config:u,name:l}=this.auth;this.fullUserKey=gu(this.userKey,u.apiKey,l),this.fullPersistenceKey=gu("persistence",u.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,U.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const o=yield pe(e.auth,{idToken:n}).catch(()=>{});return o?To._fromGetAccountInfoResponse(e.auth,o,n):null}return To._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,U.A)(function*(){if(n.persistence===e)return;const o=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,o?n.setCurrentUser(o):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,o="authUser"){return(0,U.A)(function*(){if(!n.length)return new wa(Fo(ng),e,o);const u=(yield Promise.all(n.map(function(){var D=(0,U.A)(function*(P){if(yield P._isAvailable())return P});return function(P){return D.apply(this,arguments)}}()))).filter(D=>D);let l=u[0]||Fo(ng);const h=gu(o,e.config.apiKey,e.name);let g=null;for(const D of n)try{const P=yield D._get(h);if(P){let L;if("string"==typeof P){const J=yield pe(e,{idToken:P}).catch(()=>{});if(!J)break;L=yield To._fromGetAccountInfoResponse(e,J,P)}else L=To._fromJSON(e,P);D!==l&&(g=L),l=D;break}}catch{}const I=u.filter(D=>D._shouldAllowMigration);return l._shouldAllowMigration&&I.length?(l=I[0],g&&(yield l._set(h,g.toJSON())),yield Promise.all(n.map(function(){var D=(0,U.A)(function*(P){if(P!==l)try{yield P._remove(h)}catch{}});return function(P){return D.apply(this,arguments)}}())),new wa(l,e,o)):new wa(l,e,o)})()}}function jl(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function _u(s=(0,ne.ZQ)()){return/iemobile/i.test(s)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function mu(s=(0,ne.ZQ)()){return/firefox\//i.test(s)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Sc(s=(0,ne.ZQ)()){return/blackberry/i.test(s)}(e))return"Blackberry";if(function Rc(s=(0,ne.ZQ)()){return/webos/i.test(s)}(e))return"Webos";if(function Dh(s=(0,ne.ZQ)()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Js(s=(0,ne.ZQ)()){return/crios\//i.test(s)}(e))&&!e.includes("edge/"))return"Chrome";if(function $l(s=(0,ne.ZQ)()){return/android/i.test(s)}(e))return"Android";{const o=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===o?.length)return o[1]}return"Other"}function uy(s,e=[]){let n;switch(s){case"Browser":n=jl((0,ne.ZQ)());break;case"Worker":n=`${jl((0,ne.ZQ)())}-${s}`;break;default:n=s}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ne.MF}/${o}`}class cy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const o=l=>new Promise((h,g)=>{try{h(e(l))}catch(I){g(I)}});o.onAbort=n,this.queue.push(o);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,U.A)(function*(){if(n.auth.currentUser===e)return;const o=[];try{for(const u of n.queue)yield u(e),u.onAbort&&o.push(u.onAbort)}catch(u){o.reverse();for(const l of o)try{l()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:u?.message})}})()}}function ea(){return(ea=(0,U.A)(function*(s,e={}){return ee(s,"GET","/v2/passwordPolicy",fe(s,e))})).apply(this,arguments)}class ly{constructor(e){var n,o,u,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=h.minPasswordLength)&&void 0!==n?n:6,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),void 0!==h.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),void 0!==h.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),void 0!==h.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),void 0!==h.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(u=null===(o=e.allowedNonAlphanumericCharacters)||void 0===o?void 0:o.join(""))&&void 0!==u?u:"",this.forceUpgradeOnSignin=null!==(l=e.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,o,u,l,h,g;const I={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,I),this.validatePasswordCharacterOptions(e,I),I.isValid&&(I.isValid=null===(n=I.meetsMinPasswordLength)||void 0===n||n),I.isValid&&(I.isValid=null===(o=I.meetsMaxPasswordLength)||void 0===o||o),I.isValid&&(I.isValid=null===(u=I.containsLowercaseLetter)||void 0===u||u),I.isValid&&(I.isValid=null===(l=I.containsUppercaseLetter)||void 0===l||l),I.isValid&&(I.isValid=null===(h=I.containsNumericCharacter)||void 0===h||h),I.isValid&&(I.isValid=null===(g=I.containsNonAlphanumericCharacter)||void 0===g||g),I}validatePasswordLengthOptions(e,n){const o=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=e.length>=o),u&&(n.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,n){let o;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let u=0;u<e.length;u++)o=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,n,o,u,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class dy{constructor(e,n,o,u){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ta(this),this.idTokenSubscription=new ta(this),this.beforeStateQueue=new cy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ta,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){var o=this;return n&&(this._popupRedirectResolver=Fo(n)),this._initializationPromise=this.queue((0,U.A)(function*(){var u,l,h;if(!o._deleted&&(o.persistenceManager=yield wa.create(o,e),null===(u=o._resolvePersistenceManagerAvailable)||void 0===u||u.call(o),!o._deleted)){if(null!==(l=o._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield o._popupRedirectResolver._initialize(o)}catch{}yield o.initializeCurrentUser(n),o.lastNotifiedUid=(null===(h=o.currentUser)||void 0===h?void 0:h.uid)||null,!o._deleted&&(o._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,U.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,U.A)(function*(){try{const o=yield pe(n,{idToken:e}),u=yield To._fromGetAccountInfoResponse(n,o,e);yield n.directlySetCurrentUser(u)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,U.A)(function*(){var o;if((0,Ne.xZ)(n.app)){const g=n.app.settings.authIdToken;return g?new Promise(I=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(g).then(I,I))}):n.directlySetCurrentUser(null)}const u=yield n.assertedPersistence.getCurrentUser();let l=u,h=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const g=null===(o=n.redirectUser)||void 0===o?void 0:o._redirectEventId,I=l?._redirectEventId,D=yield n.tryRedirectSignIn(e);(!g||g===I)&&D?.user&&(l=D.user,h=!0)}if(!l)return n.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield n.beforeStateQueue.runMiddleware(l)}catch(g){l=u,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(g))}return l?n.reloadAndSetCurrentUserOrClear(l):n.directlySetCurrentUser(null)}return oe(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===l._redirectEventId?n.directlySetCurrentUser(l):n.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var n=this;return(0,U.A)(function*(){let o=null;try{o=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return o})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,U.A)(function*(){try{yield gn(e)}catch(o){if("auth/network-request-failed"!==o?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}()}_delete(){var e=this;return(0,U.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,U.A)(function*(){if((0,Ne.xZ)(n.app))return Promise.reject(M(n));const o=e?(0,ne.Ku)(e):null;return o&&oe(o.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(o&&o._clone(n))})()}_updateCurrentUser(e,n=!1){var o=this;return(0,U.A)(function*(){if(!o._deleted)return e&&oe(o.tenantId===e.tenantId,o,"tenant-id-mismatch"),n||(yield o.beforeStateQueue.runMiddleware(e)),o.queue((0,U.A)(function*(){yield o.directlySetCurrentUser(e),o.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,U.A)(function*(){return(0,Ne.xZ)(e.app)?Promise.reject(M(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return(0,Ne.xZ)(this.app)?Promise.reject(M(this)):this.queue((0,U.A)(function*(){yield n.assertedPersistence.setPersistence(Fo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,U.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const o=n._getPasswordPolicyInternal();return o.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,U.A)(function*(){const n=yield function rg(s){return ea.apply(this,arguments)}(e),o=new ly(n);null===e.tenantId?e._projectPasswordPolicy=o:e._tenantPasswordPolicies[e.tenantId]=o})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ne.FA("auth","Firebase",e())}onAuthStateChanged(e,n,o){return this.registerStateListener(this.authStateSubscription,e,n,o)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,o){return this.registerStateListener(this.idTokenSubscription,e,n,o)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,U.A)(function*(){if(n.currentUser){const o=yield n.currentUser.getIdToken(),u={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};null!=n.tenantId&&(u.tenantId=n.tenantId),yield function Fi(s,e){return Lo.apply(this,arguments)}(n,u)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var o=this;return(0,U.A)(function*(){const u=yield o.getOrInitRedirectPersistenceManager(n);return null===e?u.removeCurrentUser():u.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,U.A)(function*(){if(!n.redirectPersistenceManager){const o=e&&Fo(e)||n._popupRedirectResolver;oe(o,n,"argument-error"),n.redirectPersistenceManager=yield wa.create(n,[Fo(o._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,U.A)(function*(){var o,u;return n._isInitialized&&(yield n.queue((0,U.A)(function*(){}))),(null===(o=n._currentUser)||void 0===o?void 0:o._redirectEventId)===e?n._currentUser:(null===(u=n.redirectUser)||void 0===u?void 0:u._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,U.A)(function*(){if(e===n.currentUser)return n.queue((0,U.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,o,u){if(this._deleted)return()=>{};const l="function"==typeof n?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(g,this,"internal-error"),g.then(()=>{h||l(this.currentUser)}),"function"==typeof n){const I=e.addObserver(n,o,u);return()=>{h=!0,I()}}{const I=e.addObserver(n);return()=>{h=!0,I()}}}directlySetCurrentUser(e){var n=this;return(0,U.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,U.A)(function*(){var n;const o={"X-Client-Version":e.clientVersion};e.app.options.appId&&(o["X-Firebase-gmpid"]=e.app.options.appId);const u=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();u&&(o["X-Firebase-Client"]=u);const l=yield e._getAppCheckToken();return l&&(o["X-Firebase-AppCheck"]=l),o})()}_getAppCheckToken(){var e=this;return(0,U.A)(function*(){var n;if((0,Ne.xZ)(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const o=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return o?.error&&function Eo(s,...e){Li.logLevel<=z.$b.WARN&&Li.warn(`Auth (${Ne.MF}): ${s}`,...e)}(`Error while retrieving App Check token: ${o.error}`),o?.token})()}}class ta{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ne.tD)(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Da={loadJS:()=>(0,U.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function ei(s){return`__${s}${Math.floor(1e6*Math.random())}`})("rcb"),new pn(3e4,6e4),new pn(2e3,1e4),new pn(3e4,6e4),new pn(5e3,15e3),encodeURIComponent("fac");var Vw="@firebase/auth";class Uw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,U.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ne.XA)("authIdTokenMaxAge"),function ig(s){Da=s}({loadJS:s=>new Promise((e,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=e,o.onerror=u=>{const l=C("internal-error");l.customData=u,n(l)},o.type="text/javascript",o.charset="UTF-8",function Xb(){var s,e;return null!==(e=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==e?e:document}().appendChild(o)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function qg(s){(0,Ne.om)(new he.uA("auth",(e,{options:n})=>{const o=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=o.options;oe(h&&!h.includes(":"),"invalid-api-key",{appName:o.name});const I={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uy(s)},D=new dy(o,u,l,I);return function ra(s,e){const n=e?.persistence||[],o=(Array.isArray(n)?n:[n]).map(Fo);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(o,e?.popupRedirectResolver)}(D,n),D},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,o)=>{e.getProvider("auth-internal").initialize()})),(0,Ne.om)(new he.uA("auth-internal",e=>{const n=function _r(s){return(0,ne.Ku)(s)}(e.getProvider("auth").getImmediate());return new Uw(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.KO)(Vw,"1.10.0",function Bw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(s)),(0,Ne.KO)(Vw,"1.10.0","esm2017")}("Browser");class Ww{constructor(){return(0,x.CA)("auth")}}var jn,jc,ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yv={};(function(){var s;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ve,re,ce){ce||(ce=0);var Ie=Array(16);if("string"==typeof re)for(var De=0;16>De;++De)Ie[De]=re.charCodeAt(ce++)|re.charCodeAt(ce++)<<8|re.charCodeAt(ce++)<<16|re.charCodeAt(ce++)<<24;else for(De=0;16>De;++De)Ie[De]=re[ce++]|re[ce++]<<8|re[ce++]<<16|re[ce++]<<24;var ke=ve.g[3],ue=(re=ve.g[0])+(ke^(ce=ve.g[1])&((De=ve.g[2])^ke))+Ie[0]+3614090360&4294967295;ue=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=(ce=(De=(ke=(re=ce+(ue<<7&4294967295|ue>>>25))+((ue=ke+(De^re&(ce^De))+Ie[1]+3905402710&4294967295)<<12&4294967295|ue>>>20))+((ue=De+(ce^ke&(re^ce))+Ie[2]+606105819&4294967295)<<17&4294967295|ue>>>15))+((ue=ce+(re^De&(ke^re))+Ie[3]+3250441966&4294967295)<<22&4294967295|ue>>>10))+((ue=re+(ke^ce&(De^ke))+Ie[4]+4118548399&4294967295)<<7&4294967295|ue>>>25))+((ue=ke+(De^re&(ce^De))+Ie[5]+1200080426&4294967295)<<12&4294967295|ue>>>20))+((ue=De+(ce^ke&(re^ce))+Ie[6]+2821735955&4294967295)<<17&4294967295|ue>>>15))+((ue=ce+(re^De&(ke^re))+Ie[7]+4249261313&4294967295)<<22&4294967295|ue>>>10))+((ue=re+(ke^ce&(De^ke))+Ie[8]+1770035416&4294967295)<<7&4294967295|ue>>>25))+((ue=ke+(De^re&(ce^De))+Ie[9]+2336552879&4294967295)<<12&4294967295|ue>>>20))+((ue=De+(ce^ke&(re^ce))+Ie[10]+4294925233&4294967295)<<17&4294967295|ue>>>15))+((ue=ce+(re^De&(ke^re))+Ie[11]+2304563134&4294967295)<<22&4294967295|ue>>>10))+((ue=re+(ke^ce&(De^ke))+Ie[12]+1804603682&4294967295)<<7&4294967295|ue>>>25))+((ue=ke+(De^re&(ce^De))+Ie[13]+4254626195&4294967295)<<12&4294967295|ue>>>20))+((ue=De+(ce^ke&(re^ce))+Ie[14]+2792965006&4294967295)<<17&4294967295|ue>>>15))+((ue=ce+(re^De&(ke^re))+Ie[15]+1236535329&4294967295)<<22&4294967295|ue>>>10))+((ue=re+(De^ke&(ce^De))+Ie[1]+4129170786&4294967295)<<5&4294967295|ue>>>27))+((ue=ke+(ce^De&(re^ce))+Ie[6]+3225465664&4294967295)<<9&4294967295|ue>>>23))+((ue=De+(re^ce&(ke^re))+Ie[11]+643717713&4294967295)<<14&4294967295|ue>>>18))+((ue=ce+(ke^re&(De^ke))+Ie[0]+3921069994&4294967295)<<20&4294967295|ue>>>12))+((ue=re+(De^ke&(ce^De))+Ie[5]+3593408605&4294967295)<<5&4294967295|ue>>>27))+((ue=ke+(ce^De&(re^ce))+Ie[10]+38016083&4294967295)<<9&4294967295|ue>>>23))+((ue=De+(re^ce&(ke^re))+Ie[15]+3634488961&4294967295)<<14&4294967295|ue>>>18))+((ue=ce+(ke^re&(De^ke))+Ie[4]+3889429448&4294967295)<<20&4294967295|ue>>>12))+((ue=re+(De^ke&(ce^De))+Ie[9]+568446438&4294967295)<<5&4294967295|ue>>>27))+((ue=ke+(ce^De&(re^ce))+Ie[14]+3275163606&4294967295)<<9&4294967295|ue>>>23))+((ue=De+(re^ce&(ke^re))+Ie[3]+4107603335&4294967295)<<14&4294967295|ue>>>18))+((ue=ce+(ke^re&(De^ke))+Ie[8]+1163531501&4294967295)<<20&4294967295|ue>>>12))+((ue=re+(De^ke&(ce^De))+Ie[13]+2850285829&4294967295)<<5&4294967295|ue>>>27))+((ue=ke+(ce^De&(re^ce))+Ie[2]+4243563512&4294967295)<<9&4294967295|ue>>>23))+((ue=De+(re^ce&(ke^re))+Ie[7]+1735328473&4294967295)<<14&4294967295|ue>>>18))+((ue=ce+(ke^re&(De^ke))+Ie[12]+2368359562&4294967295)<<20&4294967295|ue>>>12))+((ue=re+(ce^De^ke)+Ie[5]+4294588738&4294967295)<<4&4294967295|ue>>>28))+((ue=ke+(re^ce^De)+Ie[8]+2272392833&4294967295)<<11&4294967295|ue>>>21))+((ue=De+(ke^re^ce)+Ie[11]+1839030562&4294967295)<<16&4294967295|ue>>>16))+((ue=ce+(De^ke^re)+Ie[14]+4259657740&4294967295)<<23&4294967295|ue>>>9))+((ue=re+(ce^De^ke)+Ie[1]+2763975236&4294967295)<<4&4294967295|ue>>>28))+((ue=ke+(re^ce^De)+Ie[4]+1272893353&4294967295)<<11&4294967295|ue>>>21))+((ue=De+(ke^re^ce)+Ie[7]+4139469664&4294967295)<<16&4294967295|ue>>>16))+((ue=ce+(De^ke^re)+Ie[10]+3200236656&4294967295)<<23&4294967295|ue>>>9))+((ue=re+(ce^De^ke)+Ie[13]+681279174&4294967295)<<4&4294967295|ue>>>28))+((ue=ke+(re^ce^De)+Ie[0]+3936430074&4294967295)<<11&4294967295|ue>>>21))+((ue=De+(ke^re^ce)+Ie[3]+3572445317&4294967295)<<16&4294967295|ue>>>16))+((ue=ce+(De^ke^re)+Ie[6]+76029189&4294967295)<<23&4294967295|ue>>>9))+((ue=re+(ce^De^ke)+Ie[9]+3654602809&4294967295)<<4&4294967295|ue>>>28))+((ue=ke+(re^ce^De)+Ie[12]+3873151461&4294967295)<<11&4294967295|ue>>>21))+((ue=De+(ke^re^ce)+Ie[15]+530742520&4294967295)<<16&4294967295|ue>>>16))+((ue=ce+(De^ke^re)+Ie[2]+3299628645&4294967295)<<23&4294967295|ue>>>9))+((ue=re+(De^(ce|~ke))+Ie[0]+4096336452&4294967295)<<6&4294967295|ue>>>26))+((ue=ke+(ce^(re|~De))+Ie[7]+1126891415&4294967295)<<10&4294967295|ue>>>22))+((ue=De+(re^(ke|~ce))+Ie[14]+2878612391&4294967295)<<15&4294967295|ue>>>17))+((ue=ce+(ke^(De|~re))+Ie[5]+4237533241&4294967295)<<21&4294967295|ue>>>11))+((ue=re+(De^(ce|~ke))+Ie[12]+1700485571&4294967295)<<6&4294967295|ue>>>26))+((ue=ke+(ce^(re|~De))+Ie[3]+2399980690&4294967295)<<10&4294967295|ue>>>22))+((ue=De+(re^(ke|~ce))+Ie[10]+4293915773&4294967295)<<15&4294967295|ue>>>17))+((ue=ce+(ke^(De|~re))+Ie[1]+2240044497&4294967295)<<21&4294967295|ue>>>11))+((ue=re+(De^(ce|~ke))+Ie[8]+1873313359&4294967295)<<6&4294967295|ue>>>26))+((ue=ke+(ce^(re|~De))+Ie[15]+4264355552&4294967295)<<10&4294967295|ue>>>22))+((ue=De+(re^(ke|~ce))+Ie[6]+2734768916&4294967295)<<15&4294967295|ue>>>17))+((ue=ce+(ke^(De|~re))+Ie[13]+1309151649&4294967295)<<21&4294967295|ue>>>11))+((ke=(re=ce+((ue=re+(De^(ce|~ke))+Ie[4]+4149444226&4294967295)<<6&4294967295|ue>>>26))+((ue=ke+(ce^(re|~De))+Ie[11]+3174756917&4294967295)<<10&4294967295|ue>>>22))^((De=ke+((ue=De+(re^(ke|~ce))+Ie[2]+718787259&4294967295)<<15&4294967295|ue>>>17))|~re))+Ie[9]+3951481745&4294967295,ve.g[0]=ve.g[0]+re&4294967295,ve.g[1]=ve.g[1]+(De+(ue<<21&4294967295|ue>>>11))&4294967295,ve.g[2]=ve.g[2]+De&4294967295,ve.g[3]=ve.g[3]+ke&4294967295}function h(ve,re){this.h=re;for(var ce=[],Ie=!0,De=ve.length-1;0<=De;De--){var ke=0|ve[De];Ie&&ke==re||(ce[De]=ke,Ie=!1)}this.g=ce}(function e(ve,re){function ce(){}ce.prototype=re.prototype,ve.D=re.prototype,ve.prototype=new ce,ve.prototype.constructor=ve,ve.C=function(Ie,De,ke){for(var ue=Array(arguments.length-2),Ws=2;Ws<arguments.length;Ws++)ue[Ws-2]=arguments[Ws];return re.prototype[De].apply(Ie,ue)}})(o,function n(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ve,re){void 0===re&&(re=ve.length);for(var ce=re-this.blockSize,Ie=this.B,De=this.h,ke=0;ke<re;){if(0==De)for(;ke<=ce;)u(this,ve,ke),ke+=this.blockSize;if("string"==typeof ve){for(;ke<re;)if(Ie[De++]=ve.charCodeAt(ke++),De==this.blockSize){u(this,Ie),De=0;break}}else for(;ke<re;)if(Ie[De++]=ve[ke++],De==this.blockSize){u(this,Ie),De=0;break}}this.h=De,this.o+=re},o.prototype.v=function(){var ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ve[0]=128;for(var re=1;re<ve.length-8;++re)ve[re]=0;var ce=8*this.o;for(re=ve.length-8;re<ve.length;++re)ve[re]=255&ce,ce/=256;for(this.u(ve),ve=Array(16),re=ce=0;4>re;++re)for(var Ie=0;32>Ie;Ie+=8)ve[ce++]=this.g[re]>>>Ie&255;return ve};var g={};function I(ve){return-128<=ve&&128>ve?function l(ve,re){var ce=g;return Object.prototype.hasOwnProperty.call(ce,ve)?ce[ve]:ce[ve]=re(ve)}(ve,function(re){return new h([0|re],0>re?-1:0)}):new h([0|ve],0>ve?-1:0)}function D(ve){if(isNaN(ve)||!isFinite(ve))return L;if(0>ve)return nt(D(-ve));for(var re=[],ce=1,Ie=0;ve>=ce;Ie++)re[Ie]=ve/ce|0,ce*=4294967296;return new h(re,0)}var L=I(0),J=I(1),Te=I(16777216);function We(ve){if(0!=ve.h)return!1;for(var re=0;re<ve.g.length;re++)if(0!=ve.g[re])return!1;return!0}function ut(ve){return-1==ve.h}function nt(ve){for(var re=ve.g.length,ce=[],Ie=0;Ie<re;Ie++)ce[Ie]=~ve.g[Ie];return new h(ce,~ve.h).add(J)}function Ut(ve,re){return ve.add(nt(re))}function qt(ve,re){for(;(65535&ve[re])!=ve[re];)ve[re+1]+=ve[re]>>>16,ve[re]&=65535,re++}function Ot(ve,re){this.g=ve,this.h=re}function un(ve,re){if(We(re))throw Error("division by zero");if(We(ve))return new Ot(L,L);if(ut(ve))return re=un(nt(ve),re),new Ot(nt(re.g),nt(re.h));if(ut(re))return re=un(ve,nt(re)),new Ot(nt(re.g),re.h);if(30<ve.g.length){if(ut(ve)||ut(re))throw Error("slowDivide_ only works with positive integers.");for(var ce=J,Ie=re;0>=Ie.l(ve);)ce=Vn(ce),Ie=Vn(Ie);var De=_n(ce,1),ke=_n(Ie,1);for(Ie=_n(Ie,2),ce=_n(ce,2);!We(Ie);){var ue=ke.add(Ie);0>=ue.l(ve)&&(De=De.add(ce),ke=ue),Ie=_n(Ie,1),ce=_n(ce,1)}return re=Ut(ve,De.j(re)),new Ot(De,re)}for(De=L;0<=ve.l(re);){for(ce=Math.max(1,Math.floor(ve.m()/re.m())),Ie=48>=(Ie=Math.ceil(Math.log(ce)/Math.LN2))?1:Math.pow(2,Ie-48),ue=(ke=D(ce)).j(re);ut(ue)||0<ue.l(ve);)ue=(ke=D(ce-=Ie)).j(re);We(ke)&&(ke=J),De=De.add(ke),ve=Ut(ve,ue)}return new Ot(De,ve)}function Vn(ve){for(var re=ve.g.length+1,ce=[],Ie=0;Ie<re;Ie++)ce[Ie]=ve.i(Ie)<<1|ve.i(Ie-1)>>>31;return new h(ce,ve.h)}function _n(ve,re){var ce=re>>5;re%=32;for(var Ie=ve.g.length-ce,De=[],ke=0;ke<Ie;ke++)De[ke]=0<re?ve.i(ke+ce)>>>re|ve.i(ke+ce+1)<<32-re:ve.i(ke+ce);return new h(De,ve.h)}(s=h.prototype).m=function(){if(ut(this))return-nt(this).m();for(var ve=0,re=1,ce=0;ce<this.g.length;ce++){var Ie=this.i(ce);ve+=(0<=Ie?Ie:4294967296+Ie)*re,re*=4294967296}return ve},s.toString=function(ve){if(2>(ve=ve||10)||36<ve)throw Error("radix out of range: "+ve);if(We(this))return"0";if(ut(this))return"-"+nt(this).toString(ve);for(var re=D(Math.pow(ve,6)),ce=this,Ie="";;){var De=un(ce,re).g,ke=((0<(ce=Ut(ce,De.j(re))).g.length?ce.g[0]:ce.h)>>>0).toString(ve);if(We(ce=De))return ke+Ie;for(;6>ke.length;)ke="0"+ke;Ie=ke+Ie}},s.i=function(ve){return 0>ve?0:ve<this.g.length?this.g[ve]:this.h},s.l=function(ve){return ut(ve=Ut(this,ve))?-1:We(ve)?0:1},s.abs=function(){return ut(this)?nt(this):this},s.add=function(ve){for(var re=Math.max(this.g.length,ve.g.length),ce=[],Ie=0,De=0;De<=re;De++){var ke=Ie+(65535&this.i(De))+(65535&ve.i(De)),ue=(ke>>>16)+(this.i(De)>>>16)+(ve.i(De)>>>16);Ie=ue>>>16,ce[De]=(ue&=65535)<<16|(ke&=65535)}return new h(ce,-2147483648&ce[ce.length-1]?-1:0)},s.j=function(ve){if(We(this)||We(ve))return L;if(ut(this))return ut(ve)?nt(this).j(nt(ve)):nt(nt(this).j(ve));if(ut(ve))return nt(this.j(nt(ve)));if(0>this.l(Te)&&0>ve.l(Te))return D(this.m()*ve.m());for(var re=this.g.length+ve.g.length,ce=[],Ie=0;Ie<2*re;Ie++)ce[Ie]=0;for(Ie=0;Ie<this.g.length;Ie++)for(var De=0;De<ve.g.length;De++){var ke=this.i(Ie)>>>16,ue=65535&this.i(Ie),Ws=ve.i(De)>>>16,uh=65535&ve.i(De);ce[2*Ie+2*De]+=ue*uh,qt(ce,2*Ie+2*De),ce[2*Ie+2*De+1]+=ke*uh,qt(ce,2*Ie+2*De+1),ce[2*Ie+2*De+1]+=ue*Ws,qt(ce,2*Ie+2*De+1),ce[2*Ie+2*De+2]+=ke*Ws,qt(ce,2*Ie+2*De+2)}for(Ie=0;Ie<re;Ie++)ce[Ie]=ce[2*Ie+1]<<16|ce[2*Ie];for(Ie=re;Ie<2*re;Ie++)ce[Ie]=0;return new h(ce,0)},s.A=function(ve){return un(this,ve).h},s.and=function(ve){for(var re=Math.max(this.g.length,ve.g.length),ce=[],Ie=0;Ie<re;Ie++)ce[Ie]=this.i(Ie)&ve.i(Ie);return new h(ce,this.h&ve.h)},s.or=function(ve){for(var re=Math.max(this.g.length,ve.g.length),ce=[],Ie=0;Ie<re;Ie++)ce[Ie]=this.i(Ie)|ve.i(Ie);return new h(ce,this.h|ve.h)},s.xor=function(ve){for(var re=Math.max(this.g.length,ve.g.length),ce=[],Ie=0;Ie<re;Ie++)ce[Ie]=this.i(Ie)^ve.i(Ie);return new h(ce,this.h^ve.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,jc=yv.Md5=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=D,h.fromString=function P(ve,re){if(0==ve.length)throw Error("number format error: empty string");if(2>(re=re||10)||36<re)throw Error("radix out of range: "+re);if("-"==ve.charAt(0))return nt(P(ve.substring(1),re));if(0<=ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var ce=D(Math.pow(re,8)),Ie=L,De=0;De<ve.length;De+=8){var ke=Math.min(8,ve.length-De),ue=parseInt(ve.substring(De,De+ke),re);8>ke?(ke=D(Math.pow(re,ke)),Ie=Ie.j(ke).add(D(ue))):Ie=(Ie=Ie.j(ce)).add(D(ue))}return Ie},jn=yv.Integer=h}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});var rd,tf,aD,Va,vv,$c,uD,Iv,Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};(function(){var s,e="function"==typeof Object.defineProperties?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p},o=function n(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fa&&Fa];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}(this);!function u(p,w){if(w)e:{var S=o;p=p.split(".");for(var H=0;H<p.length-1;H++){var Se=p[H];if(!(Se in S))break e;S=S[Se]}(w=w(H=S[p=p[p.length-1]]))!=H&&null!=w&&e(S,p,{configurable:!0,writable:!0,value:w})}}("Array.prototype.values",function(p){return p||function(){return function l(p,w){p instanceof String&&(p+="");var S=0,H=!1,Se={next:function(){if(!H&&S<p.length){var He=S++;return{value:w(He,p[He]),done:!1}}return H=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}(this,function(w,S){return S})}});var h=h||{},g=this||self;function I(p){var w=typeof p;return"array"==(w="object"!=w?w:p?Array.isArray(p)?"array":w:"null")||"object"==w&&"number"==typeof p.length}function D(p){var w=typeof p;return"object"==w&&null!=p||"function"==w}function P(p,w,S){return p.call.apply(p.bind,arguments)}function L(p,w,S){if(!p)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,H),p.apply(w,Se)}}return function(){return p.apply(w,arguments)}}function J(p,w,S){return(J=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:L).apply(null,arguments)}function Te(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var H=S.slice();return H.push.apply(H,arguments),p.apply(this,H)}}function We(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(H,Se,He){for(var yt=Array(arguments.length-2),xr=2;xr<arguments.length;xr++)yt[xr-2]=arguments[xr];return w.prototype[Se].apply(H,yt)}}function ut(p){const w=p.length;if(0<w){const S=Array(w);for(let H=0;H<w;H++)S[H]=p[H];return S}return[]}function nt(p,w){for(let S=1;S<arguments.length;S++){const H=arguments[S];if(I(H)){const Se=p.length||0,He=H.length||0;p.length=Se+He;for(let yt=0;yt<He;yt++)p[Se+yt]=H[yt]}else p.push(H)}}function qt(p){return/^[\s\xa0]*$/.test(p)}function Ot(){var p=g.navigator;return p&&(p=p.userAgent)?p:""}function un(p){return un[" "](p),p}un[" "]=function(){};var Vn=!(-1==Ot().indexOf("Gecko")||-1!=Ot().toLowerCase().indexOf("webkit")&&-1==Ot().indexOf("Edge")||-1!=Ot().indexOf("Trident")||-1!=Ot().indexOf("MSIE")||-1!=Ot().indexOf("Edge"));function _n(p,w,S){for(const H in p)w.call(S,p[H],H,p)}function re(p){const w={};for(const S in p)w[S]=p[S];return w}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(p,w){let S,H;for(let Se=1;Se<arguments.length;Se++){for(S in H=arguments[Se],H)p[S]=H[S];for(let He=0;He<ce.length;He++)S=ce[He],Object.prototype.hasOwnProperty.call(H,S)&&(p[S]=H[S])}}function De(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function ke(p){g.setTimeout(()=>{throw p},0)}function ue(){var p=B_;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}var uh=new class Ut{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}(()=>new TC,p=>p.reset());class TC{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ch,lh=!1,B_=new class Ws{constructor(){this.h=this.g=null}add(w,S){const H=uh.get();H.set(w,S),this.h?this.h.next=H:this.g=H,this.h=H}},ET=()=>{const p=g.Promise.resolve(void 0);ch=()=>{p.then(wC)}};var wC=()=>{for(var p;p=ue();){try{p.h.call(p.g)}catch(S){ke(S)}var w=uh;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}lh=!1};function ou(){this.s=this.s,this.C=this.C}function eo(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}ou.prototype.s=!1,ou.prototype.ma=function(){this.s||(this.s=!0,this.N())},ou.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},eo.prototype.h=function(){this.defaultPrevented=!0};var YP=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};g.addEventListener("test",S,w),g.removeEventListener("test",S,w)}catch{}return p}();function dh(p,w){if(eo.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,H=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(Vn){e:{try{un(w.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(w=null)}}else"mouseover"==S?w=p.fromElement:"mouseout"==S&&(w=p.toElement);this.relatedTarget=w,H?(this.clientX=void 0!==H.clientX?H.clientX:H.pageX,this.clientY=void 0!==H.clientY?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:DC[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&dh.aa.h.call(this)}}We(dh,eo);var DC={2:"touch",3:"pen",4:"mouse"};dh.prototype.h=function(){dh.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),JP=0;function eM(p,w,S,H,Se){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!H,this.ha=Se,this.key=++JP,this.da=this.fa=!1}function hh(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Up(p){this.src=p,this.g={},this.h=0}function TT(p,w){var S=w.type;if(S in p.g){var He,H=p.g[S],Se=Array.prototype.indexOf.call(H,w,void 0);(He=0<=Se)&&Array.prototype.splice.call(H,Se,1),He&&(hh(w),0==p.g[S].length&&(delete p.g[S],p.h--))}}function wT(p,w,S,H){for(var Se=0;Se<p.length;++Se){var He=p[Se];if(!He.da&&He.listener==w&&He.capture==!!S&&He.ha==H)return Se}return-1}Up.prototype.add=function(p,w,S,H,Se){var He=p.toString();(p=this.g[He])||(p=this.g[He]=[],this.h++);var yt=wT(p,w,H,Se);return-1<yt?(w=p[yt],S||(w.fa=!1)):((w=new eM(w,this.src,He,!!H,Se)).fa=S,p.push(w)),w};var DT="closure_lm_"+(1e6*Math.random()|0),AT={};function AC(p,w,S,H,Se){if(H&&H.once)return bC(p,w,S,H,Se);if(Array.isArray(w)){for(var He=0;He<w.length;He++)AC(p,w[He],S,H,Se);return null}return S=z_(S),p&&p[Vp]?p.K(w,S,D(H)?!!H.capture:!!H,Se):CC(p,w,S,!1,H,Se)}function CC(p,w,S,H,Se,He){if(!w)throw Error("Invalid event type");var yt=D(Se)?!!Se.capture:!!Se,xr=$_(p);if(xr||(p[DT]=xr=new Up(p)),(S=xr.add(w,S,H,yt,He)).proxy)return S;if(H=function tM(){const w=RC;return function p(S){return w.call(p.src,p.listener,S)}}(),S.proxy=H,H.src=p,H.listener=S,p.addEventListener)YP||(Se=yt),void 0===Se&&(Se=!1),p.addEventListener(w.toString(),H,Se);else if(p.attachEvent)p.attachEvent(CT(w.toString()),H);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(H)}return S}function bC(p,w,S,H,Se){if(Array.isArray(w)){for(var He=0;He<w.length;He++)bC(p,w[He],S,H,Se);return null}return S=z_(S),p&&p[Vp]?p.L(w,S,D(H)?!!H.capture:!!H,Se):CC(p,w,S,!0,H,Se)}function SC(p,w,S,H,Se){if(Array.isArray(w))for(var He=0;He<w.length;He++)SC(p,w[He],S,H,Se);else H=D(H)?!!H.capture:!!H,S=z_(S),p&&p[Vp]?(p=p.i,(w=String(w).toString())in p.g&&-1<(S=wT(He=p.g[w],S,H,Se))&&(hh(He[S]),Array.prototype.splice.call(He,S,1),0==He.length&&(delete p.g[w],p.h--))):p&&(p=$_(p))&&(w=p.g[w.toString()],p=-1,w&&(p=wT(w,S,H,Se)),(S=-1<p?w[p]:null)&&j_(S))}function j_(p){if("number"!=typeof p&&p&&!p.da){var w=p.src;if(w&&w[Vp])TT(w.i,p);else{var S=p.type,H=p.proxy;w.removeEventListener?w.removeEventListener(S,H,p.capture):w.detachEvent?w.detachEvent(CT(S),H):w.addListener&&w.removeListener&&w.removeListener(H),(S=$_(w))?(TT(S,p),0==S.h&&(S.src=null,w[DT]=null)):hh(p)}}}function CT(p){return p in AT?AT[p]:AT[p]="on"+p}function RC(p,w){if(p.da)p=!0;else{w=new dh(w,this);var S=p.listener,H=p.ha||p.src;p.fa&&j_(p),p=S.call(H,w)}return p}function $_(p){return(p=p[DT])instanceof Up?p:null}var H_="__closure_events_fn_"+(1e9*Math.random()>>>0);function z_(p){return"function"==typeof p?p:(p[H_]||(p[H_]=function(w){return p.handleEvent(w)}),p[H_])}function to(){ou.call(this),this.i=new Up(this),this.M=this,this.F=null}function go(p,w){var S,H=p.F;if(H)for(S=[];H;H=H.F)S.push(H);if(p=p.M,H=w.type||w,"string"==typeof w)w=new eo(w,p);else if(w instanceof eo)w.target=w.target||p;else{var Se=w;Ie(w=new eo(H,p),Se)}if(Se=!0,S)for(var He=S.length-1;0<=He;He--){var yt=w.g=S[He];Se=Bp(yt,H,!0,w)&&Se}if(Se=Bp(yt=w.g=p,H,!0,w)&&Se,Se=Bp(yt,H,!1,w)&&Se,S)for(He=0;He<S.length;He++)Se=Bp(yt=w.g=S[He],H,!1,w)&&Se}function Bp(p,w,S,H){if(!(w=p.i.g[String(w)]))return!0;w=w.concat();for(var Se=!0,He=0;He<w.length;++He){var yt=w[He];if(yt&&!yt.da&&yt.capture==S){var xr=yt.listener,Ni=yt.ha||yt.src;yt.fa&&TT(p.i,yt),Se=!1!==xr.call(Ni,H)&&Se}}return Se&&!H.defaultPrevented}function bT(p,w,S){if("function"==typeof p)S&&(p=J(p,S));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=J(p.handleEvent,p)}return 2147483647<Number(w)?-1:g.setTimeout(p,w||0)}function ST(p){p.g=bT(()=>{p.g=null,p.i&&(p.i=!1,ST(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}We(to,ou),to.prototype[Vp]=!0,to.prototype.removeEventListener=function(p,w,S,H){SC(this,p,w,S,H)},to.prototype.N=function(){if(to.aa.N.call(this),this.i){var w,p=this.i;for(w in p.g){for(var S=p.g[w],H=0;H<S.length;H++)hh(S[H]);delete p.g[w],p.h--}}this.F=null},to.prototype.K=function(p,w,S,H){return this.i.add(String(p),w,!1,S,H)},to.prototype.L=function(p,w,S,H){return this.i.add(String(p),w,!0,S,H)};class nM extends ou{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ST(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jp(p){ou.call(this),this.h=p,this.g={}}We(jp,ou);var W_=[];function $p(p){_n(p.g,function(w,S){this.g.hasOwnProperty(S)&&j_(w)},p),p.g={}}jp.prototype.N=function(){jp.aa.N.call(this),$p(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var G_=g.JSON.stringify,RT=g.JSON.parse,PC=class{stringify(p){return g.JSON.stringify(p,void 0)}parse(p){return g.JSON.parse(p,void 0)}};function q_(){}function MT(){}q_.prototype.h=null;var fh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function K_(){eo.call(this,"d")}function Gs(){eo.call(this,"c")}We(K_,eo),We(Gs,eo);var su={},NT=null;function ph(){return NT=NT||new to}function kT(p){eo.call(this,su.La,p)}function gh(p){const w=ph();go(w,new kT(w))}function MC(p,w){eo.call(this,su.STAT_EVENT,p),this.stat=w}function bo(p){const w=ph();go(w,new MC(w,p))}function NC(p,w){eo.call(this,su.Ma,p),this.size=w}function Hp(p,w){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){p()},w)}function xl(){this.g=!0}function yc(p,w,S,H){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+function iM(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S)for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var H=S[p];if(!(2>H.length)){var Se=H[1];if(Array.isArray(Se)&&!(1>Se.length)){var He=Se[0];if("noop"!=He&&"stop"!=He&&"close"!=He)for(var yt=1;yt<Se.length;yt++)Se[yt]=""}}}return G_(S)}catch{return w}}(p,S)+(H?" "+H:"")})}su.La="serverreachability",We(kT,eo),su.STAT_EVENT="statevent",We(MC,eo),su.Ma="timingevent",We(NC,eo),xl.prototype.xa=function(){this.g=!1},xl.prototype.info=function(){};var Q_,mh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function X_(){}function vc(p,w,S,H){this.j=p,this.i=w,this.l=S,this.R=H||1,this.U=new jp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new OC}function OC(){this.i=null,this.g="",this.h=!1}We(X_,q_),X_.prototype.g=function(){return new XMLHttpRequest},X_.prototype.i=function(){return{}},Q_=new X_;var zp={},Z_={};function Y_(p,w,S){p.L=1,p.v=ny(au(w)),p.m=S,p.P=!0,OT(p,null)}function OT(p,w){p.F=Date.now(),J_(p),p.A=au(p.v);var S=p.A,H=p.R;Array.isArray(H)||(H=[String(H)]),_h(S.i,"t",H),p.C=0,S=p.j.J,p.h=new OC,p.g=TM(p.j,S?w:null,!p.m),0<p.O&&(p.M=new nM(J(p.Y,p,p.g),p.O)),w=p.U,S=p.g,H=p.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(W_[0]=Se.toString()),Se=W_);for(var He=0;He<Se.length;He++){var yt=AC(S,Se[He],H||w.handleEvent,!1,w.h||w);if(!yt)break;w.g[yt.key]=yt}w=p.H?re(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),gh(),function xT(p,w,S,H,Se,He){p.info(function(){if(p.g)if(He)for(var yt="",xr=He.split("&"),Ni=0;Ni<xr.length;Ni++){var Qn=xr[Ni].split("=");if(1<Qn.length){var no=Qn[0];Qn=Qn[1];var ji=no.split("_");yt=2<=ji.length&&"type"==ji[1]?yt+(no+"=")+Qn+"&":yt+(no+"=redacted&")}}else yt=null;else yt=He;return"XMLHTTP REQ ("+H+") [attempt "+Se+"]: "+w+"\n"+S+"\n"+yt})}(p.i,p.u,p.A,p.l,p.R,p.m)}function LC(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function oM(p,w){var S=p.C,H=w.indexOf("\n",S);return-1==H?Z_:(S=Number(w.substring(S,H)),isNaN(S)?zp:(H+=1)+S>w.length?Z_:(w=w.slice(H,H+S),p.C=H+S,w))}function J_(p){p.S=Date.now()+p.I,FC(p,p.I)}function FC(p,w){if(null!=p.B)throw Error("WatchDog timer not null");p.B=Hp(J(p.ba,p),w)}function LT(p){p.B&&(g.clearTimeout(p.B),p.B=null)}function Wp(p){0==p.j.G||p.J||yM(p.j,p)}function Ol(p){LT(p);var w=p.M;w&&"function"==typeof w.ma&&w.ma(),p.M=null,$p(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function FT(p,w){try{var S=p.j;if(0!=S.G&&(S.g==p||ey(S.h,p)))if(!p.K&&ey(S.h,p)&&3==S.G){try{var H=S.Da.g.parse(w)}catch{H=null}if(Array.isArray(H)&&3==H.length){var Se=H;if(0==Se[0]){e:if(!S.u){if(S.g){if(!(S.g.F+3e3<p.F))break e;Yp(S),ay(S)}XT(S),bo(18)}}else S.za=Se[1],0<S.za-S.T&&37500>Se[2]&&S.F&&0==S.v&&!S.C&&(S.C=Hp(J(S.Za,S),6e3));if(1>=BT(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Ih(S,11)}else if((p.K||S.g==p)&&Yp(S),!qt(w))for(Se=S.Da.g.parse(w),w=0;w<Se.length;w++){let Qn=Se[w];if(S.T=Qn[0],Qn=Qn[1],2==S.G)if("c"==Qn[0]){S.K=Qn[1],S.ia=Qn[2];const no=Qn[3];null!=no&&(S.la=no,S.j.info("VER="+S.la));const ji=Qn[4];null!=ji&&(S.Aa=ji,S.j.info("SVER="+S.Aa));const Ul=Qn[5];null!=Ul&&"number"==typeof Ul&&0<Ul&&(S.L=H=1.5*Ul,S.j.info("backChannelRequestTimeoutMs_="+H)),H=S;const Ia=p.g;if(Ia){const Ac=Ia.g?Ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var He=H.h;He.g||-1==Ac.indexOf("spdy")&&-1==Ac.indexOf("quic")&&-1==Ac.indexOf("h2")||(He.j=He.l,He.g=new Set,He.h&&(ty(He,He.h),He.h=null))}if(H.D){const JC=Ia.g?Ia.g.getResponseHeader("X-HTTP-Session-Id"):null;JC&&(H.ya=JC,Fr(H.I,H.D,JC))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms"));var yt=p;if((H=S).qa=EM(H,H.J?H.ia:null,H.W),yt.K){jT(H.h,yt);var xr=yt,Ni=H.L;Ni&&(xr.I=Ni),xr.B&&(LT(xr),J_(xr)),H.g=yt}else QT(H);0<S.i.length&&Zp(S)}else"stop"!=Qn[0]&&"close"!=Qn[0]||Ih(S,7);else 3==S.G&&("stop"==Qn[0]||"close"==Qn[0]?"stop"==Qn[0]?Ih(S,7):sy(S):"noop"!=Qn[0]&&S.l&&S.l.ta(Qn),S.v=0)}gh()}catch{}}vc.prototype.ca=function(p){p=p.target;const w=this.M;w&&3==uu(p)?w.j():this.Y(p)},vc.prototype.Y=function(p){try{if(p==this.g)e:{const ji=uu(this.g);var w=this.g.Ba();if(this.g.Z(),!(3>ji)&&(3!=ji||this.g&&(this.h.h||this.g.oa()||WT(this.g)))){this.J||4!=ji||7==w||gh(),LT(this);var S=this.g.Z();this.X=S;t:if(LC(this)){var H=WT(this.g);p="";var Se=H.length,He=4==uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ol(this),Wp(this);var yt="";break t}this.h.i=new g.TextDecoder}for(w=0;w<Se;w++)this.h.h=!0,p+=this.h.i.decode(H[w],{stream:!(He&&w==Se-1)});H.length=0,this.h.g+=p,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=200==S,function kC(p,w,S,H,Se,He,yt){p.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+Se+"]: "+w+"\n"+S+"\n"+He+" "+yt})}(this.i,this.u,this.A,this.l,this.R,ji,S),this.o){if(this.T&&!this.K){t:{if(this.g){var xr,Ni=this.g;if((xr=Ni.g?Ni.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qt(xr)){var Qn=xr;break t}}Qn=null}if(!(S=Qn)){this.o=!1,this.s=3,bo(12),Ol(this),Wp(this);break e}yc(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,FT(this,S)}if(this.P){let Ia;for(S=!0;!this.J&&this.C<yt.length;){if(Ia=oM(this,yt),Ia==Z_){4==ji&&(this.s=4,bo(14),S=!1),yc(this.i,this.l,null,"[Incomplete Response]");break}if(Ia==zp){this.s=4,bo(15),yc(this.i,this.l,yt,"[Invalid Chunk]"),S=!1;break}yc(this.i,this.l,Ia,null),FT(this,Ia)}if(LC(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ji||0!=yt.length||this.h.h||(this.s=1,bo(16),S=!1),this.o=this.o&&S,S){if(0<yt.length&&!this.W){this.W=!0;var no=this.j;no.g==this&&no.ba&&!no.M&&(no.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),ZT(no),no.M=!0,bo(11))}}else yc(this.i,this.l,yt,"[Invalid Chunked Response]"),Ol(this),Wp(this)}else yc(this.i,this.l,yt,null),FT(this,yt);4==ji&&Ol(this),this.o&&!this.J&&(4==ji?yM(this.j,this):(this.o=!1,J_(this)))}else(function QC(p){const w={};p=(p.g&&2<=uu(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let H=0;H<p.length;H++){if(qt(p[H]))continue;var S=De(p[H]);const Se=S[0];if("string"!=typeof(S=S[1]))continue;S=S.trim();const He=w[Se]||[];w[Se]=He,He.push(S)}!function ve(p,w){for(const S in p)w.call(void 0,p[S],S,p)}(w,function(H){return H.join(", ")})})(this.g),400==S&&0<yt.indexOf("Unknown SID")?(this.s=3,bo(12)):(this.s=0,bo(13)),Ol(this),Wp(this)}}}catch{}},vc.prototype.cancel=function(){this.J=!0,Ol(this)},vc.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function rM(p,w){p.info(function(){return"TIMEOUT: "+w})}(this.i,this.A),2!=this.L&&(gh(),bo(17)),Ol(this),this.s=2,Wp(this)):FC(this,this.S-p)};var Gp=class{constructor(p,w){this.g=p,this.map=w}};function VT(p){this.l=p||10,p=g.PerformanceNavigationTiming?0<(p=g.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UT(p){return!!p.h||!!p.g&&p.g.size>=p.j}function BT(p){return p.h?1:p.g?p.g.size:0}function ey(p,w){return p.h?p.h==w:!!p.g&&p.g.has(w)}function ty(p,w){p.g?p.g.add(w):p.h=w}function jT(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}function VC(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return ut(p.i)}function $T(p,w){if(p.forEach&&"function"==typeof p.forEach)p.forEach(w,void 0);else if(I(p)||"string"==typeof p)Array.prototype.forEach.call(p,w,void 0);else for(var S=function Mk(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(I(p)||"string"==typeof p){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const H in p)w[S++]=H;return w}}}(p),H=function Pk(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(I(p)){for(var w=[],S=p.length,H=0;H<S;H++)w.push(p[H]);return w}for(H in w=[],S=0,p)w[S++]=p[H];return w}(p),Se=H.length,He=0;He<Se;He++)w.call(void 0,H[He],S&&S[He],p)}VT.prototype.cancel=function(){if(this.i=VC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var UC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ll(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ll){this.h=p.h,Ic(this,p.j),this.o=p.o,this.g=p.g,qp(this,p.s),this.l=p.l;var w=p.i,S=new va;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),BC(this,S),this.m=p.m}else p&&(w=String(p).match(UC))?(this.h=!1,Ic(this,w[1]||"",!0),this.o=Kp(w[2]||""),this.g=Kp(w[3]||"",!0),qp(this,w[4]),this.l=Kp(w[5]||"",!0),BC(this,w[6]||"",!0),this.m=Kp(w[7]||"")):(this.h=!1,this.i=new va(null,this.h))}function au(p){return new Ll(p)}function Ic(p,w,S){p.j=S?Kp(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function qp(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function BC(p,w,S){w instanceof va?(p.i=w,function HT(p,w){w&&!p.j&&(Tc(p),p.i=null,p.g.forEach(function(S,H){var Se=H.toLowerCase();H!=Se&&(HC(this,H),_h(this,Se,S))},p)),p.j=w}(p.i,p.h)):(S||(w=Ec(w,cM)),p.i=new va(w,p.h))}function Fr(p,w,S){p.i.set(w,S)}function ny(p){return Fr(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Kp(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ec(p,w,S){return"string"==typeof p?(p=encodeURI(p).replace(w,aM),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function aM(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}Ll.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Ec(w,jC,!0),":");var S=this.g;return(S||"file"==w)&&(p.push("//"),(w=this.o)&&p.push(Ec(w,jC,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(S=this.s)&&p.push(":",String(S))),(S=this.l)&&(this.g&&"/"!=S.charAt(0)&&p.push("/"),p.push(Ec(S,"/"==S.charAt(0)?uM:$C,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Ec(S,So)),p.join("")};var jC=/[#\/\?@]/g,$C=/[#\?:]/g,uM=/[#\?]/g,cM=/[#\?@]/g,So=/#/g;function va(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Tc(p){p.g||(p.g=new Map,p.h=0,p.i&&function sM(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var H=p[S].indexOf("="),Se=null;if(0<=H){var He=p[S].substring(0,H);Se=p[S].substring(H+1)}else He=p[S];w(He,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}function HC(p,w){Tc(p),w=yh(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function lM(p,w){return Tc(p),w=yh(p,w),p.g.has(w)}function _h(p,w,S){HC(p,w),0<S.length&&(p.i=null,p.g.set(yh(p,w),ut(S)),p.h+=S.length)}function yh(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function wc(p,w,S,H,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),H(S)}catch{}}function hM(){this.g=new PC}function fM(p,w,S){const H=S||"";try{$T(p,function(Se,He){let yt=Se;D(Se)&&(yt=G_(Se)),w.push(H+He+"="+encodeURIComponent(yt))})}catch(Se){throw w.push(H+"type="+encodeURIComponent("_badmap")),Se}}function Fl(p){this.l=p.Ub||null,this.j=p.eb||!1}function Qp(p,w){to.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function WC(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function Dc(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Vl(p)}function Vl(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function pM(p){let w="";return _n(p,function(S,H){w+=H,w+=":",w+=S,w+="\r\n"}),w}function ry(p,w,S){e:{for(H in S){var H=!1;break e}H=!0}H||(S=pM(S),"string"==typeof p?null!=S&&encodeURIComponent(String(S)):Fr(p,w,S))}function oi(p){to.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(s=va.prototype).add=function(p,w){Tc(this),this.i=null,p=yh(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this},s.forEach=function(p,w){Tc(this),this.g.forEach(function(S,H){S.forEach(function(Se){p.call(w,Se,H,this)},this)},this)},s.na=function(){Tc(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let H=0;H<w.length;H++){const Se=p[H];for(let He=0;He<Se.length;He++)S.push(w[H])}return S},s.V=function(p){Tc(this);let w=[];if("string"==typeof p)lM(this,p)&&(w=w.concat(this.g.get(yh(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},s.set=function(p,w){return Tc(this),this.i=null,lM(this,p=yh(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},s.get=function(p,w){return p&&0<(p=this.V(p)).length?String(p[0]):w},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var H=w[S];const He=encodeURIComponent(String(H)),yt=this.V(H);for(H=0;H<yt.length;H++){var Se=He;""!==yt[H]&&(Se+="="+encodeURIComponent(String(yt[H]))),p.push(Se)}}return this.i=p.join("&")},We(Fl,q_),Fl.prototype.g=function(){return new Qp(this.l,this.j)},Fl.prototype.i=function(p){return function(){return p}}({}),We(Qp,to),(s=Qp.prototype).open=function(p,w){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Vl(this)},s.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||g).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dc(this)),this.readyState=0},s.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;WC(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},s.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Dc(this):Vl(this),3==this.readyState&&WC(this)}},s.Ra=function(p){this.g&&(this.response=this.responseText=p,Dc(this))},s.Qa=function(p){this.g&&(this.response=p,Dc(this))},s.ga=function(){this.g&&Dc(this)},s.setRequestHeader=function(p,w){this.u.append(p,w)},s.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)p.push((S=S.value)[0]+": "+S[1]),S=w.next();return p.join("\r\n")},Object.defineProperty(Qp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),We(oi,to);var GC=/^https?$/i,qC=["POST","PUT"];function zT(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,iy(p),oy(p)}function iy(p){p.A||(p.A=!0,go(p,"complete"),go(p,"error"))}function gM(p){if(p.h&&typeof h<"u"&&(!p.v[1]||4!=uu(p)||2!=p.Z()))if(p.u&&4==uu(p))bT(p.Ea,0,p);else if(go(p,"readystatechange"),4==uu(p)){p.h=!1;try{const yt=p.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var H;if(H=0===yt){var Se=String(p.D).match(UC)[1]||null;!Se&&g.self&&g.self.location&&(Se=g.self.location.protocol.slice(0,-1)),H=!GC.test(Se?Se.toLowerCase():"")}S=H}if(S)go(p,"complete"),go(p,"success");else{p.m=6;try{var He=2<uu(p)?p.g.statusText:""}catch{He=""}p.l=He+" ["+p.Z()+"]",iy(p)}}finally{oy(p)}}}function oy(p,w){if(p.g){KC(p);const S=p.g,H=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||go(p,"ready");try{S.onreadystatechange=H}catch{}}}function KC(p){p.I&&(g.clearTimeout(p.I),p.I=null)}function uu(p){return p.g?p.g.readyState:0}function WT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Xp(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function GT(p){this.Aa=0,this.i=[],this.j=new xl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xp("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xp("baseRetryDelayMs",5e3,p),this.cb=Xp("retryDelaySeedMs",1e4,p),this.Wa=Xp("forwardChannelMaxRetries",2,p),this.wa=Xp("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new VT(p&&p.concurrentRequestLimit),this.Da=new hM,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sy(p){if(XC(p),3==p.G){var w=p.U++,S=au(p.I);if(Fr(S,"SID",p.K),Fr(S,"RID",w),Fr(S,"TYPE","terminate"),vh(p,S),(w=new vc(p,p.j,w)).L=2,w.v=ny(au(S)),S=!1,g.navigator&&g.navigator.sendBeacon)try{S=g.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&g.Image&&((new Image).src=w.v,S=!0),S||(w.g=TM(w.j,null),w.g.ea(w.v)),w.F=Date.now(),J_(w)}IM(p)}function ay(p){p.g&&(ZT(p),p.g.cancel(),p.g=null)}function XC(p){ay(p),p.u&&(g.clearTimeout(p.u),p.u=null),Yp(p),p.h.cancel(),p.s&&("number"==typeof p.s&&g.clearTimeout(p.s),p.s=null)}function Zp(p){if(!UT(p.h)&&!p.s){p.s=!0;var w=p.Ga;ch||ET(),lh||(ch(),lh=!0),B_.add(w,p),p.B=0}}function qT(p,w){var S;S=w?w.l:p.U++;const H=au(p.I);Fr(H,"SID",p.K),Fr(H,"RID",S),Fr(H,"AID",p.T),vh(p,H),p.m&&p.o&&ry(H,p.m,p.o),S=new vc(p,p.j,S,p.B+1),null===p.m&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=KT(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ty(p.h,S),Y_(S,H,w)}function vh(p,w){p.H&&_n(p.H,function(S,H){Fr(w,H,S)}),p.l&&$T({},function(S,H){Fr(w,H,S)})}function KT(p,w,S){S=Math.min(p.i.length,S);var H=p.l?J(p.l.Na,p.l,p):null;e:{var Se=p.i;let He=-1;for(;;){const yt=["count="+S];-1==He?0<S?(He=Se[0].g,yt.push("ofs="+He)):He=0:yt.push("ofs="+He);let xr=!0;for(let Ni=0;Ni<S;Ni++){let Qn=Se[Ni].g;const no=Se[Ni].map;if(Qn-=He,0>Qn)He=Math.max(0,Se[Ni].g-100),xr=!1;else try{fM(no,yt,"req"+Qn+"_")}catch{H&&H(no)}}if(xr){H=yt.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,H}function QT(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;ch||ET(),lh||(ch(),lh=!0),B_.add(w,p),p.v=0}}function XT(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=Hp(J(p.Fa,p),vM(p,p.v)),p.v++,0))}function ZT(p){null!=p.A&&(g.clearTimeout(p.A),p.A=null)}function _M(p){p.g=new vc(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var w=au(p.qa);Fr(w,"RID","rpc"),Fr(w,"SID",p.K),Fr(w,"AID",p.T),Fr(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&Fr(w,"TO",p.ja),Fr(w,"TYPE","xmlhttp"),vh(p,w),p.m&&p.o&&ry(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=ny(au(w)),S.m=null,S.P=!0,OT(S,p)}function Yp(p){null!=p.C&&(g.clearTimeout(p.C),p.C=null)}function yM(p,w){var S=null;if(p.g==w){Yp(p),ZT(p),p.g=null;var H=2}else{if(!ey(p.h,w))return;S=w.D,jT(p.h,w),H=1}if(0!=p.G)if(w.o)if(1==H){S=w.m?w.m.length:0,w=Date.now()-w.F;var Se=p.B;go(H=ph(),new NC(H,S)),Zp(p)}else QT(p);else if(3==(Se=w.s)||0==Se&&0<w.X||!(1==H&&function mM(p,w){return!(BT(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=w.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=Hp(J(p.Ga,p,w),vM(p,p.B)),p.B++,0)))}(p,w)||2==H&&XT(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),Se){case 1:Ih(p,5);break;case 4:Ih(p,10);break;case 3:Ih(p,6);break;default:Ih(p,2)}}function vM(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function Ih(p,w){if(p.j.info("Error code "+w),2==w){var S=J(p.fb,p),H=p.Xa;const Se=!H;H=new Ll(H||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||Ic(H,"https"),ny(H),Se?function dM(p,w){const S=new xl;if(g.Image){const H=new Image;H.onload=Te(wc,S,"TestLoadImage: loaded",!0,w,H),H.onerror=Te(wc,S,"TestLoadImage: error",!1,w,H),H.onabort=Te(wc,S,"TestLoadImage: abort",!1,w,H),H.ontimeout=Te(wc,S,"TestLoadImage: timeout",!1,w,H),g.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=p}else w(!1)}(H.toString(),S):function zC(p,w){new xl;const H=new AbortController,Se=setTimeout(()=>{H.abort(),wc(0,0,!1,w)},1e4);fetch(p,{signal:H.signal}).then(He=>{clearTimeout(Se),wc(0,0,!!He.ok,w)}).catch(()=>{clearTimeout(Se),wc(0,0,!1,w)})}(H.toString(),S)}else bo(2);p.G=0,p.l&&p.l.sa(w),IM(p),XC(p)}function IM(p){if(p.G=0,p.ka=[],p.l){const w=VC(p.h);(0!=w.length||0!=p.i.length)&&(nt(p.ka,w),nt(p.ka,p.i),p.h.i.length=0,ut(p.i),p.i.length=0),p.l.ra()}}function EM(p,w,S){var H=S instanceof Ll?au(S):new Ll(S);if(""!=H.g)w&&(H.g=w+"."+H.g),qp(H,H.s);else{var Se=g.location;H=Se.protocol,w=w?w+"."+Se.hostname:Se.hostname,Se=+Se.port;var He=new Ll(null);H&&Ic(He,H),w&&(He.g=w),Se&&qp(He,Se),S&&(He.l=S),H=He}return w=p.ya,(S=p.D)&&w&&Fr(H,S,w),Fr(H,"VER",p.la),vh(p,H),H}function TM(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new oi(p.Ca&&!p.pa?new Fl({eb:S}):p.pa)).Ha(p.J),w}function wM(){}function YT(){}function Ho(p,w){to.call(this),this.g=new GT(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!qt(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!qt(w)&&(this.g.D=w,null!==(p=this.h)&&w in p&&w in(p=this.h)&&delete p[w]),this.j=new Eh(this)}function ZC(p){K_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=null!==w&&p in w?w[p]:void 0),this.data=w}else this.data=p}function YC(){Gs.call(this),this.status=1}function Eh(p){this.g=p}(s=oi.prototype).Ha=function(p){this.J=p},s.ea=function(p,w,S,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Q_.g(),this.v=function PT(p){return p.h||(p.h=p.i())}(this.o?this.o:Q_),this.g.onreadystatechange=J(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(He){return void zT(this,He)}if(p=S||"",S=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var Se in H)S.set(Se,H[Se]);else{if("function"!=typeof H.keys||"function"!=typeof H.get)throw Error("Unknown input type for opt_headers: "+String(H));for(const He of H.keys())S.set(He,H.get(He))}H=Array.from(S.keys()).find(He=>"content-type"==He.toLowerCase()),Se=g.FormData&&p instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qC,w,void 0))||H||Se||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[He,yt]of S)this.g.setRequestHeader(He,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KC(this),this.u=!0,this.g.send(p),this.u=!1}catch(He){zT(this,He)}},s.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,go(this,"complete"),go(this,"abort"),oy(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oy(this,!0)),oi.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?gM(this):this.bb())},s.bb=function(){gM(this)},s.isActive=function(){return!!this.g},s.Z=function(){try{return 2<uu(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&0==w.indexOf(p)&&(w=w.substring(p.length)),RT(w)}},s.Ba=function(){return this.m},s.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(s=GT.prototype).la=8,s.G=1,s.connect=function(p,w,S,H){bo(0),this.W=p,this.H=w||{},S&&void 0!==H&&(this.H.OSID=S,this.H.OAID=H),this.F=this.X,this.I=EM(this,null,this.W),Zp(this)},s.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Se=new vc(this,this.j,p);let He=this.o;if(this.S&&(He?(He=re(He),Ie(He,this.S)):He=this.S),null!==this.m||this.O||(Se.H=He,He=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){var H=this.i[S];if(void 0===(H="__data__"in H.map&&"string"==typeof(H=H.map.__data__)?H.length:void 0))break;if(4096<(w+=H)){w=S;break e}if(4096===w||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=KT(this,Se,w),Fr(S=au(this.I),"RID",p),Fr(S,"CVER",22),this.D&&Fr(S,"X-HTTP-Session-Id",this.D),vh(this,S),He&&(this.O?w="headers="+encodeURIComponent(String(pM(He)))+"&"+w:this.m&&ry(S,this.m,He)),ty(this.h,Se),this.Ua&&Fr(S,"TYPE","init"),this.P?(Fr(S,"$req",w),Fr(S,"SID","null"),Se.T=!0,Y_(Se,S,null)):Y_(Se,S,w),this.G=2}}else 3==this.G&&(p?qT(this,p):0==this.i.length||UT(this.h)||qT(this))},s.Fa=function(){if(this.u=null,_M(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Hp(J(this.ab,this),p)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bo(10),ay(this),_M(this))},s.Za=function(){null!=this.C&&(this.C=null,ay(this),XT(this),bo(19))},s.fb=function(p){p?(this.j.info("Successfully pinged google.com"),bo(2)):(this.j.info("Failed to ping google.com"),bo(1))},s.isActive=function(){return!!this.l&&this.l.isActive(this)},(s=wM.prototype).ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){},YT.prototype.g=function(p,w){return new Ho(p,w)},We(Ho,to),Ho.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ho.prototype.close=function(){sy(this.g)},Ho.prototype.o=function(p){var w=this.g;if("string"==typeof p){var S={};S.__data__=p,p=S}else this.u&&((S={}).__data__=G_(p),p=S);w.i.push(new Gp(w.Ya++,p)),3==w.G&&Zp(w)},Ho.prototype.N=function(){this.g.l=null,delete this.j,sy(this.g),delete this.g,Ho.aa.N.call(this)},We(ZC,K_),We(YC,Gs),We(Eh,wM),Eh.prototype.ua=function(){go(this.g,"a")},Eh.prototype.ta=function(p){go(this.g,new ZC(p))},Eh.prototype.sa=function(p){go(this.g,new YC)},Eh.prototype.ra=function(){go(this.g,"b")},YT.prototype.createWebChannel=YT.prototype.g,Ho.prototype.send=Ho.prototype.o,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,Iv=qi.createWebChannelTransport=function(){return new YT},uD=qi.getStatEventTarget=function(){return ph()},$c=qi.Event=su,vv=qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mh.NO_ERROR=0,mh.TIMEOUT=8,mh.HTTP_ERROR=6,Va=qi.ErrorCode=mh,xC.COMPLETE="complete",aD=qi.EventType=xC,MT.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",to.prototype.listen=to.prototype.K,tf=qi.WebChannel=MT,qi.FetchXmlHttpFactory=Fl,oi.prototype.listenOnce=oi.prototype.L,oi.prototype.getLastError=oi.prototype.Ka,oi.prototype.getLastErrorCode=oi.prototype.Ba,oi.prototype.getStatus=oi.prototype.Z,oi.prototype.getResponseJson=oi.prototype.Oa,oi.prototype.getResponseText=oi.prototype.oa,oi.prototype.send=oi.prototype.ea,oi.prototype.setWithCredentials=oi.prototype.Ha,rd=qi.XhrIo=oi}).apply(typeof Fa<"u"?Fa:typeof self<"u"?self:typeof window<"u"?window:{});const id="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Hc="11.5.0";const fs=new z.Vy("@firebase/firestore");function Ti(){return fs.logLevel}function Xe(s,...e){if(fs.logLevel<=z.$b.DEBUG){const n=e.map(rf);fs.debug(`Firestore (${Hc}): ${s}`,...n)}}function mi(s,...e){if(fs.logLevel<=z.$b.ERROR){const n=e.map(rf);fs.error(`Firestore (${Hc}): ${s}`,...n)}}function ps(s,...e){if(fs.logLevel<=z.$b.WARN){const n=e.map(rf);fs.warn(`Firestore (${Hc}): ${s}`,...n)}}function rf(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Nt(s="Unexpected state"){const e=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: `+s;throw mi(e),new Error(e)}function Bt(s,e){s||Nt()}function vt(s,e){return s}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ne.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class sf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ev{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pi.UNAUTHENTICATED))}shutdown(){}}class Tv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class od{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;Bt(void 0===this.o);let u=this.i;const l=D=>this.i!==u?(u=this.i,n(D)):Promise.resolve();let h=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ki,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const D=h;e.enqueueRetryable((0,U.A)(function*(){yield D.promise,yield l(o.currentUser)}))},I=D=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(D=>I(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?I(D):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ki)}},0),g()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Bt("string"==typeof o.accessToken),new sf(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Pi(e)}}class Zg{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yg{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Zg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wv{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,Ne.xZ)(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Bt(void 0===this.o);const o=l=>{null!=l.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,Xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Lu(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt("string"==typeof n.token),this.R=n.token,new Lu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}function Jg(){return new TextEncoder}class em{static newId(){const n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=lD(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function nn(s,e){return s<e?-1:s>e?1:0}function Dv(s,e){let n=0;for(;n<s.length&&n<e.length;){const o=s.codePointAt(n),u=e.codePointAt(n);if(o!==u){if(o<128&&u<128)return nn(o,u);{const l=Jg(),h=af(l.encode(zc(s,n)),l.encode(zc(e,n)));return 0!==h?h:nn(o,u)}}n+=o>65535?2:1}return nn(s.length,e.length)}function zc(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function af(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return nn(s[n],e[n]);return nn(s.length,e.length)}function Wc(s,e,n){return s.length===e.length&&s.every((o,u)=>n(o,e[u]))}const Av=-62135596800;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new jr(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Av)throw new at(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Av).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new jr(0,0))}static max(){return new Xt(new jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tm="__name__";class Bi{constructor(e,n,o){void 0===n?n=0:n>e.length&&Nt(),void 0===o?o=e.length-n:o>e.length-n&&Nt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Bi.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=Bi.compareSegments(e.get(u),n.get(u));if(0!==l)return l}return nn(e.length,n.length)}static compareSegments(e,n){const o=Bi.isNumericId(e),u=Bi.isNumericId(n);return o&&!u?-1:!o&&u?1:o&&u?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):Dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jn.fromString(e.substring(4,e.length-2))}}class Ln extends Bi{construct(e,n,o){return new Ln(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new at(Fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Ln(n)}static emptyPath(){return new Ln([])}}const yN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Bi{construct(e,n,o){return new Pr(e,n,o)}static isValidIdentifier(e){return yN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===tm}static keyField(){return new Pr([tm])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new at(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let h=!1;for(;u<e.length;){const g=e[u];if("\\"===g){if(u+1===e.length)throw new at(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[u+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new at(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=I,u+=2}else"`"===g?(h=!h,u++):"."!==g||h?(o+=g,u++):(l(),u++)}if(l(),h)throw new at(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Ln.fromString(e))}static fromName(e){return new Tt(Ln.fromString(e).popFirst(5))}static empty(){return new Tt(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Ln(e.slice()))}}class Qi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Qi(Xt.min(),Tt.empty(),-1)}static max(){return new Qi(Xt.max(),Tt.empty(),-1)}}function nm(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=Tt.comparator(s.documentKey,e.documentKey),0!==n?n:nn(s.largestBatchId,e.largestBatchId))}class gD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Kc(s){return mD.apply(this,arguments)}function mD(){return(mD=(0,U.A)(function*(s){if(s.code!==Fe.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==s.message)throw s;Xe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,o)=>{n(e)})}static reject(e){return new Re((n,o)=>{o(e)})}static waitFor(e){return new Re((n,o)=>{let u=0,l=0,h=!1;e.forEach(g=>{++u,g.next(()=>{++l,h&&l===u&&n()},I=>o(I))}),h=!0,l===u&&n()})}static or(e){let n=Re.resolve(!1);for(const o of e)n=n.next(u=>u?Re.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Re((o,u)=>{const l=e.length,h=new Array(l);let g=0;for(let I=0;I<l;I++){const D=I;n(e[D]).next(P=>{h[D]=P,++g,g===l&&o(h)},P=>u(P))}})}static doWhile(e,n){return new Re((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Qc(s){return"IndexedDbTransactionError"===s.name}let es=(()=>{class s{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.oe(u),this._e=u=>o.writeSequenceNumber(u))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return s.ae=-1,s})();function lf(s){return null==s}function df(s){return 0===s&&1/s==-1/0}function gS(s,e){let n=e;const o=s.length;for(let u=0;u<o;u++){const l=s.charAt(u);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function vD(s){return s+"\x01\x01"}const Yc="mutationQueues",ks="mutations",xs="documentMutations",cd="remoteDocumentGlobal",ld="targets",dd="targetDocuments",hd="targetGlobal",dm="collectionParents",pf="clientMetadata",hm="bundles",fm="namedQueries";function $v(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Bu(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Hv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Mr{constructor(e,n){this.comparator=e,this.root=n||Zi.EMPTY}insert(e,n){return new Mr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Zi.RED,this.left=u??Zi.EMPTY,this.right=l??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Zi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Zi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new Zi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fr(this.comparator);return n.data=e,n}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ts{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new ts([])}unionWith(e){let n=new fr(Pr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pd("Invalid base64 string: "+l):l}}(e);return new ni(n)}static fromUint8Array(e){const n=function(u){let l="";for(let h=0;h<u.length;++h)l+=String.fromCharCode(u[h]);return l}(e);return new ni(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const AS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(s){if(Bt(!!s),"string"==typeof s){let e=0;const n=AS.exec(s);if(Bt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Hr(s.seconds),nanos:Hr(s.nanos)}}function Hr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ha(s){return"string"==typeof s?ni.fromBase64String(s):ni.fromUint8Array(s)}const ND="server_timestamp",kD="__type__",xD="__previous_value__",OD="__local_write_time__";function gd(s){var e,n;return(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{})[kD])||void 0===n?void 0:n.stringValue)===ND}function Wv(s){const e=s.mapValue.fields[xD];return gd(e)?Wv(e):e}function _m(s){const e=ca(s.mapValue.fields[OD].timestampValue);return new jr(e.seconds,e.nanos)}class Gv{constructor(e,n,o,u,l,h,g,I,D){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=I,this.useFetchStreams=D}}const ym="(default)";class md{constructor(e,n){this.projectId=e,this.database=n||ym}static empty(){return new md("","")}get isDefaultDatabase(){return this.database===ym}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}const LD="__type__",CS="__max__",tl_mapValue={fields:{__type__:{stringValue:CS}}},qv="__vector__",za="value";function Wa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?gd(s)?4:Yv(s)?9007199254740991:Zv(s)?10:11:Nt()}function Os(s,e){if(s===e)return!0;const n=Wa(s);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return _m(s).isEqual(_m(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const h=ca(u.timestampValue),g=ca(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,Ha(s.bytesValue).isEqual(Ha(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,l){return Hr(u.geoPointValue.latitude)===Hr(l.geoPointValue.latitude)&&Hr(u.geoPointValue.longitude)===Hr(l.geoPointValue.longitude)}(s,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return Hr(u.integerValue)===Hr(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const h=Hr(u.doubleValue),g=Hr(l.doubleValue);return h===g?df(h)===df(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return Wc(s.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(u,l){const h=u.mapValue.fields||{},g=l.mapValue.fields||{};if($v(h)!==$v(g))return!1;for(const I in h)if(h.hasOwnProperty(I)&&(void 0===g[I]||!Os(h[I],g[I])))return!1;return!0}(s,e);default:return Nt()}var l}function _d(s,e){return void 0!==(s.values||[]).find(n=>Os(n,e))}function ju(s,e){if(s===e)return 0;const n=Wa(s),o=Wa(e);if(n!==o)return nn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(s.booleanValue,e.booleanValue);case 2:return function(l,h){const g=Hr(l.integerValue||l.doubleValue),I=Hr(h.integerValue||h.doubleValue);return g<I?-1:g>I?1:g===I?0:isNaN(g)?isNaN(I)?0:-1:1}(s,e);case 3:return FD(s.timestampValue,e.timestampValue);case 4:return FD(_m(s),_m(e));case 5:return Dv(s.stringValue,e.stringValue);case 6:return function(l,h){const g=Ha(l),I=Ha(h);return g.compareTo(I)}(s.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),I=h.split("/");for(let D=0;D<g.length&&D<I.length;D++){const P=nn(g[D],I[D]);if(0!==P)return P}return nn(g.length,I.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,h){const g=nn(Hr(l.latitude),Hr(h.latitude));return 0!==g?g:nn(Hr(l.longitude),Hr(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Kv(s.arrayValue,e.arrayValue);case 10:return function(l,h){var g,I,D,P;const Te=null===(g=(l.fields||{})[za])||void 0===g?void 0:g.arrayValue,We=null===(I=(h.fields||{})[za])||void 0===I?void 0:I.arrayValue,ut=nn((null===(D=Te?.values)||void 0===D?void 0:D.length)||0,(null===(P=We?.values)||void 0===P?void 0:P.length)||0);return 0!==ut?ut:Kv(Te,We)}(s.mapValue,e.mapValue);case 11:return function(l,h){if(l===tl_mapValue&&h===tl_mapValue)return 0;if(l===tl_mapValue)return 1;if(h===tl_mapValue)return-1;const g=l.fields||{},I=Object.keys(g),D=h.fields||{},P=Object.keys(D);I.sort(),P.sort();for(let L=0;L<I.length&&L<P.length;++L){const J=Dv(I[L],P[L]);if(0!==J)return J;const Te=ju(g[I[L]],D[P[L]]);if(0!==Te)return Te}return nn(I.length,P.length)}(s.mapValue,e.mapValue);default:throw Nt()}}function FD(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return nn(s,e);const n=ca(s),o=ca(e),u=nn(n.seconds,o.seconds);return 0!==u?u:nn(n.nanos,o.nanos)}function Kv(s,e){const n=s.values||[],o=e.values||[];for(let u=0;u<n.length&&u<o.length;++u){const l=ju(n[u],o[u]);if(l)return l}return nn(n.length,o.length)}function Ls(s){return ms(s)}function ms(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const o=ca(n);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ha(s.bytesValue).toBase64():"referenceValue"in s?Tt.fromName(s.referenceValue).toString():"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=ms(l);return o+"]"}(s.arrayValue):"mapValue"in s?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const h of o)l?l=!1:u+=",",u+=`${h}:${ms(n.fields[h])}`;return u+"}"}(s.mapValue):Nt()}function yf(s){switch(Wa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wv(s);return e?16+yf(e):16;case 5:return 2*s.stringValue.length;case 6:return Ha(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(s.arrayValue.values||[]).reduce((u,l)=>u+yf(l),0);case 10:case 11:return function(o){let u=0;return Bu(o.fields,(l,h)=>{u+=l.length+yf(h)}),u}(s.mapValue);default:throw Nt()}}function yd(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qv(s){return!!s&&"integerValue"in s}function vm(s){return!!s&&"arrayValue"in s}function bS(s){return!!s&&"nullValue"in s}function Xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vf(s){return!!s&&"mapValue"in s}function Zv(s){var e,n;return(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{})[LD])||void 0===n?void 0:n.stringValue)===qv}function If(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Bu(s.mapValue.fields,(n,o)=>e.mapValue.fields[n]=If(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=If(s.arrayValue.values[n]);return e}return Object.assign({},s)}function Yv(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(n)}setAll(e){let n=Pr.emptyPath(),o={},u=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const I=this.getFieldsMap(n);this.applyChanges(I,o,u),o={},u=[],n=g.popLast()}h?o[g.lastSegment()]=If(h):u.push(g.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];vf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Bu(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Yi(If(this.value))}}function eI(s){const e=[];return Bu(s.fields,(n,o)=>{const u=new Pr([n]);if(vf(o)){const l=eI(o.mapValue).fields;if(0===l.length)e.push(u);else for(const h of l)e.push(u.child(h))}else e.push(u)}),new ts(e)}class Or{constructor(e,n,o,u,l,h,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Or(e,0,Xt.min(),Xt.min(),Xt.min(),Yi.empty(),0)}static newFoundDocument(e,n,o,u){return new Or(e,1,n,Xt.min(),o,u,0)}static newNoDocument(e,n){return new Or(e,2,n,Xt.min(),Xt.min(),Yi.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,Xt.min(),Xt.min(),Yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $u{constructor(e,n){this.position=e,this.inclusive=n}}function BD(s,e,n){let o=0;for(let u=0;u<s.position.length;u++){const l=e[u],h=s.position[u];if(o=l.field.isKeyField()?Tt.comparator(Tt.fromName(h.referenceValue),n.key):ju(h,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function jD(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Os(s.position[n],e.position[n]))return!1;return!0}class vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function RS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class $D{}class Fn extends $D{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new HD(e,n,o):"array-contains"===n?new iI(e,o):"in"===n?new zD(e,o):"not-in"===n?new WD(e,o):"array-contains-any"===n?new Em(e,o):new Fn(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new PS(e,o):new MS(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ju(n,this.value)):null!==n&&Wa(this.value)===Wa(n)&&this.matchesComparison(ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends $D{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new St(e,n)}matches(e){return Hu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hu(s){return"and"===s.op}function Ef(s){return function Tf(s){for(const e of s.filters)if(e instanceof St)return!1;return!0}(s)&&Hu(s)}function Ga(s){if(s instanceof Fn)return s.field.canonicalString()+s.op.toString()+Ls(s.value);if(Ef(s))return s.filters.map(e=>Ga(e)).join(",");{const e=s.filters.map(n=>Ga(n)).join(",");return`${s.op}(${e})`}}function tI(s,e){return s instanceof Fn?(o=s,(u=e)instanceof Fn&&o.op===u.op&&o.field.isEqual(u.field)&&Os(o.value,u.value)):s instanceof St?function(o,u){return u instanceof St&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,h,g)=>l&&tI(h,u.filters[g]),!0)}(s,e):void Nt();var o,u}function Id(s){return s instanceof Fn?`${(n=s).field.canonicalString()} ${n.op} ${Ls(n.value)}`:s instanceof St?function(n){return n.op.toString()+" {"+n.getFilters().map(Id).join(" ,")+"}"}(s):"Filter";var n}class HD extends Fn{constructor(e,n,o){super(e,n,o),this.key=Tt.fromName(o.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class PS extends Fn{constructor(e,n){super(e,"in",n),this.keys=rI(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MS extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=rI(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rI(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Tt.fromName(o.referenceValue))}class iI extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vm(n)&&_d(n.arrayValue,this.value)}}class zD extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_d(this.value.arrayValue,n)}}class WD extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_d(this.value.arrayValue,n)}}class Em extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>_d(this.value.arrayValue,o))}}class NS{constructor(e,n=null,o=[],u=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=h,this.endAt=g,this.le=null}}function wf(s,e=null,n=[],o=[],u=null,l=null,h=null){return new NS(s,e,n,o,u,l,h)}function Fs(s){const e=vt(s);if(null===e.le){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Ga(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ls(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ls(o)).join(",")),e.le=n}return e.le}function rl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!RS(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!tI(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!jD(s.startAt,e.startAt)&&jD(s.endAt,e.endAt)}function Df(s){return Tt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class la{constructor(e,n=null,o=[],u=[],l=null,h="F",g=null,I=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=I,this.he=null,this.Pe=null,this.Te=null}}function zu(s){return new la(s)}function GD(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function oI(s){return null!==s.collectionGroup}function il(s){const e=vt(s);if(null===e.he){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new fr(Pr.comparator);return h.filters.forEach(I=>{I.getFlattenedFilters().forEach(D=>{D.isInequality()&&(g=g.add(D.field))})}),g})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new vd(l,o))}),n.has(Pr.keyField().canonicalString())||e.he.push(new vd(Pr.keyField(),o))}return e.he}function ho(s){const e=vt(s);return e.Pe||(e.Pe=function KD(s,e){if("F"===s.limitType)return wf(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>new vd(u.field,"desc"===u.dir?"asc":"desc"));const n=s.endAt?new $u(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new $u(s.startAt.position,s.startAt.inclusive):null;return wf(s.path,s.collectionGroup,e,s.filters,s.limit,n,o)}}(e,il(s))),e.Pe}function fo(s,e){const n=s.filters.concat([e]);return new la(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function wm(s,e,n){return new la(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ed(s,e){return rl(ho(s),ho(e))&&s.limitType===e.limitType}function kS(s){return`${Fs(ho(s))}|lt:${s.limitType}`}function Td(s){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>Id(u)).join(", ")}]`),lf(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(h=u).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>Ls(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>Ls(u)).join(",")),`Target(${o})`}(ho(s))}; limitType=${s.limitType})`}function Sf(s,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Tt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(s,e)&&function(o,u){for(const l of il(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(s,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(s,e)&&(u=e,!((o=s).startAt&&!function(h,g,I){const D=BD(h,g,I);return h.inclusive?D<=0:D<0}(o.startAt,il(o),u)||o.endAt&&!function(h,g,I){const D=BD(h,g,I);return h.inclusive?D>=0:D>0}(o.endAt,il(o),u)));var o,u}function Dm(s){return(e,n)=>{let o=!1;for(const u of il(s)){const l=da(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function da(s,e,n){const o=s.field.isKeyField()?Tt.comparator(e.key,n.key):function(l,h,g){const I=h.data.field(l),D=g.data.field(l);return null!==I&&null!==D?ju(I,D):Nt()}(s.field,e,n);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Nt()}}class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Hv(this.inner)}size(){return this.innerSize}}const xS=new Mr(Tt.comparator);function ns(){return xS}const sI=new Mr(Tt.comparator);function ol(...s){let e=sI;for(const n of s)e=e.insert(n.key,n);return e}function Am(s){let e=sI;return s.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ha(){return Wu()}function XD(){return Wu()}function Wu(){return new Vs(s=>s.toString(),(s,e)=>s.isEqual(e))}const OS=new Mr(Tt.comparator),wd=new fr(Tt.comparator);function dn(...s){let e=wd;for(const n of s)e=e.add(n);return e}const aI=new fr(nn);function uI(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function Pf(s){return{integerValue:""+s}}function qa(s,e){return function Sv(s){return"number"==typeof s&&Number.isInteger(s)&&!df(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?Pf(e):uI(s,e)}class Ka{constructor(){this._=void 0}}function ZD(s,e,n){return s instanceof Dd?function(u,l){const h={fields:{[kD]:{stringValue:ND},[OD]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&gd(l)&&(l=Wv(l)),l&&(h.fields[xD]=l),{mapValue:h}}(n,e):s instanceof Qa?Ad(s,e):s instanceof Xa?YD(s,e):function(u,l){const h=cI(u,l),g=Cm(h)+Cm(u.Ie);return Qv(h)&&Qv(u.Ie)?Pf(g):uI(u.serializer,g)}(s,e)}function LS(s,e,n){return s instanceof Qa?Ad(s,e):s instanceof Xa?YD(s,e):n}function cI(s,e){return s instanceof Cd?Qv(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class Dd extends Ka{}class Qa extends Ka{constructor(e){super(),this.elements=e}}function Ad(s,e){const n=lI(e);for(const o of s.elements)n.some(u=>Os(u,o))||n.push(o);return{arrayValue:{values:n}}}class Xa extends Ka{constructor(e){super(),this.elements=e}}function YD(s,e){let n=lI(e);for(const o of s.elements)n=n.filter(u=>!Os(u,o));return{arrayValue:{values:n}}}class Cd extends Ka{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Cm(s){return Hr(s.integerValue||s.doubleValue)}function lI(s){return vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class eA{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class sl{}function Gu(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new qu(s.key,Nr.none()):new Sd(s.key,s.data,Nr.none());{const n=s.data,o=Yi.empty();let u=new fr(Pr.comparator);for(let l of e.fields)if(!u.has(l)){let h=n.field(l);null===h&&l.length>1&&(l=l.popLast(),h=n.field(l)),null===h?o.delete(l):o.set(l,h),u=u.add(l)}return new fa(s.key,o,new ts(u.toArray()),Nr.none())}}function tA(s,e,n){s instanceof Sd?function(u,l,h){const g=u.value.clone(),I=rA(u.fieldTransforms,l,h.transformResults);g.setAll(I),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,n):s instanceof fa?function(u,l,h){if(!Mf(u.precondition,l))return void l.convertToUnknownDocument(h.version);const g=rA(u.fieldTransforms,l,h.transformResults),I=l.data;I.setAll(nA(u)),I.setAll(g),l.convertToFoundDocument(h.version,I).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function al(s,e,n,o){return s instanceof Sd?function(l,h,g,I){if(!Mf(l.precondition,h))return g;const D=l.value.clone(),P=ul(l.fieldTransforms,I,h);return D.setAll(P),h.convertToFoundDocument(h.version,D).setHasLocalMutations(),null}(s,e,n,o):s instanceof fa?function(l,h,g,I){if(!Mf(l.precondition,h))return g;const D=ul(l.fieldTransforms,I,h),P=h.data;return P.setAll(nA(l)),P.setAll(D),h.convertToFoundDocument(h.version,P).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(L=>L.field))}(s,e,n,o):(g=n,Mf(s.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function dI(s,e){let n=null;for(const o of s.fieldTransforms){const u=e.data.field(o.field),l=cI(o.transform,u||null);null!=l&&(null===n&&(n=Yi.empty()),n.set(o.field,l))}return n||null}function Nf(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=s.fieldTransforms)&&void 0===u||o&&u&&Wc(o,u,(l,h)=>function JD(s,e){return s.field.isEqual(e.field)&&(u=e.transform,(o=s.transform)instanceof Qa&&u instanceof Qa||o instanceof Xa&&u instanceof Xa?Wc(o.elements,u.elements,Os):o instanceof Cd&&u instanceof Cd?Os(o.Ie,u.Ie):o instanceof Dd&&u instanceof Dd);var o,u}(l,h))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var o,u}class Sd extends sl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class fa extends sl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function nA(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=s.data.field(n);e.set(n,o)}}),e}function rA(s,e,n){const o=new Map;Bt(s.length===n.length);for(let u=0;u<n.length;u++){const l=s[u],h=l.transform,g=e.data.field(l.field);o.set(l.field,LS(h,g,n[u]))}return o}function ul(s,e,n){const o=new Map;for(const u of s){const l=u.transform,h=n.data.field(u.field);o.set(u.field,ZD(l,h,e))}return o}class qu extends sl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bm extends sl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sm{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&tA(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=al(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=al(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=XD();return this.mutations.forEach(u=>{const l=e.get(u.key),h=l.overlayedDocument;let g=this.applyToLocalView(h,l.mutatedFields);g=n.has(u.key)?null:g;const I=Gu(h,g);null!==I&&o.set(u.key,I),h.isValidDocument()||h.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dn())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(n,o)=>Nf(n,o))&&Wc(this.baseMutations,e.baseMutations,(n,o)=>Nf(n,o))}}class hI{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Bt(e.mutations.length===o.length);let u=function(){return OS}();const l=e.mutations;for(let h=0;h<l.length;h++)u=u.insert(l[h].key,o[h].version);return new hI(e,n,o,u)}}class fI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class FS{constructor(e,n){this.count=e,this.unchangedNames=n}}var wi,zn;function gI(s){if(void 0===s)return mi("GRPC error has no .code"),Fe.UNKNOWN;switch(s){case wi.OK:return Fe.OK;case wi.CANCELLED:return Fe.CANCELLED;case wi.UNKNOWN:return Fe.UNKNOWN;case wi.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case wi.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case wi.INTERNAL:return Fe.INTERNAL;case wi.UNAVAILABLE:return Fe.UNAVAILABLE;case wi.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case wi.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case wi.NOT_FOUND:return Fe.NOT_FOUND;case wi.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case wi.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case wi.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case wi.ABORTED:return Fe.ABORTED;case wi.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case wi.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case wi.DATA_LOSS:return Fe.DATA_LOSS;default:return Nt()}}(zn=wi||(wi={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";const Pm=new jn([4294967295,4294967295],0);function oA(s){const e=Jg().encode(s),n=new jc;return n.update(e),new Uint8Array(n.digest())}function mI(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jn([n,o],0),new jn([u,l],0)]}class Mm{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Rd(`Invalid padding: ${n}`);if(o<0)throw new Rd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Rd(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Rd(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=jn.fromNumber(this.Ee)}Ae(e,n,o){let u=e.add(n.multiply(jn.fromNumber(o)));return 1===u.compare(Pm)&&(u=new jn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const n=oA(e),[o,u]=mI(n);for(let l=0;l<this.hashCount;l++){const h=this.Ae(o,u,l);if(!this.Re(h))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Mm(l,u,n);return o.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ee)return;const n=oA(e),[o,u]=mI(n);for(let l=0;l<this.hashCount;l++){const h=this.Ae(o,u,l);this.Ve(h)}}Ve(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new kf(Xt.min(),u,new Mr(nn),ns(),dn())}}class xf{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new xf(o,n,dn(),dn(),dn())}}class Of{constructor(e,n,o,u){this.me=e,this.removedTargetIds=n,this.key=o,this.fe=u}}class Nm{constructor(e,n){this.targetId=e,this.ge=n}}class _I{constructor(e,n,o=ni.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class sA{constructor(){this.pe=0,this.ye=yI(),this.we=ni.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=dn(),n=dn(),o=dn();return this.ye.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Nt()}}),new xf(this.we,this.Se,e,n,o)}Me(){this.be=!1,this.ye=yI()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Bt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Lf{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ns(),this.$e=Ff(),this.Ue=Ff(),this.Ke=new Mr(nn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const o=this.He(n);switch(e.state){case 0:this.Je(n)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(n);break;case 3:this.Je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),o.Ce(e.resumeToken));break;default:Nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((o,u)=>{this.Je(u)&&n(u)})}Ze(e){const n=e.targetId,o=e.ge.count,u=this.Xe(n);if(u){const l=u.target;if(Df(l))if(0===o){const h=new Tt(l.path);this.ze(n,h,Or.newNoDocument(h,Xt.min()))}else Bt(1===o);else{const h=this.et(n);if(h!==o){const g=this.tt(e),I=g?this.nt(g,e,h):1;0!==I&&(this.Ye(n),this.Ke=this.Ke.insert(n,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let h,g;try{h=Ha(o).toUint8Array()}catch(I){if(I instanceof pd)return ps("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw I}try{g=new Mm(h,u,l)}catch(I){return ps(I instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",I),null}return 0===g.Ee?null:g}nt(e,n,o){return n.ge.count===o-this.st(e,n.targetId)?0:2}st(e,n){const o=this.ke.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,l,null),u++)}),u}ot(e){const n=new Map;this.qe.forEach((l,h)=>{const g=this.Xe(h);if(g){if(l.current&&Df(g.target)){const I=new Tt(g.target.path);this._t(I).has(h)||this.ut(h,I)||this.ze(h,I,Or.newNoDocument(I,e))}l.ve&&(n.set(h,l.Fe()),l.Me())}});let o=dn();this.Ue.forEach((l,h)=>{let g=!0;h.forEachWhile(I=>{const D=this.Xe(I);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(o=o.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const u=new kf(e,n,this.Ke,this.Qe,o);return this.Qe=ns(),this.$e=Ff(),this.Ue=Ff(),this.Ke=new Mr(nn),u}Ge(e,n){if(!this.Je(e))return;const o=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,o),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,o){if(!this.Je(e))return;const u=this.He(e);this.ut(e,n)?u.xe(n,1):u.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),o&&(this.Qe=this.Qe.insert(n,o))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new sA,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new fr(nn),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new fr(nn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=null!==this.Xe(e);return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sA),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new Mr(Tt.comparator)}function yI(){return new Mr(Tt.comparator)}const Pd={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vf={and:"AND",or:"OR"};class VS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||lf(e)?e:{value:e}}function pa(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wN(s,e){return pa(s,e.toTimestamp())}function Lr(s){return Bt(!!s),Xt.fromTimestamp(function(n){const o=ca(n);return new jr(o.seconds,o.nanos)}(s))}function II(s,e){return EI(s,e).canonicalString()}function EI(s,e){const n=(u=s,new Ln(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?n:n.child(e)}function aA(s){const e=Ln.fromString(s);return Bt(pA(e)),e}function Ku(s,e){return II(s.databaseId,e.path)}function ys(s,e){const n=aA(e);if(n.get(1)!==s.databaseId.projectId)throw new at(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new at(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Tt(lA(n))}function uA(s,e){return II(s.databaseId,e)}function cA(s){return new Ln(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lA(s){return Bt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function dA(s,e,n){return{name:Ku(s,e),fields:n.value.mapValue.fields}}function xm(s,e){return{documents:[uA(s,e.path)]}}function Qu(s,e){const n={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=uA(s,u);const l=function(D){if(0!==D.length)return ll(St.create(D,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const h=function(D){if(0!==D.length)return D.map(P=>{return{field:Za((J=P).field),direction:fA(J.dir)};var J})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=km(s,e.limit);return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(n.structuredQuery.endAt=function(D){return{before:!D.inclusive,values:D.position}}(e.endAt)),{ht:n,parent:u};var D}function Bf(s){let e=function BS(s){const e=aA(s);return 4===e.length?Ln.emptyPath():lA(e)}(s.parent);const n=s.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Bt(1===o);const P=n.from[0];P.allDescendants?u=P.collectionId:e=e.child(P.collectionId)}let l=[];n.where&&(l=function(L){const J=Md(L);return J instanceof St&&Ef(J)?J.getFilters():[J]}(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(J=>{return new vd(cl((We=J).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let g=null;n.limit&&(g=function(L){let J;return J="object"==typeof L?L.value:L,lf(J)?null:J}(n.limit));let I=null;var L;n.startAt&&(I=new $u((L=n.startAt).values||[],!!L.before));let D=null;return n.endAt&&(D=function(L){return new $u(L.values||[],!L.before)}(n.endAt)),function bf(s,e,n,o,u,l,h,g){return new la(s,e,n,o,u,l,h,g)}(e,u,h,l,g,"F",I,D)}function Md(s){return void 0!==s.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=cl(n.unaryFilter.field);return Fn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=cl(n.unaryFilter.field);return Fn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(n.unaryFilter.field);return Fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=cl(n.unaryFilter.field);return Fn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(s):void 0!==s.fieldFilter?Fn.create(cl((n=s).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==s.compositeFilter?function(n){return St.create(n.compositeFilter.filters.map(o=>Md(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(s):Nt();var n}function fA(s){return Pd[s]}function zS(s){return vI[s]}function jf(s){return Vf[s]}function Za(s){return{fieldPath:s.canonicalString()}}function cl(s){return Pr.fromServerFormat(s.fieldPath)}function ll(s){return s instanceof Fn?function(n){if("=="===n.op){if(Xv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(bS(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Xv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(bS(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:zS(n.op),value:n.value}}}(s):s instanceof St?function(n){const o=n.getFilters().map(u=>ll(u));return 1===o.length?o[0]:{compositeFilter:{op:jf(n.op),filters:o}}}(s):Nt()}function wI(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pA(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class Ya{constructor(e,n,o,u,l=Xt.min(),h=Xt.min(),g=ni.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=I}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DI{constructor(e){this.Tt=e}}function Nd(s){const e=Bf({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?wm(e,e.limit,"L"):e}class pl{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(Hr(e.integerValue));else if("doubleValue"in e){const o=Hr(e.doubleValue);isNaN(o)?this.ft(n,13):(this.ft(n,15),df(o)?n.gt(0):n.gt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.ft(n,20),"string"==typeof o&&(o=ca(o)),n.yt(`${o.seconds||""}`),n.gt(o.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(Ha(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ft(n,45),n.gt(o.latitude||0),n.gt(o.longitude||0)}else"mapValue"in e?Yv(e)?this.ft(n,Number.MAX_SAFE_INTEGER):Zv(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):Nt()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){const o=e.fields||{};this.ft(n,55);for(const u of Object.keys(o))this.wt(u,n),this.Rt(o[u],n)}vt(e,n){var o,u;const l=e.fields||{};this.ft(n,53);const h=za,g=(null===(u=null===(o=l[h].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.ft(n,15),n.gt(Hr(g)),this.wt(h,n),this.Rt(l[h],n)}Ft(e,n){const o=e.values||[];this.ft(n,50);for(const u of o)this.Rt(u,n)}Dt(e,n){this.ft(n,37),Tt.fromName(e).path.forEach(o=>{this.ft(n,60),this.Mt(o,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}}pl.xt=new pl;class wA{constructor(){this.Tn=new Um}addToCollectionParentIndex(e,n){return this.Tn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Qi.min())}updateCollectionGroup(e,n,o){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class Um{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new fr(Ln.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new fr(Ln.comparator)).toArray()}}new Uint8Array(0);const AA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ml(0)}static Kn(){return new ml(-1)}}const xI="LruGarbageCollector";function OI([s,e],[n,o]){const u=nn(s,n);return 0===u?nn(e,o):u}class zm{constructor(e){this.Hn=e,this.buffer=new fr(OI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();OI(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qf{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){var n=this;Xe(xI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,U.A)(function*(){n.Xn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Qc(o)?Xe(xI,"Ignoring IndexedDB error during garbage collection: ",o):yield Kc(o)}yield n.er(3e5)}))}}class RA{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Re.resolve(es.ae);const o=new zm(n);return this.tr.forEachTarget(e,u=>o.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>o.Zn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.tr.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(AA)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AA):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let o,u,l,h,g,I,D;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),u=this.params.maximumSequenceNumbersToCollect):u=L,h=Date.now(),this.nthSequenceNumber(e,u))).next(L=>(o=L,g=Date.now(),this.removeTargets(e,o,n))).next(L=>(l=L,I=Date.now(),this.removeOrphanedDocuments(e,o))).next(L=>(D=Date.now(),Ti()<=z.$b.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-P}ms\n\tDetermined least recently used ${u} in `+(g-h)+`ms\n\tRemoved ${l} targets in `+(I-g)+`ms\n\tRemoved ${L} documents in `+(D-I)+`ms\nTotal Duration: ${D-P}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:l,documentsRemoved:L})))}}class MA{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Re.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kA{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&al(o.mutation,u,ts.empty(),jr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,dn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=dn()){const u=ha();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let h=ol();return l.forEach((g,I)=>{h=h.insert(g,I.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const o=ha();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,dn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,o,u){let l=ns();const h=Wu(),g=Wu();return n.forEach((I,D)=>{const P=o.get(D.key);u.has(D.key)&&(void 0===P||P.mutation instanceof fa)?l=l.insert(D.key,D):void 0!==P?(h.set(D.key,P.mutation.getFieldMask()),al(P.mutation,D,P.mutation.getFieldMask(),jr.now())):h.set(D.key,ts.empty())}),this.recalculateAndSaveOverlays(e,l).next(I=>(I.forEach((D,P)=>h.set(D,P)),n.forEach((D,P)=>{var L;return g.set(D,new eR(P,null!==(L=h.get(D))&&void 0!==L?L:null))}),g))}recalculateAndSaveOverlays(e,n){const o=Wu();let u=new Mr((h,g)=>h-g),l=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(I=>{const D=n.get(I);if(null===D)return;let P=o.get(I)||ts.empty();P=g.applyToLocalView(D,P),o.set(I,P);const L=(u.get(g.batchId)||dn()).add(I);u=u.insert(g.batchId,L)})}).next(()=>{const h=[],g=u.getReverseIterator();for(;g.hasNext();){const I=g.getNext(),D=I.key,P=I.value,L=XD();P.forEach(J=>{if(!l.has(J)){const Te=Gu(n.get(J),o.get(J));null!==Te&&L.set(J,Te),l=l.add(J)}}),h.push(this.documentOverlayCache.saveOverlays(e,D,L))}return Re.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return Tt.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var h}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const h=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Re.resolve(ha());let g=-1,I=l;return h.next(D=>Re.forEach(D,(P,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),l.get(P)?Re.resolve():this.remoteDocumentCache.getEntry(e,P).next(J=>{I=I.insert(P,J)}))).next(()=>this.populateOverlays(e,D,l)).next(()=>this.computeViews(e,I,D,dn())).next(P=>({batchId:g,changes:Am(P)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next(o=>{let u=ol();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let h=ol();return this.indexManager.getCollectionParents(e,l).next(g=>Re.forEach(g,I=>{const D=(L=n,J=I.child(l),new la(J,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,J;return this.getDocumentsMatchingCollectionQuery(e,D,o,u).next(P=>{P.forEach((L,J)=>{h=h.insert(L,J)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(h=>{l.forEach((I,D)=>{const P=D.getKey();null===h.get(P)&&(h=h.insert(P,Or.newInvalidDocument(P)))});let g=ol();return h.forEach((I,D)=>{const P=l.get(I);void 0!==P&&al(P.mutation,D,ts.empty(),jr.now()),Sf(n,D)&&(g=g.insert(I,D))}),g})}}class FI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,{id:(u=n).id,version:u.version,createTime:Lr(u.createTime)}),Re.resolve();var u}getNamedQuery(e,n){return Re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,{name:(u=n).name,query:Nd(u.bundledQuery),readTime:Lr(u.readTime)}),Re.resolve();var u}}class vl{constructor(){this.overlays=new Mr(Tt.comparator),this.Rr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ha();return Re.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.Et(e,n,l)}),Re.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.Rr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(o)),Re.resolve()}getOverlaysForCollection(e,n,o){const u=ha(),l=n.length+1,h=new Tt(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const I=g.getNext().value,D=I.getKey();if(!n.isPrefixOf(D.path))break;D.path.length===l&&I.largestBatchId>o&&u.set(I.getKey(),I)}return Re.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Mr((D,P)=>D-P);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===n&&D.largestBatchId>o){let P=l.get(D.largestBatchId);null===P&&(P=ha(),l=l.insert(D.largestBatchId,P)),P.set(D.getKey(),D)}}const g=ha(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((D,P)=>g.set(D,P)),!(g.size()>=u)););return Re.resolve(g)}Et(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const h=this.Rr.get(u.largestBatchId).delete(o.key);this.Rr.set(u.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new fI(n,o));let l=this.Rr.get(n);void 0===l&&(l=dn(),this.Rr.set(n,l)),this.Rr.set(n,l.add(o.key))}}class Gm{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}class qm{constructor(){this.Vr=new fr(ri.mr),this.gr=new fr(ri.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const o=new ri(e,n);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.wr(new ri(e,n))}Sr(e,n){e.forEach(o=>this.removeReference(o,n))}br(e){const n=new Tt(new Ln([])),o=new ri(n,e),u=new ri(n,e+1),l=[];return this.gr.forEachInRange([o,u],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Tt(new Ln([])),o=new ri(n,e),u=new ri(n,e+1);let l=dn();return this.gr.forEachInRange([o,u],h=>{l=l.add(h.key)}),l}containsKey(e){const n=new ri(e,0),o=this.Vr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ri{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Tt.comparator(e.key,n.key)||nn(e.Cr,n.Cr)}static pr(e,n){return nn(e.Cr,n.Cr)||Tt.comparator(e.key,n.key)}}class tR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new fr(ri.mr)}checkEmpty(e){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.Fr;this.Fr++;const h=new Sm(l,n,o,u);this.mutationQueue.push(h);for(const g of u)this.Mr=this.Mr.add(new ri(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Re.resolve(h)}lookupMutationBatch(e,n){return Re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Nr(n+1),l=u<0?0:u;return Re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ri(n,0),u=new ri(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([o,u],h=>{const g=this.Or(h.Cr);l.push(g)}),Re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new fr(nn);return n.forEach(u=>{const l=new ri(u,0),h=new ri(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],g=>{o=o.add(g.Cr)})}),Re.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Tt.isDocumentKey(l)||(l=l.child(""));const h=new ri(new Tt(l),0);let g=new fr(nn);return this.Mr.forEachWhile(I=>{const D=I.key.path;return!!o.isPrefixOf(D)&&(D.length===u&&(g=g.add(I.Cr)),!0)},h),Re.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(o=>{const u=this.Or(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Bt(0===this.Lr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Mr;return Re.forEach(n.mutations,u=>{const l=new ri(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,n){const o=new ri(n,0),u=this.Mr.firstAfterOrEqual(o);return Re.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nR{constructor(e){this.kr=e,this.docs=new Mr(Tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,h=this.kr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Re.resolve(o?o.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let o=ns();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Or.newInvalidDocument(u))}),Re.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=ns();const h=n.path,g=new Tt(h.child("__id-9223372036854775808__")),I=this.docs.getIteratorFrom(g);for(;I.hasNext();){const{key:D,value:{document:P}}=I.getNext();if(!h.isPrefixOf(D.path))break;D.path.length>h.length+1||nm(new Qi((s=P).readTime,s.key,-1),o)<=0||(u.has(P.key)||Sf(n,P))&&(l=l.insert(P.key,P.mutableCopy()))}var s;return Re.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Nt()}qr(e,n){return Re.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new AN(this)}getSize(e){return Re.resolve(this.size)}}class AN extends MA{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(o)}),Re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}class rR{constructor(e){this.persistence=e,this.Qr=new Vs(n=>Fs(n),rl),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qm,this.targetCount=0,this.Kr=ml.Un()}forEachTarget(e,n){return this.Qr.forEach((o,u)=>n(u)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$r&&(this.$r=n),Re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.zn(n),Re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=n&&null===o.get(g.targetId)&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Re.waitFor(l).next(()=>u)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const o=this.Qr.get(n)||null;return Re.resolve(o)}addMatchingKeys(e,n,o){return this.Ur.yr(n,o),Re.resolve()}removeMatchingKeys(e,n,o){this.Ur.Sr(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(h=>{l.push(u.markPotentiallyOrphaned(e,h))}),Re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ur.vr(n);return Re.resolve(o)}containsKey(e,n){return Re.resolve(this.Ur.containsKey(n))}}class ga{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new es(0),this.zr=!1,this.zr=!0,this.jr=new Gm,this.referenceDelegate=e(this),this.Hr=new rR(this),this.indexManager=new wA,this.remoteDocumentCache=new nR(o=>this.referenceDelegate.Jr(o)),this.serializer=new DI(n),this.Yr=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vl,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Wr[e.toKey()];return o||(o=new tR(n,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,o){Xe("MemoryPersistence","Starting transaction:",e);const u=new Zf(this.Gr.next());return this.referenceDelegate.Zr(),o(u).next(l=>this.referenceDelegate.Xr(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}ei(e,n){return Re.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,n)))}}class Zf extends gD{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.ti=new qm,this.ni=null}static ri(e){return new Ud(e)}get ii(){if(this.ni)return this.ni;throw Nt()}addReference(e,n,o){return this.ti.addReference(o,n),this.ii.delete(o.toString()),Re.resolve()}removeReference(e,n,o){return this.ti.removeReference(o,n),this.ii.add(o.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(u=>this.ii.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.ii.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.ii,o=>{const u=Tt.fromPath(o);return this.si(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(o=>{o?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Re.or([()=>Re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ja{constructor(e,n){this.persistence=e,this.oi=new Vs(o=>function lo(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=vD(e)),e=gS(s.get(n),e);return vD(e)}(o.path),(o,u)=>o.isEqual(u)),this.garbageCollector=function PA(s,e){return new RA(s,e)}(this,n)}static ri(e,n){return new Ja(e,n)}Zr(){}Xr(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}sr(e){let n=0;return this.rr(e,o=>{n++}).next(()=>n)}rr(e,n){return Re.forEach(this.oi,(o,u)=>this.ar(e,o,u).next(l=>l?Re.resolve():n(u)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const u=this.persistence.getRemoteDocumentCache(),l=u.newChangeBuffer();return u.qr(e,h=>this.ar(e,h,n).next(g=>{g||(o++,l.removeEntry(h,Xt.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yf(e.data.value)),n}ar(e,n,o){return Re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const u=this.oi.get(n);return Re.resolve(void 0!==u&&u>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hi=o,this.Ji=u}static Yi(e,n){let o=dn(),u=dn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Xm(e,n.fromCache,o,u)}}class OA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $I{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,ne.nr)()?8:function om(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,ne.ZQ)())>0?6:4}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.rs(e,n).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,n,u,o).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new OA;return this._s(e,n,h).next(g=>{if(l.result=g,this.Xi)return this.us(e,n,h,g.size)})}).next(()=>l.result)}us(e,n,o,u){return o.documentReadCount<this.es?(Ti()<=z.$b.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Re.resolve()):(Ti()<=z.$b.DEBUG&&Xe("QueryEngine","Query:",Td(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.ts*u?(Ti()<=z.$b.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ho(n))):Re.resolve())}rs(e,n){if(GD(n))return Re.resolve(null);let o=ho(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=wm(n,null,"F"),o=ho(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const h=dn(...l);return this.ns.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,o).next(I=>{const D=this.cs(n,g);return this.ls(n,D,h,I.readTime)?this.rs(e,wm(n,null,"F")):this.hs(e,D,n,I)}))})))}ss(e,n,o,u){return GD(n)||u.isEqual(Xt.min())?Re.resolve(null):this.ns.getDocuments(e,o).next(l=>{const h=this.cs(n,l);return this.ls(n,h,o,u)?Re.resolve(null):(Ti()<=z.$b.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Td(n)),this.hs(e,h,n,function fD(s,e){const n=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new jr(n+1,0):new jr(n,o));return new Qi(u,Tt.empty(),e)}(u,-1)).next(g=>g))})}cs(e,n){let o=new fr(Dm(e));return n.forEach((u,l)=>{Sf(e,l)&&(o=o.add(l))}),o}ls(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}_s(e,n,o){return Ti()<=z.$b.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Td(n)),this.ns.getDocumentsMatchingQuery(e,n,Qi.min(),o)}hs(e,n,o,u){return this.ns.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(h=>{l=l.insert(h.key,h)}),l))}}const HI="LocalStore";class oR{constructor(e,n,o,u){this.persistence=e,this.Ps=n,this.serializer=u,this.Ts=new Mr(nn),this.Is=new Vs(l=>Fs(l),rl),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function FA(s,e){return VA.apply(this,arguments)}function VA(){return(VA=(0,U.A)(function*(s,e){const n=vt(s);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.As(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const h=[],g=[];let I=dn();for(const D of u){h.push(D.batchId);for(const P of D.mutations)I=I.add(P.key)}for(const D of l){g.push(D.batchId);for(const P of D.mutations)I=I.add(P.key)}return n.localDocuments.getDocuments(o,I).next(D=>({Rs:D,removedBatchIds:h,addedBatchIds:g}))})})})).apply(this,arguments)}function zI(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function sR(s,e){const n=vt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Bd(s,e,n){return WI.apply(this,arguments)}function WI(){return(WI=(0,U.A)(function*(s,e,n){const o=vt(s),u=o.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,h=>o.persistence.referenceDelegate.removeTarget(h,u)))}catch(h){if(!Qc(h))throw h;Xe(HI,`Failed to update sequence numbers for target ${e}: ${h}`)}o.Ts=o.Ts.remove(e),o.Is.delete(u.target)})).apply(this,arguments)}function Zm(s,e,n){const o=vt(s);let u=Xt.min(),l=dn();return o.persistence.runTransaction("Execute query","readwrite",h=>function(I,D,P){const L=vt(I),J=L.Is.get(P);return void 0!==J?Re.resolve(L.Ts.get(J)):L.Hr.getTargetData(D,P)}(o,h,ho(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(h,g.targetId).next(I=>{l=I})}).next(()=>o.Ps.getDocumentsMatchingQuery(h,e,n?u:Xt.min(),n?l:dn())).next(g=>(function HA(s,e,n){let o=s.Es.get(e)||Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),s.Es.set(e,o)}(o,function QD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(e),g),{documents:g,gs:l})))}class ip{constructor(){this.activeTargetIds=function Rf(){return aI}()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this.ho=new ip,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,o){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ip,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YI{To(e){}shutdown(){}}const n_="ConnectivityMonitor";class WA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Xe(n_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Xe(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let r_=null;function JI(){return null===r_?r_=268435456+Math.round(2147483648*Math.random()):r_++,"0x"+r_.toString(16)}const eE="RestConnection",GA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tE{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${o}/databases/${u}`,this.wo=this.databaseId.database===ym?`project_id=${o}`:`project_id=${o}&database_id=${u}`}So(e,n,o,u,l){const h=JI(),g=this.bo(e,n.toUriEncodedString());Xe(eE,`Sending RPC '${e}' ${h}:`,g,o);const I={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(I,u,l),this.vo(e,g,I,o).then(D=>(Xe(eE,`Received RPC '${e}' ${h}: `,D),D),D=>{throw ps(eE,`RPC '${e}' ${h} failed with error: `,D,"url: ",g,"request:",o),D})}Co(e,n,o,u,l,h){return this.So(e,n,o,u,l)}Do(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}bo(e,n){return`${this.po}/v1/${n}:${GA[e]}`}terminate(){}}class nE{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Ji="WebChannelConnection";class qA extends tE{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,o,u){const l=JI();return new Promise((h,g)=>{const I=new rd;I.setWithCredentials(!0),I.listenOnce(aD.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Va.NO_ERROR:const P=I.getResponseJson();Xe(Ji,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(P)),h(P);break;case Va.TIMEOUT:Xe(Ji,`RPC '${e}' ${l} timed out`),g(new at(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case Va.HTTP_ERROR:const L=I.getStatus();if(Xe(Ji,`RPC '${e}' ${l} failed with status:`,L,"response text:",I.getResponseText()),L>0){let J=I.getResponseJson();Array.isArray(J)&&(J=J[0]);const Te=J?.error;if(Te&&Te.status&&Te.message){const We=function(nt){const Ut=nt.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(Ut)>=0?Ut:Fe.UNKNOWN}(Te.status);g(new at(We,Te.message))}else g(new at(Fe.UNKNOWN,"Server responded with status "+I.getStatus()))}else g(new at(Fe.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Xe(Ji,`RPC '${e}' ${l} completed.`)}});const D=JSON.stringify(u);Xe(Ji,`RPC '${e}' ${l} sending request:`,u),I.send(n,"POST",D,o,15)})}Wo(e,n,o){const u=JI(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Iv(),g=uD(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(I.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(I.useFetchStreams=!0),this.Do(I.initMessageHeaders,n,o),I.encodeInitMessageHeaders=!0;const P=l.join("");Xe(Ji,`Creating RPC '${e}' stream ${u}: ${P}`,I);const L=h.createWebChannel(P,I);let J=!1,Te=!1;const We=new nE({Fo:nt=>{Te?Xe(Ji,`Not sending because RPC '${e}' stream ${u} is closed:`,nt):(J||(Xe(Ji,`Opening RPC '${e}' stream ${u} transport.`),L.open(),J=!0),Xe(Ji,`RPC '${e}' stream ${u} sending:`,nt),L.send(nt))},Mo:()=>L.close()}),ut=(nt,Ut,qt)=>{nt.listen(Ut,Ot=>{try{qt(Ot)}catch(un){setTimeout(()=>{throw un},0)}})};return ut(L,tf.EventType.OPEN,()=>{Te||(Xe(Ji,`RPC '${e}' stream ${u} transport opened.`),We.Qo())}),ut(L,tf.EventType.CLOSE,()=>{Te||(Te=!0,Xe(Ji,`RPC '${e}' stream ${u} transport closed`),We.Uo())}),ut(L,tf.EventType.ERROR,nt=>{Te||(Te=!0,ps(Ji,`RPC '${e}' stream ${u} transport errored:`,nt),We.Uo(new at(Fe.UNAVAILABLE,"The operation could not be completed")))}),ut(L,tf.EventType.MESSAGE,nt=>{var Ut;if(!Te){const qt=nt.data[0];Bt(!!qt);const Ot=qt,un=Ot?.error||(null===(Ut=Ot[0])||void 0===Ut?void 0:Ut.error);if(un){Xe(Ji,`RPC '${e}' stream ${u} received error:`,un);const Vn=un.status;let _n=function(ce){const Ie=wi[ce];if(void 0!==Ie)return gI(Ie)}(Vn),ve=un.message;void 0===_n&&(_n=Fe.INTERNAL,ve="Unknown error status: "+Vn+" with message "+un.message),Te=!0,We.Uo(new at(_n,ve)),L.close()}else Xe(Ji,`RPC '${e}' stream ${u} received:`,qt),We.Ko(qt)}}),ut(g,$c.STAT_EVENT,nt=>{nt.stat===vv.PROXY?Xe(Ji,`RPC '${e}' stream ${u} detected buffering proxy`):nt.stat===vv.NOPROXY&&Xe(Ji,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{We.$o()},0),We}}function i_(){return typeof document<"u"?document:null}function $d(s){return new VS(s,!0)}class iE{constructor(e,n,o=1e3,u=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=o,this.zo=u,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),u=Math.max(0,n-o);u>0&&Xe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const o_="PersistentStream";class oE{constructor(e,n,o,u,l,h,g,I){this.Ti=e,this.n_=o,this.r_=u,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=I,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iE(e,n)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}stop(){var e=this;return(0,U.A)(function*(){e.u_()&&(yield e.close(0))})()}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){var e=this;return(0,U.A)(function*(){if(e.c_())return e.close(0)})()}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){var o=this;return(0,U.A)(function*(){o.E_(),o.d_(),o.a_.cancel(),o.i_++,4!==e?o.a_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),o.a_.Zo()):n&&n.code===Fe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.A_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Lo(n)})()}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.i_===n&&this.V_(o,u)},o=>{e(()=>{const u=new at(Fe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(u)})})}V_(e,n){const o=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{o(()=>this.m_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.__?this.g_(u):this.onNext(u))})}l_(){var e=this;this.state=5,this.a_.Xo((0,U.A)(function*(){e.state=0,e.start()}))}m_(e){return Xe(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Xe(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sE extends oE{constructor(e,n,o,u,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,h),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=function DN(s,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Nt(),u=e.targetChange.targetIds||[],l=function(D,P){return D.useProto3Json?(Bt(void 0===P||"string"==typeof P),ni.fromBase64String(P||"")):(Bt(void 0===P||P instanceof Buffer||P instanceof Uint8Array),ni.fromUint8Array(P||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(D){const P=void 0===D.code?Fe.UNKNOWN:gI(D.code);return new at(P,D.message||"")}(h);n=new _I(o,u,l,g||null)}else if("documentChange"in e){const o=e.documentChange,u=ys(s,o.document.name),l=Lr(o.document.updateTime),h=o.document.createTime?Lr(o.document.createTime):Xt.min(),g=new Yi({mapValue:{fields:o.document.fields}}),I=Or.newFoundDocument(u,l,h,g);n=new Of(o.targetIds||[],o.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const o=e.documentDelete,u=ys(s,o.document),l=o.readTime?Lr(o.readTime):Xt.min(),h=Or.newNoDocument(u,l);n=new Of([],o.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const o=e.documentRemove,u=ys(s,o.document);n=new Of([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Nt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,h=new FS(u,l);n=new Nm(o.targetId,h)}}var D;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Xt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Xt.min():h.readTime?Lr(h.readTime):Xt.min()}(e);return this.listener.p_(n,o)}y_(e){const n={};n.database=cA(this.serializer),n.addTarget=function(l,h){let g;const I=h.target;if(g=Df(I)?{documents:xm(l,I)}:{query:Qu(l,I).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=US(l,h.resumeToken);const D=km(l,h.expectedCount);null!==D&&(g.expectedCount=D)}else if(h.snapshotVersion.compareTo(Xt.min())>0){g.readTime=pa(l,h.snapshotVersion.toTimestamp());const D=km(l,h.expectedCount);null!==D&&(g.expectedCount=D)}return g}(this.serializer,e);const o=function hA(s,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.I_(n)}w_(e){const n={};n.database=cA(this.serializer),n.removeTarget=e,this.I_(n)}}class KA extends oE{constructor(e,n,o,u,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=function HS(s,e){return s&&s.length>0?(Bt(void 0!==e),s.map(n=>function(u,l){let h=Lr(u.updateTime?u.updateTime:l);return h.isEqual(Xt.min())&&(h=Lr(l)),new eA(h,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Lr(e.commitTime);return this.listener.v_(o,n)}C_(){const e={};e.database=cA(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Uf(s,e){let n;if(e instanceof Sd)n={update:dA(s,e.key,e.value)};else if(e instanceof qu)n={delete:Ku(s,e.key)};else if(e instanceof fa)n={update:dA(s,e.key,e.data),updateMask:wI(e.fieldMask)};else{if(!(e instanceof bm))return Nt();n={verify:Ku(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const g=h.transform;if(g instanceof Dd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Cd)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw Nt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:wN(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Nt()),n;var l}(this.serializer,o))};this.I_(n)}}class QA{}class XA extends QA{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new at(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,EI(n,o),u,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new at(Fe.UNKNOWN,l.toString())})}Co(e,n,o,u,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,EI(n,o),u,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(Fe.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mi(n),this.N_=!1):Xe("OnlineStateTracker",n)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const El="RemoteStore";class CN{constructor(e,n,o,u,l){var h=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(g=>{o.enqueueAndForget((0,U.A)(function*(){var I;Tl(h)&&(Xe(El,"Restarting streams for network reachability change."),yield(I=(0,U.A)(function*(P){const L=vt(P);L.W_.add(4),yield sp(L),L.j_.set("Unknown"),L.W_.delete(4),yield s_(L)}),function D(P){return I.apply(this,arguments)})(h))}))}),this.j_=new ZA(o,u)}}function s_(s){return YA.apply(this,arguments)}function YA(){return(YA=(0,U.A)(function*(s){if(Tl(s))for(const e of s.G_)yield e(!0)})).apply(this,arguments)}function sp(s){return JA.apply(this,arguments)}function JA(){return(JA=(0,U.A)(function*(s){for(const e of s.G_)yield e(!1)})).apply(this,arguments)}function aE(s,e){const n=vt(s);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),t0(n)?a_(n):rc(n).c_()&&e0(n,e))}function ap(s,e){const n=vt(s),o=rc(n);n.K_.delete(e),o.c_()&&uE(n,e),0===n.K_.size&&(o.c_()?o.P_():Tl(n)&&n.j_.set("Unknown"))}function e0(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rc(s).y_(e)}function uE(s,e){s.H_.Ne(e),rc(s).w_(e)}function a_(s){s.H_=new Lf({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),rc(s).start(),s.j_.B_()}function t0(s){return Tl(s)&&!rc(s).u_()&&s.K_.size>0}function Tl(s){return 0===vt(s).W_.size}function uR(s){s.H_=void 0}function bN(s){return n0.apply(this,arguments)}function n0(){return(n0=(0,U.A)(function*(s){s.j_.set("Online")})).apply(this,arguments)}function SN(s){return r0.apply(this,arguments)}function r0(){return(r0=(0,U.A)(function*(s){s.K_.forEach((e,n)=>{e0(s,e)})})).apply(this,arguments)}function RN(s,e){return o0.apply(this,arguments)}function o0(){return(o0=(0,U.A)(function*(s,e){uR(s),t0(s)?(s.j_.q_(e),a_(s)):s.j_.set("Unknown")})).apply(this,arguments)}function cR(s,e,n){return tc.apply(this,arguments)}function tc(){return tc=(0,U.A)(function*(s,e,n){if(s.j_.set("Online"),e instanceof _I&&2===e.state&&e.cause)try{yield(o=(0,U.A)(function*(l,h){const g=h.cause;for(const I of h.targetIds)l.K_.has(I)&&(yield l.remoteSyncer.rejectListen(I,g),l.K_.delete(I),l.H_.removeTarget(I))}),function u(l,h){return o.apply(this,arguments)})(s,e)}catch(o){Xe(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield nc(s,o)}else if(e instanceof Of?s.H_.We(e):e instanceof Nm?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Xt.min()))try{const o=yield zI(s.localStore);n.compareTo(o)>=0&&(yield function(l,h){const g=l.H_.ot(h);return g.targetChanges.forEach((I,D)=>{if(I.resumeToken.approximateByteSize()>0){const P=l.K_.get(D);P&&l.K_.set(D,P.withResumeToken(I.resumeToken,h))}}),g.targetMismatches.forEach((I,D)=>{const P=l.K_.get(I);if(!P)return;l.K_.set(I,P.withResumeToken(ni.EMPTY_BYTE_STRING,P.snapshotVersion)),uE(l,I);const L=new Ya(P.target,I,D,P.sequenceNumber);e0(l,L)}),l.remoteSyncer.applyRemoteEvent(g)}(s,n))}catch(o){Xe(El,"Failed to raise snapshot:",o),yield nc(s,o)}var o}),tc.apply(this,arguments)}function nc(s,e,n){return cE.apply(this,arguments)}function cE(){return(cE=(0,U.A)(function*(s,e,n){if(!Qc(e))throw e;s.W_.add(1),yield sp(s),s.j_.set("Offline"),n||(n=()=>zI(s.localStore)),s.asyncQueue.enqueueRetryable((0,U.A)(function*(){Xe(El,"Retrying IndexedDB access"),yield n(),s.W_.delete(1),yield s_(s)}))})).apply(this,arguments)}function lR(s,e){return e().catch(n=>nc(s,n,e))}function wl(s){return lE.apply(this,arguments)}function lE(){return(lE=(0,U.A)(function*(s){const e=vt(s),n=ic(e);let o=e.U_.length>0?e.U_[e.U_.length-1].batchId:-1;for(;PN(e);)try{const u=yield sR(e.localStore,o);if(null===u){0===e.U_.length&&n.P_();break}o=u.batchId,dR(e,u)}catch(u){yield nc(e,u)}s0(e)&&a0(e)})).apply(this,arguments)}function PN(s){return Tl(s)&&s.U_.length<10}function dR(s,e){s.U_.push(e);const n=ic(s);n.c_()&&n.S_&&n.b_(e.mutations)}function s0(s){return Tl(s)&&!ic(s).u_()&&s.U_.length>0}function a0(s){ic(s).start()}function dE(s){return u_.apply(this,arguments)}function u_(){return(u_=(0,U.A)(function*(s){ic(s).C_()})).apply(this,arguments)}function hR(s){return c_.apply(this,arguments)}function c_(){return(c_=(0,U.A)(function*(s){const e=ic(s);for(const n of s.U_)e.b_(n.mutations)})).apply(this,arguments)}function u0(s,e,n){return c0.apply(this,arguments)}function c0(){return(c0=(0,U.A)(function*(s,e,n){const o=s.U_.shift(),u=hI.from(o,e,n);yield lR(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield wl(s)})).apply(this,arguments)}function fR(s,e){return tu.apply(this,arguments)}function tu(){return tu=(0,U.A)(function*(s,e){var n;e&&ic(s).S_&&(yield(n=(0,U.A)(function*(u,l){if(function pI(s){switch(s){case Fe.OK:return Nt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return Nt()}}(g=l.code)&&g!==Fe.ABORTED){const h=u.U_.shift();ic(u).h_(),yield lR(u,()=>u.remoteSyncer.rejectFailedWrite(h.batchId,l)),yield wl(u)}var g}),function o(u,l){return n.apply(this,arguments)})(s,e)),s0(s)&&a0(s)}),tu.apply(this,arguments)}function hE(s,e){return fE.apply(this,arguments)}function fE(){return(fE=(0,U.A)(function*(s,e){const n=vt(s);n.asyncQueue.verifyOperationInProgress(),Xe(El,"RemoteStore received new credentials");const o=Tl(n);n.W_.add(3),yield sp(n),o&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield s_(n)})).apply(this,arguments)}function up(){return(up=(0,U.A)(function*(s,e){const n=vt(s);e?(n.W_.delete(2),yield s_(n)):e||(n.W_.add(2),yield sp(n),n.j_.set("Unknown"))})).apply(this,arguments)}function rc(s){return s.J_||(s.J_=function(n,o,u){const l=vt(n);return l.M_(),new sE(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(s.datastore,s.asyncQueue,{xo:bN.bind(null,s),No:SN.bind(null,s),Lo:RN.bind(null,s),p_:cR.bind(null,s)}),s.G_.push(function(){var e=(0,U.A)(function*(n){n?(s.J_.h_(),t0(s)?a_(s):s.j_.set("Unknown")):(yield s.J_.stop(),uR(s))});return function(n){return e.apply(this,arguments)}}())),s.J_}function ic(s){return s.Y_||(s.Y_=function(n,o,u){const l=vt(n);return l.M_(),new KA(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:dE.bind(null,s),Lo:fR.bind(null,s),D_:hR.bind(null,s),v_:u0.bind(null,s)}),s.G_.push(function(){var e=(0,U.A)(function*(n){n?(s.Y_.h_(),yield wl(s)):(yield s.Y_.stop(),s.U_.length>0&&(Xe(El,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))});return function(n){return e.apply(this,arguments)}}())),s.Y_}class l_{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const h=Date.now()+o,g=new l_(e,n,h,u,l);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oc(s,e){if(mi("AsyncQueue",`${e}: ${s}`),Qc(s))return new at(Fe.UNAVAILABLE,`${e}: ${s}`);throw s}class Hd{static emptySet(e){return new Hd(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||Tt.comparator(n.key,o.key):(n,o)=>Tt.comparator(n.key,o.key),this.keyedMap=ol(),this.sortedSet=new Mr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Hd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class pE{constructor(){this.Z_=new Mr(Tt.comparator)}track(e){const n=e.doc.key,o=this.Z_.get(n);o?0!==e.type&&3===o.type?this.Z_=this.Z_.insert(n,e):3===e.type&&1!==o.type?this.Z_=this.Z_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Z_=this.Z_.remove(n):1===e.type&&2===o.type?this.Z_=this.Z_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Nt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class zd{constructor(e,n,o,u,l,h,g,I,D){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=I,this.hasCachedResults=D}static fromInitialDocuments(e,n,o,u,l){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new zd(e,n,Hd.emptySet(n),h,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class pR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gE{constructor(){this.queries=d0(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(n,o){const u=vt(n),l=u.queries;u.queries=d0(),l.forEach((h,g)=>{for(const I of g.ta)I.onError(o)})}(this,new at(Fe.ABORTED,"Firestore shutting down"))}}function d0(){return new Vs(s=>kS(s),Ed)}function mE(s,e){return d_.apply(this,arguments)}function d_(){return(d_=(0,U.A)(function*(s,e){const n=vt(s);let o=3;const u=e.query;let l=n.queries.get(u);l?!l.na()&&e.ra()&&(o=2):(l=new pR,o=e.ra()?0:1);try{switch(o){case 0:l.ea=yield n.onListen(u,!0);break;case 1:l.ea=yield n.onListen(u,!1);break;case 2:yield n.onFirstRemoteStoreListen(u)}}catch(h){const g=oc(h,`Initialization of query '${Td(e.query)}' failed`);return void e.onError(g)}n.queries.set(u,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&_E(n)})).apply(this,arguments)}function h_(s,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,U.A)(function*(s,e){const n=vt(s),o=e.query;let u=3;const l=n.queries.get(o);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),0===l.ta.length?u=e.ra()?0:1:!l.na()&&e.ra()&&(u=2))}switch(u){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function h0(s,e){const n=vt(s);let o=!1;for(const u of e){const h=n.queries.get(u.query);if(h){for(const g of h.ta)g.oa(u)&&(o=!0);h.ea=u}}o&&_E(n)}function p_(s,e,n){const o=vt(s),u=o.queries.get(e);if(u)for(const l of u.ta)l.onError(n);o.queries.delete(e)}function _E(s){s.ia.forEach(e=>{e.next()})}var yE,vE;(vE=yE||(yE={}))._a="default",vE.Cache="cache";class cp{constructor(e,n,o){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new zd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){return!e.fromCache||!this.ra()||(!this.options.Ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}la(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Pa(e){e=zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yE.Cache}}class g0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class _0{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=dn(),this.mutatedKeys=dn(),this.ya=Dm(e),this.wa=new Hd(this.ya)}get Sa(){return this.fa}ba(e,n){const o=n?n.Da:new pE,u=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,h=u,g=!1;const I="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,D="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((P,L)=>{const J=u.get(P),Te=Sf(this.query,L)?L:null,We=!!J&&this.mutatedKeys.has(J.key),ut=!!Te&&(Te.hasLocalMutations||this.mutatedKeys.has(Te.key)&&Te.hasCommittedMutations);let nt=!1;J&&Te?J.data.isEqual(Te.data)?We!==ut&&(o.track({type:3,doc:Te}),nt=!0):this.va(J,Te)||(o.track({type:2,doc:Te}),nt=!0,(I&&this.ya(Te,I)>0||D&&this.ya(Te,D)<0)&&(g=!0)):!J&&Te?(o.track({type:0,doc:Te}),nt=!0):J&&!Te&&(o.track({type:1,doc:J}),nt=!0,(I||D)&&(g=!0)),nt&&(Te?(h=h.add(Te),l=ut?l.add(P):l.delete(P)):(h=h.delete(P),l=l.delete(P)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const P="F"===this.query.limitType?h.last():h.first();h=h.delete(P.key),l=l.delete(P.key),o.track({type:1,doc:P})}return{wa:h,Da:o,ls:g,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,u){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((P,L)=>function(Te,We){const ut=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return ut(Te)-ut(We)}(P.type,L.type)||this.ya(P.doc,L.doc)),this.Ca(o),u=null!=u&&u;const g=n&&!u?this.Fa():[],I=0===this.pa.size&&this.current&&!u?1:0,D=I!==this.ga;return this.ga=I,0!==h.length||D?{snapshot:new zd(this.query,e.wa,l,h,e.mutatedKeys,0===I,D,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=dn(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const n=[];return e.forEach(o=>{this.pa.has(o)||n.push(new m0(o))}),this.pa.forEach(o=>{e.has(o)||n.push(new g0(o))}),n}Oa(e){this.fa=e.gs,this.pa=dn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return zd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const sc="SyncEngine";class mR{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class _R{constructor(e){this.key=e,this.Ba=!1}}class y0{constructor(e,n,o,u,l,h){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Vs(g=>kS(g),Ed),this.qa=new Map,this.Qa=new Set,this.$a=new Mr(Tt.comparator),this.Ua=new Map,this.Ka=new qm,this.Wa={},this.Ga=new Map,this.za=ml.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}function v0(s,e){return lp.apply(this,arguments)}function lp(){return(lp=(0,U.A)(function*(s,e,n=!0){const o=hc(s);let u;const l=o.ka.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),u=l.view.Na()):u=yield yR(o,e,n,!0),u})).apply(this,arguments)}function I0(s,e){return EE.apply(this,arguments)}function EE(){return(EE=(0,U.A)(function*(s,e){const n=hc(s);yield yR(n,e,!0,!1)})).apply(this,arguments)}function yR(s,e,n,o){return g_.apply(this,arguments)}function g_(){return(g_=(0,U.A)(function*(s,e,n,o){const u=yield function ep(s,e){const n=vt(s);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Hr.getTargetData(o,e).next(l=>l?(u=l,Re.resolve(u)):n.Hr.allocateTargetId(o).next(h=>(u=new Ya(e,h,"TargetPurposeListen",o.currentSequenceNumber),n.Hr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(o.targetId,o),n.Is.set(e,o.targetId)),o})}(s.localStore,ho(e)),l=u.targetId,h=s.sharedClientState.addLocalQueryTarget(l,n);let g;return o&&(g=yield function Wd(s,e,n,o,u){return TE.apply(this,arguments)}(s,e,l,"current"===h,u.resumeToken)),s.isPrimaryClient&&n&&aE(s.remoteStore,u),g})).apply(this,arguments)}function TE(){return TE=(0,U.A)(function*(s,e,n,o,u){s.Ha=(L,J,Te)=>{return(We=(0,U.A)(function*(nt,Ut,qt,Ot){let un=Ut.view.ba(qt);un.ls&&(un=yield Zm(nt.localStore,Ut.query,!1).then(({documents:re})=>Ut.view.ba(re,un)));const Vn=Ot&&Ot.targetChanges.get(Ut.targetId),_n=Ot&&null!=Ot.targetMismatches.get(Ut.targetId),ve=Ut.view.applyChanges(un,nt.isPrimaryClient,Vn,_n);return __(nt,Ut.targetId,ve.Ma),ve.snapshot}),function ut(nt,Ut,qt,Ot){return We.apply(this,arguments)})(s,L,J,Te);var We};const l=yield Zm(s.localStore,e,!0),h=new _0(e,l.gs),g=h.ba(l.documents),I=xf.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==s.onlineState,u),D=h.applyChanges(g,s.isPrimaryClient,I);__(s,n,D.Ma);const P=new mR(e,n,h);return s.ka.set(e,P),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),D.snapshot}),TE.apply(this,arguments)}function vR(s,e,n){return dp.apply(this,arguments)}function dp(){return(dp=(0,U.A)(function*(s,e,n){const o=vt(s),u=o.ka.get(e),l=o.qa.get(u.targetId);if(l.length>1)return o.qa.set(u.targetId,l.filter(h=>!Ed(h,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Bd(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),n&&ap(o.remoteStore,u.targetId),Kd(o,u.targetId)}).catch(Kc))):(Kd(o,u.targetId),yield Bd(o.localStore,u.targetId,!0))})).apply(this,arguments)}function IR(s,e){return Is.apply(this,arguments)}function Is(){return(Is=(0,U.A)(function*(s,e){const n=vt(s),o=n.ka.get(e),u=n.qa.get(o.targetId);n.isPrimaryClient&&1===u.length&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),ap(n.remoteStore,o.targetId))})).apply(this,arguments)}function zr(){return(zr=(0,U.A)(function*(s,e,n){const o=function ME(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E0.bind(null,e),e}(s);try{const u=yield function(h,g){const I=vt(h),D=jr.now(),P=g.reduce((Te,We)=>Te.add(We.key),dn());let L,J;return I.persistence.runTransaction("Locally write mutations","readwrite",Te=>{let We=ns(),ut=dn();return I.ds.getEntries(Te,P).next(nt=>{We=nt,We.forEach((Ut,qt)=>{qt.isValidDocument()||(ut=ut.add(Ut))})}).next(()=>I.localDocuments.getOverlayedDocuments(Te,We)).next(nt=>{L=nt;const Ut=[];for(const qt of g){const Ot=dI(qt,L.get(qt.key).overlayedDocument);null!=Ot&&Ut.push(new fa(qt.key,Ot,eI(Ot.value.mapValue),Nr.exists(!0)))}return I.mutationQueue.addMutationBatch(Te,D,Ut,g)}).next(nt=>{J=nt;const Ut=nt.applyToLocalDocumentSet(L,ut);return I.documentOverlayCache.saveOverlays(Te,nt.batchId,Ut)})}).then(()=>({batchId:J.batchId,changes:Am(L)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,g,I){let D=h.Wa[h.currentUser.toKey()];D||(D=new Mr(nn)),D=D.insert(g,I),h.Wa[h.currentUser.toKey()]=D}(o,u.batchId,n),yield uc(o,u.changes),yield wl(o.remoteStore)}catch(u){const l=oc(u,"Failed to persist write");n.reject(l)}})).apply(this,arguments)}function ac(s,e){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,U.A)(function*(s,e){const n=vt(s);try{const o=yield function BA(s,e){const n=vt(s),o=e.snapshotVersion;let u=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});u=n.Ts;const g=[];e.targetChanges.forEach((P,L)=>{const J=u.get(L);if(!J)return;g.push(n.Hr.removeMatchingKeys(l,P.removedDocuments,L).next(()=>n.Hr.addMatchingKeys(l,P.addedDocuments,L)));let Te=J.withSequenceNumber(l.currentSequenceNumber);var ut,nt,Ut;null!==e.targetMismatches.get(L)?Te=Te.withResumeToken(ni.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):P.resumeToken.approximateByteSize()>0&&(Te=Te.withResumeToken(P.resumeToken,o)),u=u.insert(L,Te),nt=Te,Ut=P,(0===(ut=J).resumeToken.approximateByteSize()||nt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=3e8||Ut.addedDocuments.size+Ut.modifiedDocuments.size+Ut.removedDocuments.size>0)&&g.push(n.Hr.updateTargetData(l,Te))});let I=ns(),D=dn();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(l,P))}),g.push(function jA(s,e,n){let o=dn(),u=dn();return n.forEach(l=>o=o.add(l)),e.getEntries(s,o).next(l=>{let h=ns();return n.forEach((g,I)=>{const D=l.get(g);I.isFoundDocument()!==D.isFoundDocument()&&(u=u.add(g)),I.isNoDocument()&&I.version.isEqual(Xt.min())?(e.removeEntry(g,I.readTime),h=h.insert(g,I)):!D.isValidDocument()||I.version.compareTo(D.version)>0||0===I.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(I),h=h.insert(g,I)):Xe(HI,"Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",I.version)}),{Vs:h,fs:u}})}(l,h,e.documentUpdates).next(P=>{I=P.Vs,D=P.fs})),!o.isEqual(Xt.min())){const P=n.Hr.getLastRemoteSnapshotVersion(l).next(L=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,o));g.push(P)}return Re.waitFor(g).next(()=>h.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,I,D)).next(()=>I)}).then(l=>(n.Ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const h=n.Ua.get(l);h&&(Bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?h.Ba=!0:u.modifiedDocuments.size>0?Bt(h.Ba):u.removedDocuments.size>0&&(Bt(h.Ba),h.Ba=!1))}),yield uc(n,o,e)}catch(o){yield Kc(o)}})).apply(this,arguments)}function rs(s,e,n){const o=vt(s);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ka.forEach((l,h)=>{const g=h.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(h,g){const I=vt(h);I.onlineState=g;let D=!1;I.queries.forEach((P,L)=>{for(const J of L.ta)J.sa(g)&&(D=!0)}),D&&_E(I)}(o.eventManager,e),u.length&&o.La.p_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ER(s,e,n){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,U.A)(function*(s,e,n){const o=vt(s);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.Ua.get(e),l=u&&u.key;if(l){let h=new Mr(Tt.comparator);h=h.insert(l,Or.newNoDocument(l,Xt.min()));const g=dn().add(l),I=new kf(Xt.min(),new Map,new Mr(nn),h,g);yield ac(o,I),o.$a=o.$a.remove(l),o.Ua.delete(e),bE(o)}else yield Bd(o.localStore,e,!1).then(()=>Kd(o,e,n)).catch(Kc)})).apply(this,arguments)}function wE(s,e){return m_.apply(this,arguments)}function m_(){return(m_=(0,U.A)(function*(s,e){const n=vt(s),o=e.batch.batchId;try{const u=yield function UA(s,e){const n=vt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,I,D,P){const L=D.batch,J=L.keys();let Te=Re.resolve();return J.forEach(We=>{Te=Te.next(()=>P.getEntry(I,We)).next(ut=>{const nt=D.docVersions.get(We);Bt(null!==nt),ut.version.compareTo(nt)<0&&(L.applyToRemoteDocument(ut,D),ut.isValidDocument()&&(ut.setReadTime(D.commitVersion),P.addEntry(ut)))})}),Te.next(()=>g.mutationQueue.removeMutationBatch(I,L))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let I=dn();for(let D=0;D<g.mutationResults.length;++D)g.mutationResults[D].transformResults.length>0&&(I=I.add(g.batch.mutations[D].key));return I}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);CE(n,o,null),AE(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield uc(n,u)}catch(u){yield Kc(u)}})).apply(this,arguments)}function E0(s,e,n){return DE.apply(this,arguments)}function DE(){return(DE=(0,U.A)(function*(s,e,n){const o=vt(s);try{const u=yield function(h,g){const I=vt(h);return I.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let P;return I.mutationQueue.lookupMutationBatch(D,g).next(L=>(Bt(null!==L),P=L.keys(),I.mutationQueue.removeMutationBatch(D,L))).next(()=>I.mutationQueue.performConsistencyCheck(D)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(D,P,g)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(D,P)).next(()=>I.localDocuments.getDocuments(D,P))})}(o.localStore,e);CE(o,e,n),AE(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield uc(o,u)}catch(u){yield Kc(u)}})).apply(this,arguments)}function AE(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function CE(s,e,n){const o=vt(s);let u=o.Wa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Wa[o.currentUser.toKey()]=u}}function Kd(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.qa.get(e))s.ka.delete(o),n&&s.La.Ja(o,n);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(o=>{s.Ka.containsKey(o)||fp(s,o)})}function fp(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);null!==n&&(ap(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ua.delete(n),bE(s))}function __(s,e,n){for(const o of n)o instanceof g0?(s.Ka.addReference(o.key,e),wR(s,o)):o instanceof m0?(Xe(sc,"Document no longer in limbo: "+o.key),s.Ka.removeReference(o.key,e),s.Ka.containsKey(o.key)||fp(s,o.key)):Nt()}function wR(s,e){const n=e.key,o=n.path.canonicalString();s.$a.get(n)||s.Qa.has(o)||(Xe(sc,"New document in limbo: "+n),s.Qa.add(o),bE(s))}function bE(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new Tt(Ln.fromString(e)),o=s.za.next();s.Ua.set(o,new _R(n)),s.$a=s.$a.insert(n,o),aE(s.remoteStore,new Ya(ho(zu(n.path)),o,"TargetPurposeLimboResolution",es.ae))}}function uc(s,e,n){return SE.apply(this,arguments)}function SE(){return SE=(0,U.A)(function*(s,e,n){const o=vt(s),u=[],l=[],h=[];var g;o.ka.isEmpty()||(o.ka.forEach((g,I)=>{h.push(o.Ha(I,e,n).then(D=>{var P;if((D||n)&&o.isPrimaryClient){const L=D?!D.fromCache:null===(P=n?.targetChanges.get(I.targetId))||void 0===P?void 0:P.current;o.sharedClientState.updateQueryState(I.targetId,L?"current":"not-current")}if(D){u.push(D);const L=Xm.Yi(I.targetId,D);l.push(L)}}))}),yield Promise.all(h),o.La.p_(u),yield(g=(0,U.A)(function*(D,P){const L=vt(D);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>Re.forEach(P,Te=>Re.forEach(Te.Hi,We=>L.persistence.referenceDelegate.addReference(J,Te.targetId,We)).next(()=>Re.forEach(Te.Ji,We=>L.persistence.referenceDelegate.removeReference(J,Te.targetId,We)))))}catch(J){if(!Qc(J))throw J;Xe(HI,"Failed to update sequence numbers: "+J)}for(const J of P){const Te=J.targetId;if(!J.fromCache){const We=L.Ts.get(Te),nt=We.withLastLimboFreeSnapshotVersion(We.snapshotVersion);L.Ts=L.Ts.insert(Te,nt)}}}),function I(D,P){return g.apply(this,arguments)})(o.localStore,l))}),SE.apply(this,arguments)}function RE(s,e){return PE.apply(this,arguments)}function PE(){return(PE=(0,U.A)(function*(s,e){const n=vt(s);if(!n.currentUser.isEqual(e)){Xe(sc,"User change. New user:",e.toKey());const o=yield FA(n.localStore,e);n.currentUser=e,(l=n).Ga.forEach(g=>{g.forEach(I=>{I.reject(new at(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ga.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield uc(n,o.Rs)}var l})).apply(this,arguments)}function cc(s,e){const n=vt(s),o=n.Ua.get(e);if(o&&o.Ba)return dn().add(o.key);{let u=dn();const l=n.qa.get(e);if(!l)return u;for(const h of l){const g=n.ka.get(h);u=u.unionWith(g.view.Sa)}return u}}function hc(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ac.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ER.bind(null,e),e.La.p_=h0.bind(null,e.eventManager),e.La.Ja=p_.bind(null,e.eventManager),e}let I_=(()=>{class s{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var o=this;return(0,U.A)(function*(){o.serializer=$d(n.databaseInfo.databaseId),o.sharedClientState=o.Za(n),o.persistence=o.Xa(n),yield o.persistence.start(),o.localStore=o.eu(n),o.gcScheduler=o.tu(n,o.localStore),o.indexBackfillerScheduler=o.nu(n,o.localStore)})()}tu(n,o){return null}nu(n,o){return null}eu(n){return function LA(s,e,n,o){return new oR(s,e,n,o)}(this.persistence,new $I,n.initialUser,this.serializer)}Xa(n){return new ga(Ud.ri,this.serializer)}Za(n){return new ZI}terminate(){var n=this;return(0,U.A)(function*(){var o,u;null===(o=n.gcScheduler)||void 0===o||o.stop(),null===(u=n.indexBackfillerScheduler)||void 0===u||u.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return s.provider={build:()=>new s},s})();class NE extends I_{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){return Bt(this.persistence.referenceDelegate instanceof Ja),new Qf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Xa(e){const n=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new ga(o=>Ja.ri(o,n),this.serializer)}}let Xd=(()=>{class s{initialize(n,o){var u=this;return(0,U.A)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=l=>rs(u.syncEngine,l,1),u.remoteStore.remoteSyncer.handleCredentialChange=RE.bind(null,u.syncEngine),yield function l0(s,e){return up.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new gE}createDatastore(n){const o=$d(n.databaseInfo.databaseId),u=new qA(n.databaseInfo);return new XA(n.authCredentials,n.appCheckCredentials,u,o)}createRemoteStore(n){return u=this.localStore,l=this.datastore,h=n.asyncQueue,g=o=>rs(this.syncEngine,o,0),I=WA.D()?new WA:new YI,new CN(u,l,h,g,I);var u,l,h,g,I}createSyncEngine(n,o){return function(l,h,g,I,D,P,L){const J=new y0(l,h,g,I,D,P);return L&&(J.ja=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){var n=this;return(0,U.A)(function*(){var o,u,l;yield(l=(0,U.A)(function*(g){const I=vt(g);Xe(El,"RemoteStore shutting down."),I.W_.add(5),yield sp(I),I.z_.shutdown(),I.j_.set("Unknown")}),function h(g){return l.apply(this,arguments)})(n.remoteStore),null===(o=n.datastore)||void 0===o||o.terminate(),null===(u=n.eventManager)||void 0===u||u.terminate()})()}}return s.provider={build:()=>new s},s})();class Zd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const ma="FirestoreClient";class kR{constructor(e,n,o,u,l){var h=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Pi.UNAUTHENTICATED,this.clientId=em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,function(){var g=(0,U.A)(function*(I){Xe(ma,"Received user=",I.uid),yield h.authCredentialListener(I),h.user=I});return function(I){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Xe(ma,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,U.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=oc(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function E_(s,e){return xE.apply(this,arguments)}function xE(){return xE=(0,U.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Xe(ma,"Initializing OfflineComponentProvider");const n=s.configuration;yield e.initialize(n);let o=n.initialUser;s.setCredentialChangeListener(function(){var u=(0,U.A)(function*(l){o.isEqual(l)||(yield FA(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),xE.apply(this,arguments)}function S0(s,e){return OE.apply(this,arguments)}function OE(){return(OE=(0,U.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield function LE(s){return FE.apply(this,arguments)}(s);Xe(ma,"Initializing OnlineComponentProvider"),yield e.initialize(n,s.configuration),s.setCredentialChangeListener(o=>hE(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,u)=>hE(e.remoteStore,u)),s._onlineComponents=e})).apply(this,arguments)}function FE(){return(FE=(0,U.A)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Xe(ma,"Using user provided OfflineComponentProvider");try{yield E_(s,s._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Fe.FAILED_PRECONDITION||u.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;ps("Error using user provided cache. Falling back to memory cache: "+e),yield E_(s,new I_)}}else Xe(ma,"Using default OfflineComponentProvider"),yield E_(s,new NE(void 0));var u;return s._offlineComponents})).apply(this,arguments)}function T_(s){return VE.apply(this,arguments)}function VE(){return(VE=(0,U.A)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Xe(ma,"Using user provided OnlineComponentProvider"),yield S0(s,s._uninitializedComponentsProvider._online)):(Xe(ma,"Using default OnlineComponentProvider"),yield S0(s,new Xd))),s._onlineComponents})).apply(this,arguments)}function Jd(s){return w_.apply(this,arguments)}function w_(){return(w_=(0,U.A)(function*(s){const e=yield T_(s),n=e.eventManager;return n.onListen=v0.bind(null,e.syncEngine),n.onUnlisten=vR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),n})).apply(this,arguments)}function L0(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const jE=new Map;function F0(s,e,n){if(!n)throw new at(Fe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function HR(s){if(!Tt.isDocumentKey(s))throw new at(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $E(s){if(Tt.isDocumentKey(s))throw new at(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function mp(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(o=s).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof s?"a function":Nt()}function bn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(s);throw new at(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}const HE="firestore.googleapis.com";class D_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new at(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HE,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new at(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $R(s,e,n,o){if(!0===e&&!0===o)throw new at(Fe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=L0(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new at(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new at(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new at(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Al{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new at(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Ev;switch(o.type){case"firstParty":return new Yg(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new at(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,U.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=jE.get(n);o&&(Xe("ComponentProvider","Removing Datastore"),jE.delete(n),o.terminate())}(this),Promise.resolve()}}class Mi{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class ii{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Es extends Mi{constructor(e,n,o){super(e,n,zu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Tt(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function MN(s,e,...n){if(s=(0,ne.Ku)(s),F0("collection","path",e),s instanceof Al){const o=Ln.fromString(e,...n);return $E(o),new Es(s,null,o)}{if(!(s instanceof ii||s instanceof Es))throw new at(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ln.fromString(e,...n));return $E(o),new Es(s.firestore,null,o)}}function eh(s,e,...n){if(s=(0,ne.Ku)(s),1===arguments.length&&(e=em.newId()),F0("doc","path",e),s instanceof Al){const o=Ln.fromString(e,...n);return HR(o),new ii(s,null,new Tt(o))}{if(!(s instanceof ii||s instanceof Es))throw new at(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ln.fromString(e,...n));return HR(o),new ii(s.firestore,s instanceof Es?s.converter:null,new Tt(o))}}const B0="AsyncQueue";class GR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iE(this,"async_queue_retry"),this.Su=()=>{const o=i_();o&&Xe(B0,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=e;const n=i_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=i_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){var e=this;return(0,U.A)(function*(){if(0!==e.Vu.length){try{yield e.Vu[0](),e.Vu.shift(),e.a_.reset()}catch(n){if(!Qc(n))throw n;Xe(B0,"Operation failed with retryable error: "+n)}e.Vu.length>0&&e.a_.Xo(()=>e.Cu())}})()}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(o=>{throw this.gu=o,this.pu=!1,mi("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(o)),o}).then(o=>(this.pu=!1,o))));return this.bu=n,n}enqueueAfterDelay(e,n,o){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const u=l_.createAndSchedule(this,e,n,o,l=>this.Fu(l));return this.fu.push(u),u}Du(){this.gu&&Nt()}verifyOperationInProgress(){}Mu(){var e=this;return(0,U.A)(function*(){let n;do{n=e.bu,yield n}while(n!==e.bu)})()}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function WE(s){return function(n){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(s)}class kr extends Al{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new GR,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,U.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new GR(n),e._firestoreClient=void 0,yield n}})()}}function qR(s,e){const n="object"==typeof s?s:(0,Ne.Sx)(),o="string"==typeof s?s:e||ym,u=(0,Ne.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ne.yU)("firestore");l&&function zR(s,e,n,o={}){var u;const l=(s=bn(s,Al))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;l.host!==HE&&l.host!==g&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const I=Object.assign(Object.assign({},l),{host:g,ssl:!1,emulatorOptions:o});if(!(0,ne.bD)(I,h)&&(s._setSettings(I),o.mockUserToken)){let D,P;if("string"==typeof o.mockUserToken)D=o.mockUserToken,P=Pi.MOCK_USER;else{D=(0,ne.Fy)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new at(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Pi(L)}s._authCredentials=new Tv(new sf(D,P))}}(u,...l)}return u}function Wr(s){if(s._terminated)throw new at(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||function qE(s){var e,n,o;const u=s._freezeSettings(),l=(I=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Gv(s._databaseId,I,s._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,L0(P.experimentalLongPollingOptions),P.useFetchStreams));var I,P;s._componentsProvider||!(null===(n=u.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(g){const I=g?._online.build();return{_offline:g?._offline.build(I),_online:I}}(s._componentsProvider))}(s),s._firestoreClient}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(ni.fromBase64String(e))}catch(n){throw new at(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new at(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rh{constructor(e){this._methodName=e}}class Gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}class yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,u){if(o.length!==u.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==u[l])return!1;return!0}(this._values,e._values)}}const fc=/^__.*__$/;class ZR{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class W0{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class C_{constructor(e,n,o,u,l,h){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new C_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ku({path:o,Qu:!1});return u.$u(e),u}Uu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ku({path:o,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return S_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(G0(this.Lu)&&fc.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class YR{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||$d(e)}ju(e,n,o,u=!1){return new C_({Lu:e,methodName:n,zu:o,path:Pr.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pc(s){const e=s._freezeSettings(),n=$d(s._databaseId);return new YR(s._databaseId,!!e.ignoreUndefinedProperties,n)}function QE(s,e,n,o,u,l={}){const h=s.ju(l.merge||l.mergeFields?2:0,e,n,u);nT("Data must be an object, but it was:",h,o);const g=Q0(o,h);let I,D;if(l.merge)I=new ts(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const P=[];for(const L of l.mergeFields){const J=Ip(e,L,n);if(!h.contains(J))throw new at(Fe.INVALID_ARGUMENT,`Field '${J}' is specified in your field mask but missing from your input data.`);Z0(P,J)||P.push(J)}I=new ts(P),D=h.fieldTransforms.filter(L=>I.covers(L.field))}else I=null,D=h.fieldTransforms;return new ZR(new Yi(g),I,D)}class vp extends rh{_toFieldTransform(e){if(2!==e.Lu)throw e.Wu(1===e.Lu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vp}}function Rl(s,e){if(X0(s=(0,ne.Ku)(s)))return nT("Unsupported field value:",e,s),Q0(s,e);if(s instanceof rh)return function(o,u){if(!G0(u.Lu))throw u.Wu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(o,u){const l=[];let h=0;for(const g of o){let I=Rl(g,u.Ku(h));null==I&&(I={nullValue:"NULL_VALUE"}),l.push(I),h++}return{arrayValue:{values:l}}}(s,e)}return function(o,u){if(null===(o=(0,ne.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return qa(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=jr.fromDate(o);return{timestampValue:pa(u.serializer,l)}}if(o instanceof jr){const l=new jr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:pa(u.serializer,l)}}if(o instanceof Gr)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof bl)return{bytesValue:US(u.serializer,o._byteString)};if(o instanceof ii){const l=u.databaseId,h=o.firestore._databaseId;if(!h.isEqual(l))throw u.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:II(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof yp)return h=o,g=u,{mapValue:{fields:{[LD]:{stringValue:qv},[za]:{arrayValue:{values:h.toArray().map(D=>{if("number"!=typeof D)throw g.Wu("VectorValues must only contain numeric values.");return uI(g.serializer,D)})}}}}};var h,g;throw u.Wu(`Unsupported field value: ${mp(o)}`)}(s,e)}function Q0(s,e){const n={};return Hv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(s,(o,u)=>{const l=Rl(u,e.qu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function X0(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof jr||s instanceof Gr||s instanceof bl||s instanceof ii||s instanceof rh||s instanceof yp)}function nT(s,e,n){if(!X0(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=mp(n);throw e.Wu("an object"===o?s+" a custom object":s+" "+o)}var u}function Ip(s,e,n){if((e=(0,ne.Ku)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return b_(s,e);throw S_("Field path arguments must be of type string or ",s,!1,void 0,n)}const JR=new RegExp("[~\\*/\\[\\]]");function b_(s,e,n){if(e.search(JR)>=0)throw S_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Sl(...e.split("."))._internalPath}catch{throw S_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function S_(s,e,n,o,u){const l=o&&!o.isEmpty(),h=void 0!==u;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${o}`),h&&(I+=` in document ${u}`),I+=")"),new at(Fe.INVALID_ARGUMENT,g+s+I)}function Z0(s,e){return s.some(n=>n.isEqual(e))}class Ep{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class eP extends Ep{data(){return super.data()}}function R_(s,e){return"string"==typeof e?b_(s,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}function Y0(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new at(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rT{}class Pl extends rT{}function ih(s,e,...n){let o=[];e instanceof rT&&o.push(e),o=o.concat(n),function(l){const h=l.filter(I=>I instanceof $s).length,g=l.filter(I=>I instanceof _a).length;if(h>1||h>0&&g>0)throw new at(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)s=u._apply(s);return s}class _a extends Pl{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new _a(e,n,o)}_apply(e){const n=this._parse(e);return J0(e._query,n),new Mi(e.firestore,e.converter,fo(e._query,n))}_parse(e){const n=pc(e.firestore);return function(l,h,g,I,D,P,L){let J;if(D.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new at(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){mc(L,P);const We=[];for(const ut of L)We.push(bp(I,l,ut));J={arrayValue:{values:We}}}else J=bp(I,l,L)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||mc(L,P),J=function K0(s,e,n,o=!1){return Rl(n,s.ju(o?4:3,e))}(g,"where",L,"in"===P||"not-in"===P);return Fn.create(D,P,J)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function oh(s,e,n){const o=e,u=R_("where",s);return _a._create(u,o,n)}class $s extends rT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $s(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:St.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let h=u;const g=l.getFlattenedFilters();for(const I of g)J0(h,I),h=fo(h,I)}(e._query,n),new Mi(e.firestore,e.converter,fo(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function bp(s,e,n){if("string"==typeof(n=(0,ne.Ku)(n))){if(""===n)throw new at(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oI(e)&&-1!==n.indexOf("/"))throw new at(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Ln.fromString(n));if(!Tt.isDocumentKey(o))throw new at(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return yd(s,new Tt(o))}if(n instanceof ii)return yd(s,n._key);throw new at(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mp(n)}.`)}function mc(s,e){if(!Array.isArray(s)||0===s.length)throw new at(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J0(s,e){const n=function(u,l){for(const h of u)for(const g of h.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new at(Fe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P_{convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Bu(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertVectorValue(e){var n,o,u;const l=null===(u=null===(o=null===(n=e.fields)||void 0===n?void 0:n[za].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(h=>Hr(h.doubleValue));return new yp(l)}convertGeoPoint(e){return new Gr(Hr(e.latitude),Hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Wv(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(_m(e));default:return null}}convertTimestamp(e){const n=ca(e);return new jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Ln.fromString(e);Bt(pA(o));const u=new md(o.get(1),o.get(3)),l=new Tt(o.popFirst(5));return u.isEqual(n)||mi(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends Ep{constructor(e,n,o,u,l,h){super(e,n,o,u,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(R_("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Sp extends qr{data(e={}){return super.data(e)}}class sh{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ml(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Sp(this._firestore,this._userDataWriter,o.key,o,new Ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let h=0;return u._snapshot.docChanges.map(g=>({type:"added",doc:new Sp(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ml(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:h++}))}{let h=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const I=new Sp(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ml(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let D=-1,P=-1;return 0!==g.type&&(D=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),P=h.indexOf(g.doc.key)),{type:cP(g.type),doc:I,oldIndex:D,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}class iu extends P_{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function hP(s){s=bn(s,Mi);const e=bn(s.firestore,kr),n=Wr(e),o=new iu(e);return Y0(s._query),function k0(s,e,n={}){const o=new Ki;return s.asyncQueue.enqueueAndForget((0,U.A)(function*(){return function(l,h,g,I,D){const P=new Zd({next:J=>{P.su(),h.enqueueAndForget(()=>h_(l,L)),J.fromCache&&"server"===I.source?D.reject(new at(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(J)},error:J=>D.reject(J)}),L=new cp(g,P,{includeMetadataChanges:!0,Ta:!0});return mE(l,L)}(yield Jd(s),s.asyncQueue,e,n,o)})),o.promise}(n,s._query).then(u=>new sh(e,o,s,u))}function nC(s,e,n,...o){s=bn(s,ii);const u=bn(s.firestore,kr),l=pc(u);let h;return h="string"==typeof(e=(0,ne.Ku)(e))||e instanceof Sl?function tT(s,e,n,o,u,l){const h=s.ju(1,e,n),g=[Ip(e,o,n)],I=[u];if(l.length%2!=0)throw new at(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let J=0;J<l.length;J+=2)g.push(Ip(e,l[J])),I.push(l[J+1]);const D=[],P=Yi.empty();for(let J=g.length-1;J>=0;--J)if(!Z0(D,g[J])){const Te=g[J];let We=I[J];We=(0,ne.Ku)(We);const ut=h.Uu(Te);if(We instanceof vp)D.push(Te);else{const nt=Rl(We,ut);null!=nt&&(D.push(Te),P.set(Te,nt))}}const L=new ts(D);return new W0(P,L,h.fieldTransforms)}(l,"updateDoc",s._key,e,n,o):function eT(s,e,n,o){const u=s.ju(1,e,n);nT("Data must be an object, but it was:",u,o);const l=[],h=Yi.empty();Bu(o,(I,D)=>{const P=b_(e,I,n);D=(0,ne.Ku)(D);const L=u.Uu(P);if(D instanceof vp)l.push(P);else{const J=Rl(D,L);null!=J&&(l.push(P),h.set(P,J))}});const g=new ts(l);return new W0(h,g,u.fieldTransforms)}(l,"updateDoc",s._key,e),Nl(u,[h.toMutation(s._key,Nr.exists(!0))])}function UN(s){return Nl(bn(s.firestore,kr),[new qu(s._key,Nr.none())])}function sT(s,e){const n=bn(s.firestore,kr),o=eh(s),u=function ru(s,e,n){let o;return o=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,o}(s.converter,e);return Nl(n,[QE(pc(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,Nr.exists(!1))]).then(()=>o)}function Nl(s,e){return function(o,u){const l=new Ki;return o.asyncQueue.enqueueAndForget((0,U.A)(function*(){return function hp(s,e,n){return zr.apply(this,arguments)}(yield function UE(s){return T_(s).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(Wr(s),e)}!function(e,n=!0){Hc=Ne.MF,(0,Ne.om)(new he.uA("firestore",(o,{instanceIdentifier:u,options:l})=>{const h=o.getProvider("app").getImmediate(),g=new kr(new od(o.getProvider("auth-internal")),new wv(h,o.getProvider("app-check-internal")),function(D,P){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new at(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(D.options.projectId,P)}(h,u),h);return l=Object.assign({useFetchStreams:n},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KO)(id,"4.7.10",e),(0,Ne.KO)(id,"4.7.10","esm2017")}();var DP=j(1985),lT=j(6354),N_=function(){return N_=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},N_.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var dC={includeMetadataChanges:!1};function hC(s,e){return void 0===e&&(e=dC),new DP.c(function(n){var o=function aT(s,...e){var n,o,u;s=(0,ne.Ku)(s);let l={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||WE(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(WE(e[h])){const L=e[h];e[h]=null===(n=L.next)||void 0===n?void 0:n.bind(L),e[h+1]=null===(o=L.error)||void 0===o?void 0:o.bind(L),e[h+2]=null===(u=L.complete)||void 0===u?void 0:u.bind(L)}let I,D,P;if(s instanceof ii)D=bn(s.firestore,kr),P=zu(s._key.path),I={next:L=>{e[h]&&e[h](function ws(s,e,n){const o=n.docs.get(e._key),u=new iu(s);return new qr(s,u,e._key,o,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(D,s,L))},error:e[h+1],complete:e[h+2]};else{const L=bn(s,Mi);D=bn(L.firestore,kr),P=L._query;const J=new iu(D);I={next:Te=>{e[h]&&e[h](new sh(D,J,L,Te))},error:e[h+1],complete:e[h+2]},Y0(s._query)}return function(J,Te,We,ut){const nt=new Zd(ut),Ut=new cp(Te,nt,We);return J.asyncQueue.enqueueAndForget((0,U.A)(function*(){return mE(yield Jd(J),Ut)})),()=>{nt.su(),J.asyncQueue.enqueueAndForget((0,U.A)(function*(){return h_(yield Jd(J),Ut)}))}}(Wr(D),P,g,I)}(s,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function AP(s,e){return void 0===e&&(e={}),function tk(s){return hC(s,{includeMetadataChanges:!0})}(s).pipe((0,lT.T)(function(n){return hT(n,e)}))}function hT(s,e){var n;void 0===e&&(e={});var o=s.data(e);return s.exists()&&"object"==typeof o&&null!==o&&e.idField?N_(N_({},o),((n={})[e.idField]=s.id,n)):o}function gT(s,e){return void 0===e&&(e={}),function bP(s){return hC(s,{includeMetadataChanges:!0}).pipe((0,lT.T)(function(e){return e.docs}))}(s).pipe((0,lT.T)(function(n){return n.map(function(o){return hT(o,e)})}))}class x_{constructor(e){return e}}const _C="firestore",O_=new K.nKC("angularfire2.firestore-instances");function PP(s){return(e,n)=>{const o=e.runOutsideAngular(()=>s(n));return new x_(o)}}const MP={provide:class yC{constructor(){return(0,x.CA)(_C)}},deps:[[new K.Xx1,O_]]},ah={provide:x_,useFactory:function kl(s,e){const n=(0,x.lR)(_C,s,e);return n&&new x_(n)},deps:[[new K.Xx1,O_],X.XU]};function mT(s,...e){return(0,Pe.KO)("angularfire",x.xv.full,"fst"),(0,K.EmA)([ah,MP,{provide:O_,useFactory:PP(s),multi:!0,deps:[K.SKi,K.zZn,x.u0,X.gL,[new K.Xx1,Ww],[new K.Xx1,Io],...e]}])}const xP=(0,x.S3)(gT,!0),OP=(0,x.S3)(AP,!0),L_=(0,x.S3)(sT,!0,2),Lp=(0,x.S3)(MN,!0,2),vC=(0,x.S3)(UN,!0,2),FP=(0,x.S3)(eh,!0,2),HP=(0,x.S3)(hP,!0),Fp=(0,x.S3)(qR,!0),IC=(0,x.S3)(ih,!0,2),IT=(0,x.S3)(nC,!0,2),ZP=(0,x.S3)(oh,!0,2)},3494:(jt,qe,j)=>{j.d(qe,{s:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(jt,qe,j)=>{j.d(qe,{q:()=>X});const x={now:()=>(x.delegate||Date).now(),delegate:void 0};class K{constructor(U,Ne=K.now){this.schedulerActionCtor=U,this.now=Ne}schedule(U,Ne=0,he){return new this.schedulerActionCtor(this,U).schedule(he,Ne)}}K.now=x.now;class X extends K{constructor(U,Ne=K.now){super(U,Ne),this.actions=[],this._active=!1}flush(U){const{actions:Ne}=this;if(this._active)return void Ne.push(U);let he;this._active=!0;do{if(he=U.execute(U.state,U.delay))break}while(U=Ne.shift());if(this._active=!1,he){for(;U=Ne.shift();)U.unsubscribe();throw he}}}},3669:(jt,qe,j)=>{function x(K){return K}j.d(qe,{D:()=>x})},3794:(jt,qe,j)=>{j.d(qe,{ms:()=>Pe,lI:()=>U});var x=j(8071);function X(he){return he[he.length-1]}function Pe(he){return(0,x.T)(X(he))?he.pop():void 0}function U(he){return function K(he){return he&&(0,x.T)(he.schedule)}(X(he))?he.pop():void 0}},4360:(jt,qe,j)=>{j.d(qe,{_:()=>K});var x=j(7707);function K(Pe,U,Ne,he,ne){return new X(Pe,U,Ne,he,ne)}class X extends x.vU{constructor(U,Ne,he,ne,z,ie){super(U),this.onFinalize=z,this.shouldUnsubscribe=ie,this._next=Ne?function(se){try{Ne(se)}catch(Oe){U.error(Oe)}}:super._next,this._error=ne?function(se){try{ne(se)}catch(Oe){U.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(se){U.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},4412:(jt,qe,j)=>{j.d(qe,{t:()=>K});var x=j(1413);class K extends x.B{constructor(Pe){super(),this._value=Pe}get value(){return this.getValue()}_subscribe(Pe){const U=super._subscribe(Pe);return!U.closed&&Pe.next(this._value),U}getValue(){const{hasError:Pe,thrownError:U,_value:Ne}=this;if(Pe)throw U;return this._throwIfClosed(),Ne}next(Pe){super.next(this._value=Pe)}}},4761:(jt,qe,j)=>{j.d(qe,{l:()=>K});const K=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(jt,qe,j)=>{j.d(qe,{l:()=>X});var x=j(3494),K=j(8071);function X(Pe){return(0,K.T)(Pe[x.s])}},5196:(jt,qe,j)=>{j.d(qe,{C:()=>X,U:()=>Pe});var x=j(1635),K=j(8071);function X(U){return(0,x.AQ)(this,arguments,function*(){const he=U.getReader();try{for(;;){const{value:ne,done:z}=yield(0,x.N3)(he.read());if(z)return yield(0,x.N3)(void 0);yield yield(0,x.N3)(ne)}}finally{he.releaseLock()}})}function Pe(U){return(0,K.T)(U?.getReader)}},5225:(jt,qe,j)=>{function x(K,X,Pe,U=0,Ne=!1){const he=X.schedule(function(){Pe(),Ne?K.add(this.schedule(null,U)):this.unsubscribe()},U);if(K.add(he),!Ne)return he}j.d(qe,{N:()=>x})},5334:(jt,qe,j)=>{j.d(qe,{m:()=>X});var x=j(1026),K=j(9270);function X(Pe){K.f.setTimeout(()=>{const{onUnhandledError:U}=x.$;if(!U)throw Pe;U(Pe)})}},5343:(jt,qe,j)=>{function x(){}j.d(qe,{l:()=>x})},5397:(jt,qe,j)=>{j.d(qe,{x:()=>X});var x=j(4761),K=j(8071);function X(Pe){return(0,K.T)(Pe?.[x.l])}},5407:(jt,qe,j)=>{j.d(qe,{xv:()=>ze,u0:()=>we,CA:()=>Dt,lR:()=>wt,S3:()=>rr});var x=j(9498),K=j(2214),X=j(9079),Pe=j(6780),Ne=j(3604);const ne=new class he extends Ne.q{}(class U extends Pe.R{constructor($t,Jt){super($t,Jt),this.scheduler=$t,this.work=Jt}schedule($t,Jt=0){return Jt>0?super.schedule($t,Jt):(this.delay=Jt,this.state=$t,this.scheduler.flush(this),this)}execute($t,Jt){return Jt>0||this.closed?super.execute($t,Jt):this._execute($t,Jt)}requestAsyncId($t,Jt,fn=0){return null!=fn&&fn>0||null==fn&&this.delay>0?super.requestAsyncId($t,Jt,fn):($t.flush(this),0)}});var ie=j(3236),se=j(1985),Oe=j(6745),Ue=j(941);const ze=new x.RxE("ANGULARFIRE2_VERSION");function wt(Pt,$t,Jt){if($t){if(1===$t.length)return $t[0];const Xn=$t.filter(vr=>vr.app===Jt);if(1===Xn.length)return Xn[0]}return Jt.container.getProvider(Pt).getImmediate({optional:!0})}const Dt=(Pt,$t)=>{const Jt=$t?[$t]:(0,K.Dk)(),fn=[];return Jt.forEach(Yt=>{Yt.container.getProvider(Pt).instances.forEach(vr=>{fn.includes(vr)||fn.push(vr)})}),fn};var mt=function(Pt){return Pt[Pt.SILENT=0]="SILENT",Pt[Pt.WARN=1]="WARN",Pt[Pt.VERBOSE=2]="VERBOSE",Pt}(mt||{}),Ft=(0,x.naY)()&&typeof Zone<"u"?mt.WARN:mt.SILENT;class rt{zone;delegate;constructor($t,Jt=ne){this.zone=$t,this.delegate=Jt}now(){return this.delegate.now()}schedule($t,Jt,fn){const Yt=this.zone;return this.delegate.schedule(function(vr){Yt?Yt.runGuarded(()=>{$t.apply(this,[vr])}):$t.apply(this,[vr])},Jt,fn)}}let we=(()=>{class Pt{outsideAngular;insideAngular;constructor(){const Jt=(0,x.WQX)(x.SKi);this.outsideAngular=Jt.runOutsideAngular(()=>new rt(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=Jt.run(()=>new rt(typeof Zone>"u"?void 0:Zone.current,ie.E))}static \u0275fac=function(fn){return new(fn||Pt)};static \u0275prov=x.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();var Qe=!1;function pt(Pt){const $t=(0,x.WQX)(x.SKi,{optional:!0});return $t?$t.run(()=>Pt()):Pt()}const Sn=(Pt,$t,Jt)=>(...fn)=>($t&&setTimeout($t,0),(0,x.N4e)(Jt,()=>pt(()=>Pt.apply(void 0,fn)))),rr=(Pt,$t,Jt)=>(Jt||=$t?mt.WARN:mt.VERBOSE,function(){let fn;const Yt=arguments;let Xn,vr,br;try{Xn=(0,x.WQX)(we),vr=(0,x.WQX)(x.u5s),br=(0,x.WQX)(x.uvJ)}catch{return function Ve(Pt,$t){!Qe&&(Ft>mt.SILENT||(0,x.naY)())&&(Qe=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ft>=$t&&console.warn(`Firebase API called outside injection context: ${Pt.name}`)}(Pt,Jt),Pt.apply(this,Yt)}for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof Yt[Ee]&&($t&&(fn||=pt(()=>vr.add())),Yt[Ee]=Sn(Yt[Ee],fn,br));const rn=function tt(Pt){const $t=(0,x.WQX)(x.SKi,{optional:!0});return $t?$t.runOutsideAngular(()=>Pt()):Pt()}(()=>Pt.apply(this,Yt));return $t?rn instanceof se.c?rn.pipe((0,Oe._)(Xn.outsideAngular),(0,Ue.Q)(Xn.insideAngular),(0,X.YV)(br)):rn instanceof Promise?pt(()=>new Promise((Ee,Me)=>{vr.run(()=>rn).then($e=>(0,x.N4e)(br,()=>pt(()=>Ee($e))),$e=>(0,x.N4e)(br,()=>pt(()=>Me($e))))})):"function"==typeof rn&&fn?function(){return setTimeout(fn,0),rn.apply(this,arguments)}:pt(()=>rn):rn instanceof se.c?rn.pipe((0,Oe._)(Xn.outsideAngular),(0,Ue.Q)(Xn.insideAngular)):pt(()=>rn)})},5528:(jt,qe,j)=>{j.d(qe,{R:()=>xn,a:()=>Sr,m:()=>On,p:()=>du});var x=j(2300),K=j(9498),X=j(460);let Ne=(()=>{class W{static \u0275prov=(0,K.jDH)({token:W,providedIn:"root",factory:()=>new he((0,K.WQX)(X.D),window)})}return W})();class he{document;window;offset=()=>[0,0];constructor(fe,ee){this.document=fe,this.window=ee}setOffset(fe){this.offset=Array.isArray(fe)?()=>fe:fe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(fe){this.window.scrollTo(fe[0],fe[1])}scrollToAnchor(fe){const ee=function ne(W,fe){const ee=W.getElementById(fe)||W.getElementsByName(fe)[0];if(ee)return ee;if("function"==typeof W.createTreeWalker&&W.body&&"function"==typeof W.body.attachShadow){const Ce=W.createTreeWalker(W.body,NodeFilter.SHOW_ELEMENT);let Ge=Ce.currentNode;for(;Ge;){const gt=Ge.shadowRoot;if(gt){const Mt=gt.getElementById(fe)||gt.querySelector(`[name="${fe}"]`);if(Mt)return Mt}Ge=Ce.nextNode()}}return null}(this.document,fe);ee&&(this.scrollToElement(ee),ee.focus())}setHistoryScrollRestoration(fe){this.window.history.scrollRestoration=fe}scrollToElement(fe){const ee=fe.getBoundingClientRect(),Ce=ee.left+this.window.pageXOffset,Ge=ee.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(Ce-gt[0],Ge-gt[1])}}var Un=j(8834),le=j(1350),ye=j(1413),Ae=j(7673),ht=j(8455),Lt=j(6365),zt=j(5964),ln=j(274),Mn=j(1397);let xn=(()=>{class W{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye.B;constructor(ee,Ce,Ge,gt,Mt,mr){this.router=ee,this.route=Ce,this.tabIndexAttribute=Ge,this.renderer=gt,this.el=Mt,this.locationStrategy=mr;const ir=Mt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ir||"area"===ir,this.isAnchorElement?this.subscription=ee.events.subscribe(ko=>{ko instanceof le.g&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(ee){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ee)}ngOnChanges(ee){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(ee){null==ee?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,le.X)(ee)||Array.isArray(ee)?ee:[ee],this.setTabIndexIfNotOnNativeEl("0"))}onClick(ee,Ce,Ge,gt,Mt){const mr=this.urlTree;return!!(null===mr||this.isAnchorElement&&(0!==ee||Ce||Ge||gt||Mt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(mr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ee=this.urlTree;this.href=null!==ee&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ee)):null;const Ce=null===this.href?null:(0,K.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ce)}applyAttributeValue(ee,Ce){const Ge=this.renderer,gt=this.el.nativeElement;null!==Ce?Ge.setAttribute(gt,ee,Ce):Ge.removeAttribute(gt,ee)}get urlTree(){return null===this.routerLinkInput?null:(0,le.X)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(Ce){return new(Ce||W)(K.rXU(le.t),K.rXU(le.x),K.kS0("tabindex"),K.rXU(K.sFG),K.rXU(K.aKT),K.rXU(x.a))};static \u0275dir=K.FsC({type:W,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ce,Ge){1&Ce&&K.bIt("click",function(Mt){return Ge.onClick(Mt.button,Mt.ctrlKey,Mt.shiftKey,Mt.altKey,Mt.metaKey)}),2&Ce&&K.BMQ("target",Ge.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",K.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",K.L39],replaceUrl:[2,"replaceUrl","replaceUrl",K.L39],routerLink:"routerLink"},features:[K.OA$]})}return W})(),Sr=(()=>{class W{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new K.bkB;constructor(ee,Ce,Ge,gt,Mt){this.router=ee,this.element=Ce,this.renderer=Ge,this.cdr=gt,this.link=Mt,this.routerEventsSubscription=ee.events.subscribe(mr=>{mr instanceof le.g&&this.update()})}ngAfterContentInit(){(0,Ae.of)(this.links.changes,(0,Ae.of)(null)).pipe((0,Lt.U)()).subscribe(ee=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ee=[...this.links.toArray(),this.link].filter(Ce=>!!Ce).map(Ce=>Ce.onChanges);this.linkInputChangesSubscription=(0,ht.H)(ee).pipe((0,Lt.U)()).subscribe(Ce=>{this._isActive!==this.isLinkActive(this.router)(Ce)&&this.update()})}set routerLinkActive(ee){const Ce=Array.isArray(ee)?ee:ee.split(" ");this.classes=Ce.filter(Ge=>!!Ge)}ngOnChanges(ee){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ee=this.hasActiveLinks();this.classes.forEach(Ce=>{ee?this.renderer.addClass(this.element.nativeElement,Ce):this.renderer.removeClass(this.element.nativeElement,Ce)}),ee&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ee&&(this._isActive=ee,this.cdr.markForCheck(),this.isActiveChange.emit(ee))})}isLinkActive(ee){const Ce=function vi(W){return!!W.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ge=>{const gt=Ge.urlTree;return!!gt&&ee.isActive(gt,Ce)}}hasActiveLinks(){const ee=this.isLinkActive(this.router);return this.link&&ee(this.link)||this.links.some(ee)}static \u0275fac=function(Ce){return new(Ce||W)(K.rXU(le.t),K.rXU(K.aKT),K.rXU(K.sFG),K.rXU(K.gRc),K.rXU(xn,8))};static \u0275dir=K.FsC({type:W,selectors:[["","routerLinkActive",""]],contentQueries:function(Ce,Ge,gt){if(1&Ce&&K.wni(gt,xn,5),2&Ce){let Mt;K.mGM(Mt=K.lsd())&&(Ge.links=Mt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[K.OA$]})}return W})();class Go{}let Wt=(()=>{class W{router;injector;preloadingStrategy;loader;subscription;constructor(ee,Ce,Ge,gt,Mt){this.router=ee,this.injector=Ge,this.preloadingStrategy=gt,this.loader=Mt}setUpPreloading(){this.subscription=this.router.events.pipe((0,zt.p)(ee=>ee instanceof le.g),(0,ln.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ee,Ce){const Ge=[];for(const gt of Ce){gt.providers&&!gt._injector&&(gt._injector=(0,K.Ol2)(gt.providers,ee,`Route: ${gt.path}`));const Mt=gt._injector??ee,mr=gt._loadedInjector??Mt;(gt.loadChildren&&!gt._loadedRoutes&&void 0===gt.canLoad||gt.loadComponent&&!gt._loadedComponent)&&Ge.push(this.preloadConfig(Mt,gt)),(gt.children||gt._loadedRoutes)&&Ge.push(this.processRoutes(mr,gt.children??gt._loadedRoutes))}return(0,ht.H)(Ge).pipe((0,Lt.U)())}preloadConfig(ee,Ce){return this.preloadingStrategy.preload(Ce,()=>{let Ge;Ge=Ce.loadChildren&&void 0===Ce.canLoad?this.loader.loadChildren(ee,Ce):(0,Ae.of)(null);const gt=Ge.pipe((0,Mn.Z)(Mt=>null===Mt?(0,Ae.of)(void 0):(Ce._loadedRoutes=Mt.routes,Ce._loadedInjector=Mt.injector,this.processRoutes(Mt.injector??ee,Mt.routes))));if(Ce.loadComponent&&!Ce._loadedComponent){const Mt=this.loader.loadComponent(Ce);return(0,ht.H)([gt,Mt]).pipe((0,Lt.U)())}return gt})}static \u0275fac=function(Ce){return new(Ce||W)(K.KVO(le.t),K.KVO(K.Ql9),K.KVO(K.uvJ),K.KVO(Go),K.KVO(le.Y))};static \u0275prov=K.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const Po=new K.nKC("");let os=(()=>{class W{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(ee,Ce,Ge,gt,Mt={}){this.urlSerializer=ee,this.transitions=Ce,this.viewportScroller=Ge,this.zone=gt,this.options=Mt,Mt.scrollPositionRestoration||="disabled",Mt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ee=>{ee instanceof le.k?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ee.navigationTrigger,this.restoredId=ee.restoredState?ee.restoredState.navigationId:0):ee instanceof le.g?(this.lastId=ee.id,this.scheduleScrollEvent(ee,this.urlSerializer.parse(ee.urlAfterRedirects).fragment)):ee instanceof le.i&&ee.code===le.j.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ee,this.urlSerializer.parse(ee.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ee=>{ee instanceof le.S&&(ee.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ee.position):ee.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ee.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ee,Ce){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new le.S(ee,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ce))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(Ce){K.QTQ()};static \u0275prov=K.jDH({token:W,factory:W.\u0275fac})}return W})();function du(W,...fe){return(0,K.EmA)([{provide:le.v,multi:!0,useValue:W},[],{provide:le.x,useFactory:ss,deps:[le.t]},{provide:K.iLQ,multi:!0,useFactory:Ta},fe.map(ee=>ee.\u0275providers)])}function ss(W){return W.routerState.root}function Oi(W,fe){return{\u0275kind:W,\u0275providers:fe}}function Ta(){const W=(0,K.WQX)(K.zZn);return fe=>{const ee=W.get(K.o8S);if(fe!==ee.components[0])return;const Ce=W.get(le.t),Ge=W.get(Qs);1===W.get(Li)&&Ce.initialNavigation(),W.get(C,null,K.$GK.Optional)?.setUpPreloading(),W.get(Po,null,K.$GK.Optional)?.init(),Ce.resetRootComponentType(ee.componentTypes[0]),Ge.closed||(Ge.next(),Ge.complete(),Ge.unsubscribe())}}const Qs=new K.nKC("",{factory:()=>new ye.B}),Li=new K.nKC("",{providedIn:"root",factory:()=>1}),C=new K.nKC("");function Y(W){return Oi(0,[{provide:C,useExisting:Wt},{provide:Go,useExisting:W}])}function ot(W){return Oi(9,[{provide:le.a2,useValue:le.a1},{provide:le.a3,useValue:{skipNextTransition:!!W?.skipInitialTransition,...W}}])}const $n=[x.L,{provide:le.M,useClass:le.J},le.t,le.w,{provide:le.x,useFactory:ss,deps:[le.t]},le.Y,[]];let On=(()=>{class W{constructor(){}static forRoot(ee,Ce){return{ngModule:W,providers:[$n,[],{provide:le.v,multi:!0,useValue:ee},[],Ce?.errorHandler?{provide:le._,useValue:Ce.errorHandler}:[],{provide:le.u,useValue:Ce||{}},Ce?.useHash?{provide:x.a,useClass:Un.a9}:{provide:x.a,useClass:x.P},{provide:Po,useFactory:()=>{const W=(0,K.WQX)(Ne),fe=(0,K.WQX)(K.SKi),ee=(0,K.WQX)(le.u),Ce=(0,K.WQX)(le.Z),Ge=(0,K.WQX)(le.M);return ee.scrollOffset&&W.setOffset(ee.scrollOffset),new os(Ge,Ce,W,fe,ee)}},Ce?.preloadingStrategy?Y(Ce.preloadingStrategy).\u0275providers:[],Ce?.initialNavigation?tr(Ce):[],Ce?.bindToComponentInputs?Oi(8,[le.$,{provide:le.a0,useExisting:le.$}]).\u0275providers:[],Ce?.enableViewTransitions?ot().\u0275providers:[],[{provide:ao,useFactory:Ta},{provide:K.iLQ,multi:!0,useExisting:ao}]]}}static forChild(ee){return{ngModule:W,providers:[{provide:le.v,multi:!0,useValue:ee}]}}static \u0275fac=function(Ce){return new(Ce||W)};static \u0275mod=K.$C({type:W});static \u0275inj=K.G2t({})}return W})();function tr(W){return["disabled"===W.initialNavigation?Oi(3,[{provide:K.hnV,multi:!0,useFactory:()=>{const fe=(0,K.WQX)(le.t);return()=>{fe.setUpLocationChangeListener()}}},{provide:Li,useValue:2}]).\u0275providers:[],"enabledBlocking"===W.initialNavigation?Oi(2,[{provide:Li,useValue:0},{provide:K.hnV,multi:!0,deps:[K.zZn],useFactory:fe=>{const ee=fe.get(x.b,Promise.resolve());return()=>ee.then(()=>new Promise(Ce=>{const Ge=fe.get(le.t),gt=fe.get(Qs);(0,le.W)(Ge,()=>{Ce(!0)}),fe.get(le.Z).afterPreactivation=()=>(Ce(!0),gt.closed?(0,Ae.of)(void 0):gt),Ge.initialNavigation()}))}}]).\u0275providers:[]]}const ao=new K.nKC("")},5558:(jt,qe,j)=>{j.d(qe,{n:()=>Pe});var x=j(8750),K=j(9974),X=j(4360);function Pe(U,Ne){return(0,K.N)((he,ne)=>{let z=null,ie=0,se=!1;const Oe=()=>se&&!z&&ne.complete();he.subscribe((0,X._)(ne,Ue=>{z?.unsubscribe();let ze=0;const it=ie++;(0,x.Tg)(U(Ue,it)).subscribe(z=(0,X._)(ne,wt=>ne.next(Ne?Ne(Ue,wt,it,ze++):wt),()=>{z=null,Oe()}))},()=>{se=!0,Oe()}))})}},5964:(jt,qe,j)=>{j.d(qe,{p:()=>X});var x=j(9974),K=j(4360);function X(Pe,U){return(0,x.N)((Ne,he)=>{let ne=0;Ne.subscribe((0,K._)(he,z=>Pe.call(U,z,ne++)&&he.next(z)))})}},6354:(jt,qe,j)=>{j.d(qe,{T:()=>X});var x=j(9974),K=j(4360);function X(Pe,U){return(0,x.N)((Ne,he)=>{let ne=0;Ne.subscribe((0,K._)(he,z=>{he.next(Pe.call(U,z,ne++))}))})}},6365:(jt,qe,j)=>{j.d(qe,{U:()=>X});var x=j(1397),K=j(3669);function X(Pe=1/0){return(0,x.Z)(K.D,Pe)}},6450:(jt,qe,j)=>{j.d(qe,{I:()=>Pe});var x=j(6354);const{isArray:K}=Array;function Pe(U){return(0,x.T)(Ne=>function X(U,Ne){return K(Ne)?U(...Ne):U(Ne)}(U,Ne))}},6745:(jt,qe,j)=>{j.d(qe,{_:()=>K});var x=j(9974);function K(X,Pe=0){return(0,x.N)((U,Ne)=>{Ne.add(X.schedule(()=>U.subscribe(Ne),Pe))})}},6780:(jt,qe,j)=>{j.d(qe,{R:()=>U});var x=j(8359);class K extends x.yU{constructor(he,ne){super()}schedule(he,ne=0){return this}}const X={setInterval(Ne,he,...ne){const{delegate:z}=X;return z?.setInterval?z.setInterval(Ne,he,...ne):setInterval(Ne,he,...ne)},clearInterval(Ne){const{delegate:he}=X;return(he?.clearInterval||clearInterval)(Ne)},delegate:void 0};var Pe=j(7908);class U extends K{constructor(he,ne){super(he,ne),this.scheduler=he,this.work=ne,this.pending=!1}schedule(he,ne=0){var z;if(this.closed)return this;this.state=he;const ie=this.id,se=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(se,ie,ne)),this.pending=!0,this.delay=ne,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(se,this.id,ne),this}requestAsyncId(he,ne,z=0){return X.setInterval(he.flush.bind(he,this),z)}recycleAsyncId(he,ne,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return ne;null!=ne&&X.clearInterval(ne)}execute(he,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(he,ne);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,ne){let ie,z=!1;try{this.work(he)}catch(se){z=!0,ie=se||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:he,scheduler:ne}=this,{actions:z}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pe.o)(z,this),null!=he&&(this.id=this.recycleAsyncId(ne,he,null)),this.delay=null,super.unsubscribe()}}}},6858:(jt,qe,j)=>{j.d(qe,{cY:()=>Ve,FA:()=>Rt,g:()=>Je,K3:()=>he,u:()=>se,Uj:()=>ie,Fy:()=>tt,tD:()=>Yr,bD:()=>$i,T9:()=>we,yU:()=>rt,XA:()=>Qe,Ku:()=>Pn,ZQ:()=>pt,sr:()=>fn,c1:()=>Jt,zW:()=>Me,jZ:()=>Sn,lV:()=>Yt,nr:()=>Ee,Am:()=>Di,eX:()=>$e});const U=function(ae){const Q=[];let me=0;for(let Ke=0;Ke<ae.length;Ke++){let de=ae.charCodeAt(Ke);de<128?Q[me++]=de:de<2048?(Q[me++]=de>>6|192,Q[me++]=63&de|128):55296==(64512&de)&&Ke+1<ae.length&&56320==(64512&ae.charCodeAt(Ke+1))?(de=65536+((1023&de)<<10)+(1023&ae.charCodeAt(++Ke)),Q[me++]=de>>18|240,Q[me++]=de>>12&63|128,Q[me++]=de>>6&63|128,Q[me++]=63&de|128):(Q[me++]=de>>12|224,Q[me++]=de>>6&63|128,Q[me++]=63&de|128)}return Q},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,Q){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[];for(let de=0;de<ae.length;de+=3){const At=ae[de],xt=de+1<ae.length,In=xt?ae[de+1]:0,er=de+2<ae.length,Er=er?ae[de+2]:0;let ci=(15&In)<<2|Er>>6,yi=63&Er;er||(yi=64,xt||(ci=64)),Ke.push(me[At>>2],me[(3&At)<<4|In>>4],me[ci],me[yi])}return Ke.join("")},encodeString(ae,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ae):this.encodeByteArray(U(ae),Q)},decodeString(ae,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ae):function(ae){const Q=[];let me=0,Ke=0;for(;me<ae.length;){const de=ae[me++];if(de<128)Q[Ke++]=String.fromCharCode(de);else if(de>191&&de<224){const At=ae[me++];Q[Ke++]=String.fromCharCode((31&de)<<6|63&At)}else if(de>239&&de<365){const er=((7&de)<<18|(63&ae[me++])<<12|(63&ae[me++])<<6|63&ae[me++])-65536;Q[Ke++]=String.fromCharCode(55296+(er>>10)),Q[Ke++]=String.fromCharCode(56320+(1023&er))}else{const At=ae[me++],xt=ae[me++];Q[Ke++]=String.fromCharCode((15&de)<<12|(63&At)<<6|63&xt)}}return Q.join("")}(this.decodeStringToByteArray(ae,Q))},decodeStringToByteArray(ae,Q){this.init_();const me=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[];for(let de=0;de<ae.length;){const At=me[ae.charAt(de++)],In=de<ae.length?me[ae.charAt(de)]:0;++de;const Er=de<ae.length?me[ae.charAt(de)]:64;++de;const hn=de<ae.length?me[ae.charAt(de)]:64;if(++de,null==At||null==In||null==Er||null==hn)throw new ne;Ke.push(At<<2|In>>4),64!==Er&&(Ke.push(In<<4&240|Er>>2),64!==hn&&Ke.push(Er<<6&192|hn))}return Ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ie=function(ae){return function(ae){const Q=U(ae);return he.encodeByteArray(Q,!0)}(ae).replace(/\./g,"")},se=function(ae){try{return he.decodeString(ae,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null},Ft=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=ae&&se(ae[1]);return Q&&JSON.parse(Q)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},rt=ae=>{const Q=(ae=>{var Q,me;return null===(me=null===(Q=Ft())||void 0===Q?void 0:Q.emulatorHosts)||void 0===me?void 0:me[ae]})(ae);if(!Q)return;const me=Q.lastIndexOf(":");if(me<=0||me+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const Ke=parseInt(Q.substring(me+1),10);return"["===Q[0]?[Q.substring(1,me-1),Ke]:[Q.substring(0,me),Ke]},we=()=>{var ae;return null===(ae=Ft())||void 0===ae?void 0:ae.config},Qe=ae=>{var Q;return null===(Q=Ft())||void 0===Q?void 0:Q[`_${ae}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,me)=>{this.resolve=Q,this.reject=me})}wrapCallback(Q){return(me,Ke)=>{me?this.reject(me):this.resolve(Ke),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(me):Q(me,Ke))}}}function tt(ae,Q){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ke=Q||"demo-project",de=ae.iat||0,At=ae.sub||ae.user_id;if(!At)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${Ke}`,aud:Ke,iat:de,exp:de+3600,auth_time:de,sub:At,user_id:At,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(xt)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Sn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Jt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function fn(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){return!function rr(){var ae;const Q=null===(ae=Ft())||void 0===ae?void 0:ae.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((ae,Q)=>{try{let me=!0;const Ke="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Ke);de.onsuccess=()=>{de.result.close(),me||self.indexedDB.deleteDatabase(Ke),ae(!0)},de.onupgradeneeded=()=>{me=!1},de.onerror=()=>{var At;Q((null===(At=de.error)||void 0===At?void 0:At.message)||"")}}catch(me){Q(me)}})}class Je extends Error{constructor(Q,me,Ke){super(me),this.code=Q,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(Q,me,Ke){this.service=Q,this.serviceName=me,this.errors=Ke}create(Q,...me){const Ke=me[0]||{},de=`${this.service}/${Q}`,At=this.errors[Q],xt=At?function Et(ae,Q){return ae.replace(Rn,(me,Ke)=>{const de=Q[Ke];return null!=de?String(de):`<${Ke}?>`})}(At,Ke):"Error";return new Je(de,`${this.serviceName}: ${xt} (${de}).`,Ke)}}const Rn=/\{\$([^}]+)}/g;function $i(ae,Q){if(ae===Q)return!0;const me=Object.keys(ae),Ke=Object.keys(Q);for(const de of me){if(!Ke.includes(de))return!1;const At=ae[de],xt=Q[de];if(io(At)&&io(xt)){if(!$i(At,xt))return!1}else if(At!==xt)return!1}for(const de of Ke)if(!me.includes(de))return!1;return!0}function io(ae){return null!==ae&&"object"==typeof ae}function Di(ae){const Q=[];for(const[me,Ke]of Object.entries(ae))Array.isArray(Ke)?Ke.forEach(de=>{Q.push(encodeURIComponent(me)+"="+encodeURIComponent(de))}):Q.push(encodeURIComponent(me)+"="+encodeURIComponent(Ke));return Q.length?"&"+Q.join("&"):""}function Yr(ae,Q){const me=new Vr(ae,Q);return me.subscribe.bind(me)}class Vr{constructor(Q,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{Q(this)}).catch(Ke=>{this.error(Ke)})}next(Q){this.forEachObserver(me=>{me.next(Q)})}error(Q){this.forEachObserver(me=>{me.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,me,Ke){let de;if(void 0===Q&&void 0===me&&void 0===Ke)throw new Error("Missing Observer.");de=function Ai(ae,Q){if("object"!=typeof ae||null===ae)return!1;for(const me of Q)if(me in ae&&"function"==typeof ae[me])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:me,complete:Ke},void 0===de.next&&(de.next=Qr),void 0===de.error&&(de.error=Qr),void 0===de.complete&&(de.complete=Qr);const At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),At}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,Q)}sendOne(Q,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{me(this.observers[Q])}catch(Ke){typeof console<"u"&&console.error&&console.error(Ke)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qr(){}function Pn(ae){return ae&&ae._delegate?ae._delegate:ae}},7440:(jt,qe,j)=>{j.d(qe,{MW:()=>Ue,Wp:()=>Dt,XU:()=>Pe,gL:()=>U});var x=j(2214),K=j(9498),X=j(5407);class Pe{constructor(Qe){return Qe}}class U{constructor(){return(0,x.Dk)()}}const ne=new K.nKC("angularfire2._apps"),z={provide:Pe,useFactory:function he(we){return we&&1===we.length?we[0]:new Pe((0,x.Sx)())},deps:[[new K.Xx1,ne]]},ie={provide:U,deps:[[new K.Xx1,ne]]};function se(we){return(Qe,Ve)=>{const tt=Ve.get(K.Agw);(0,x.KO)("angularfire",X.xv.full,"core"),(0,x.KO)("angularfire",X.xv.full,"app"),(0,x.KO)("angular",K.xvI.full,tt.toString());const pt=Qe.runOutsideAngular(()=>we(Ve));return new Pe(pt)}}function Ue(we,...Qe){return(0,K.EmA)([z,ie,{provide:ne,useFactory:se(we),multi:!0,deps:[K.SKi,K.zZn,X.u0,...Qe]}])}const Dt=(0,X.S3)(x.Wp,!0)},7441:(jt,qe,j)=>{j.d(qe,{X:()=>x});const x=K=>K&&"number"==typeof K.length&&"function"!=typeof K},7673:(jt,qe,j)=>{j.d(qe,{of:()=>X});var x=j(3794),K=j(8455);function X(...Pe){const U=(0,x.lI)(Pe);return(0,K.H)(Pe,U)}},7707:(jt,qe,j)=>{j.d(qe,{Ms:()=>wt,vU:()=>Oe});var x=j(8071),K=j(8359),X=j(1026),Pe=j(5334),U=j(5343);const Ne=z("C",void 0,void 0);function z(rt,we,Qe){return{kind:rt,value:we,error:Qe}}var ie=j(9270),se=j(9786);class Oe extends K.yU{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,K.Uv)(we)&&we.add(this)):this.destination=Zt}static create(we,Qe,Ve){return new wt(we,Qe,Ve)}next(we){this.isStopped?Ft(function ne(rt){return z("N",rt,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ft(function he(rt){return z("E",void 0,rt)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ft(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ze(rt,we){return Ue.call(rt,we)}class it{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(we)}catch(Ve){Dt(Ve)}}error(we){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(we)}catch(Ve){Dt(Ve)}else Dt(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Qe){Dt(Qe)}}}class wt extends Oe{constructor(we,Qe,Ve){let tt;if(super(),(0,x.T)(we)||!we)tt={next:we??void 0,error:Qe??void 0,complete:Ve??void 0};else{let pt;this&&X.$.useDeprecatedNextContext?(pt=Object.create(we),pt.unsubscribe=()=>this.unsubscribe(),tt={next:we.next&&ze(we.next,pt),error:we.error&&ze(we.error,pt),complete:we.complete&&ze(we.complete,pt)}):tt=we}this.destination=new it(tt)}}function Dt(rt){X.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(rt):(0,Pe.m)(rt)}function Ft(rt,we){const{onStoppedNotification:Qe}=X.$;Qe&&ie.f.setTimeout(()=>Qe(rt,we))}const Zt={closed:!0,next:U.l,error:function mt(rt){throw rt},complete:U.l}},7852:(jt,qe,j)=>{j.d(qe,{MF:()=>gr,j6:()=>Qr,xZ:()=>ui,om:()=>Ai,Sx:()=>vn,Dk:()=>so,Wp:()=>Ds,KO:()=>Q});var x=j(467),K=j(1362),X=j(8041),Pe=j(6858);let Ne,he;const ie=new WeakMap,se=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,ze=new WeakMap;let Dt={get(le,ye,Ae){if(le instanceof IDBTransaction){if("done"===ye)return se.get(le);if("objectStoreNames"===ye)return le.objectStoreNames||Oe.get(le);if("store"===ye)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return rt(le[ye])},set:(le,ye,Ae)=>(le[ye]=Ae,!0),has:(le,ye)=>le instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in le};function Zt(le){return"function"==typeof le?function Ft(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ye){return le.apply(we(this),ye),rt(ie.get(this))}:function(...ye){return rt(le.apply(we(this),ye))}:function(ye,...Ae){const ht=le.call(we(this),ye,...Ae);return Oe.set(ht,ye.sort?ye.sort():[ye]),rt(ht)}}(le):(le instanceof IDBTransaction&&function wt(le){if(se.has(le))return;const ye=new Promise((Ae,ht)=>{const Lt=()=>{le.removeEventListener("complete",zt),le.removeEventListener("error",ln),le.removeEventListener("abort",ln)},zt=()=>{Ae(),Lt()},ln=()=>{ht(le.error||new DOMException("AbortError","AbortError")),Lt()};le.addEventListener("complete",zt),le.addEventListener("error",ln),le.addEventListener("abort",ln)});se.set(le,ye)}(le),((le,ye)=>ye.some(Ae=>le instanceof Ae))(le,function ne(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Dt):le)}function rt(le){if(le instanceof IDBRequest)return function it(le){const ye=new Promise((Ae,ht)=>{const Lt=()=>{le.removeEventListener("success",zt),le.removeEventListener("error",ln)},zt=()=>{Ae(rt(le.result)),Lt()},ln=()=>{ht(le.error),Lt()};le.addEventListener("success",zt),le.addEventListener("error",ln)});return ye.then(Ae=>{Ae instanceof IDBCursor&&ie.set(Ae,le)}).catch(()=>{}),ze.set(ye,le),ye}(le);if(Ue.has(le))return Ue.get(le);const ye=Zt(le);return ye!==le&&(Ue.set(le,ye),ze.set(ye,le)),ye}const we=le=>ze.get(le),tt=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],Sn=new Map;function rr(le,ye){if(!(le instanceof IDBDatabase)||ye in le||"string"!=typeof ye)return;if(Sn.get(ye))return Sn.get(ye);const Ae=ye.replace(/FromIndex$/,""),ht=ye!==Ae,Lt=pt.includes(Ae);if(!(Ae in(ht?IDBIndex:IDBObjectStore).prototype)||!Lt&&!tt.includes(Ae))return;const zt=function(){var ln=(0,x.A)(function*(Mn,...xn){const Sr=this.transaction(Mn,Lt?"readwrite":"readonly");let vi=Sr.store;return ht&&(vi=vi.index(xn.shift())),(yield Promise.all([vi[Ae](...xn),Lt&&Sr.done]))[0]});return function(xn){return ln.apply(this,arguments)}}();return Sn.set(ye,zt),zt}!function mt(le){Dt=le(Dt)}(le=>({...le,get:(ye,Ae,ht)=>rr(ye,Ae)||le.get(ye,Ae,ht),has:(ye,Ae)=>!!rr(ye,Ae)||le.has(ye,Ae)}));class Pt{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function $t(le){const ye=le.getComponent();return"VERSION"===ye?.type}(Ae)){const ht=Ae.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Ae=>Ae).join(" ")}}const Jt="@firebase/app",Yt=new X.Vy("@firebase/app"),Xn="@firebase/app-compat",vr="@firebase/analytics-compat",br="@firebase/analytics",rn="@firebase/app-check-compat",Ee="@firebase/app-check",Me="@firebase/auth",$e="@firebase/auth-compat",Le="@firebase/database",Ye="@firebase/data-connect",Je="@firebase/database-compat",Rt="@firebase/functions",Et="@firebase/functions-compat",Rn="@firebase/installations",It="@firebase/installations-compat",sn="@firebase/messaging",Ht="@firebase/messaging-compat",Zr="@firebase/performance",Dn="@firebase/performance-compat",Zn="@firebase/remote-config",Yn="@firebase/remote-config-compat",Jn="@firebase/storage",Kr="@firebase/storage-compat",mo="@firebase/firestore",ro="@firebase/vertexai",$i="@firebase/firestore-compat",io="firebase",Di="[DEFAULT]",zo={[Jt]:"fire-core",[Xn]:"fire-core-compat",[br]:"fire-analytics",[vr]:"fire-analytics-compat",[Ee]:"fire-app-check",[rn]:"fire-app-check-compat",[Me]:"fire-auth",[$e]:"fire-auth-compat",[Le]:"fire-rtdb",[Ye]:"fire-data-connect",[Je]:"fire-rtdb-compat",[Rt]:"fire-fn",[Et]:"fire-fn-compat",[Rn]:"fire-iid",[It]:"fire-iid-compat",[sn]:"fire-fcm",[Ht]:"fire-fcm-compat",[Zr]:"fire-perf",[Dn]:"fire-perf-compat",[Zn]:"fire-rc",[Yn]:"fire-rc-compat",[Jn]:"fire-gcs",[Kr]:"fire-gcs-compat",[mo]:"fire-fst",[$i]:"fire-fst-compat",[ro]:"fire-vertex","fire-js":"fire-js",[io]:"fire-js-all"},ai=new Map,ft=new Map,Yr=new Map;function Vr(le,ye){try{le.container.addComponent(ye)}catch(Ae){Yt.debug(`Component ${ye.name} failed to register with FirebaseApp ${le.name}`,Ae)}}function Ai(le){const ye=le.name;if(Yr.has(ye))return Yt.debug(`There were multiple attempts to register component ${ye}.`),!1;Yr.set(ye,le);for(const Ae of ai.values())Vr(Ae,le);for(const Ae of ft.values())Vr(Ae,le);return!0}function Qr(le,ye){const Ae=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),le.container.getProvider(ye)}function ui(le){return null!=le&&void 0!==le.settings}const Ir=new Pe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ur{constructor(ye,Ae,ht){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new K.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const gr="11.6.0";function Ds(le,ye={}){let Ae=le;"object"!=typeof ye&&(ye={name:ye});const ht=Object.assign({name:Di,automaticDataCollectionEnabled:!1},ye),Lt=ht.name;if("string"!=typeof Lt||!Lt)throw Ir.create("bad-app-name",{appName:String(Lt)});if(Ae||(Ae=(0,Pe.T9)()),!Ae)throw Ir.create("no-options");const zt=ai.get(Lt);if(zt){if((0,Pe.bD)(Ae,zt.options)&&(0,Pe.bD)(ht,zt.config))return zt;throw Ir.create("duplicate-app",{appName:Lt})}const ln=new K.h1(Lt);for(const xn of Yr.values())ln.addComponent(xn);const Mn=new Ur(Ae,ht,ln);return ai.set(Lt,Mn),Mn}function vn(le=Di){const ye=ai.get(le);if(!ye&&le===Di&&(0,Pe.T9)())return Ds();if(!ye)throw Ir.create("no-app",{appName:le});return ye}function so(){return Array.from(ai.values())}function Q(le,ye,Ae){var ht;let Lt=null!==(ht=zo[le])&&void 0!==ht?ht:le;Ae&&(Lt+=`-${Ae}`);const zt=Lt.match(/\s|\//),ln=ye.match(/\s|\//);if(zt||ln){const Mn=[`Unable to register library "${Lt}" with version "${ye}":`];return zt&&Mn.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),zt&&ln&&Mn.push("and"),ln&&Mn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void Yt.warn(Mn.join(" "))}Ai(new K.uA(`${Lt}-version`,()=>({library:Lt,version:ye}),"VERSION"))}const xt="firebase-heartbeat-store";let In=null;function er(){return In||(In=function Qe(le,ye,{blocked:Ae,upgrade:ht,blocking:Lt,terminated:zt}={}){const ln=indexedDB.open(le,ye),Mn=rt(ln);return ht&&ln.addEventListener("upgradeneeded",xn=>{ht(rt(ln.result),xn.oldVersion,xn.newVersion,rt(ln.transaction),xn)}),Ae&&ln.addEventListener("blocked",xn=>Ae(xn.oldVersion,xn.newVersion,xn)),Mn.then(xn=>{zt&&xn.addEventListener("close",()=>zt()),Lt&&xn.addEventListener("versionchange",Sr=>Lt(Sr.oldVersion,Sr.newVersion,Sr))}).catch(()=>{}),Mn}("firebase-heartbeat-database",1,{upgrade:(le,ye)=>{if(0===ye)try{le.createObjectStore(xt)}catch(Ae){console.warn(Ae)}}}).catch(le=>{throw Ir.create("idb-open",{originalErrorMessage:le.message})})),In}function cr(){return(cr=(0,x.A)(function*(le){try{const Ae=(yield er()).transaction(xt),ht=yield Ae.objectStore(xt).get(yi(le));return yield Ae.done,ht}catch(ye){if(ye instanceof Pe.g)Yt.warn(ye.message);else{const Ae=Ir.create("idb-get",{originalErrorMessage:ye?.message});Yt.warn(Ae.message)}}})).apply(this,arguments)}function hn(le,ye){return ci.apply(this,arguments)}function ci(){return(ci=(0,x.A)(function*(le,ye){try{const ht=(yield er()).transaction(xt,"readwrite");yield ht.objectStore(xt).put(ye,yi(le)),yield ht.done}catch(Ae){if(Ae instanceof Pe.g)Yt.warn(Ae.message);else{const ht=Ir.create("idb-set",{originalErrorMessage:Ae?.message});Yt.warn(ht.message)}}})).apply(this,arguments)}function yi(le){return`${le.name}!${le.options.appId}`}class _o{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new Ct(Ae),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var ye=this;return(0,x.A)(function*(){var Ae,ht;try{const zt=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=yo();if(null==(null===(Ae=ye._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise,null==(null===(ht=ye._heartbeatsCache)||void 0===ht?void 0:ht.heartbeats))||ye._heartbeatsCache.lastSentHeartbeatDate===ln||ye._heartbeatsCache.heartbeats.some(Mn=>Mn.date===ln))return;if(ye._heartbeatsCache.heartbeats.push({date:ln,agent:zt}),ye._heartbeatsCache.heartbeats.length>30){const Mn=function Io(le){if(0===le.length)return-1;let ye=0,Ae=le[0].date;for(let ht=1;ht<le.length;ht++)le[ht].date<Ae&&(Ae=le[ht].date,ye=ht);return ye}(ye._heartbeatsCache.heartbeats);ye._heartbeatsCache.heartbeats.splice(Mn,1)}return ye._storage.overwrite(ye._heartbeatsCache)}catch(Lt){Yt.warn(Lt)}})()}getHeartbeatsHeader(){var ye=this;return(0,x.A)(function*(){var Ae;try{if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null==(null===(Ae=ye._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)||0===ye._heartbeatsCache.heartbeats.length)return"";const ht=yo(),{heartbeatsToSend:Lt,unsentEntries:zt}=function lr(le,ye=1024){const Ae=[];let ht=le.slice();for(const Lt of le){const zt=Ae.find(ln=>ln.agent===Lt.agent);if(zt){if(zt.dates.push(Lt.date),vo(Ae)>ye){zt.dates.pop();break}}else if(Ae.push({agent:Lt.agent,dates:[Lt.date]}),vo(Ae)>ye){Ae.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:ht}}(ye._heartbeatsCache.heartbeats),ln=(0,Pe.Uj)(JSON.stringify({version:2,heartbeats:Lt}));return ye._heartbeatsCache.lastSentHeartbeatDate=ht,zt.length>0?(ye._heartbeatsCache.heartbeats=zt,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),ln}catch(ht){return Yt.warn(ht),""}})()}}function yo(){return(new Date).toISOString().substring(0,10)}class Ct{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.A)(function*(){return!!(0,Pe.zW)()&&(0,Pe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,x.A)(function*(){if(yield ye._canUseIndexedDBPromise){const ht=yield function Er(le){return cr.apply(this,arguments)}(ye.app);return ht?.heartbeats?ht:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ye){var Ae=this;return(0,x.A)(function*(){var ht;if(yield Ae._canUseIndexedDBPromise){const zt=yield Ae.read();return hn(Ae.app,{lastSentHeartbeatDate:null!==(ht=ye.lastSentHeartbeatDate)&&void 0!==ht?ht:zt.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Ae=this;return(0,x.A)(function*(){var ht;if(yield Ae._canUseIndexedDBPromise){const zt=yield Ae.read();return hn(Ae.app,{lastSentHeartbeatDate:null!==(ht=ye.lastSentHeartbeatDate)&&void 0!==ht?ht:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...ye.heartbeats]})}})()}}function vo(le){return(0,Pe.Uj)(JSON.stringify({version:2,heartbeats:le})).length}!function Un(le){Ai(new K.uA("platform-logger",ye=>new Pt(ye),"PRIVATE")),Ai(new K.uA("heartbeat",ye=>new _o(ye),"PRIVATE")),Q(Jt,"0.11.4",le),Q(Jt,"0.11.4","esm2017"),Q("fire-js","")}("")},7908:(jt,qe,j)=>{function x(K,X){if(K){const Pe=K.indexOf(X);0<=Pe&&K.splice(Pe,1)}}j.d(qe,{o:()=>x})},7953:(jt,qe,j)=>{j.d(qe,{T:()=>K});var x=j(8071);function K(X){return Symbol.asyncIterator&&(0,x.T)(X?.[Symbol.asyncIterator])}},8041:(jt,qe,j)=>{j.d(qe,{$b:()=>K,Vy:()=>he});const x=[];var K=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(K||{});const X={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Pe=K.INFO,U={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Ne=(ie,se,...Oe)=>{if(se<ie.logLevel)return;const Ue=(new Date).toISOString(),ze=U[se];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ze](`[${Ue}]  ${ie.name}:`,...Oe)};class he{constructor(se){this.name=se,this._logLevel=Pe,this._logHandler=Ne,this._userLogHandler=null,x.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in K))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?X[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...se),this._logHandler(this,K.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...se),this._logHandler(this,K.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,K.INFO,...se),this._logHandler(this,K.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,K.WARN,...se),this._logHandler(this,K.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...se),this._logHandler(this,K.ERROR,...se)}}},8071:(jt,qe,j)=>{function x(K){return"function"==typeof K}j.d(qe,{T:()=>x})},8359:(jt,qe,j)=>{j.d(qe,{Kn:()=>Ne,yU:()=>U,Uv:()=>he});var x=j(8071);const X=(0,j(1853).L)(z=>function(se){z(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Oe,Ue)=>`${Ue+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Pe=j(7908);class U{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ze of se)ze.remove(this);else se.remove(this);const{initialTeardown:Oe}=this;if((0,x.T)(Oe))try{Oe()}catch(ze){ie=ze instanceof X?ze.errors:[ze]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ze of Ue)try{ne(ze)}catch(it){ie=ie??[],it instanceof X?ie=[...ie,...it.errors]:ie.push(it)}}if(ie)throw new X(ie)}}add(ie){var se;if(ie&&ie!==this)if(this.closed)ne(ie);else{if(ie instanceof U){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ie)}}_hasParent(ie){const{_parentage:se}=this;return se===ie||Array.isArray(se)&&se.includes(ie)}_addParent(ie){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ie),se):se?[se,ie]:ie}_removeParent(ie){const{_parentage:se}=this;se===ie?this._parentage=null:Array.isArray(se)&&(0,Pe.o)(se,ie)}remove(ie){const{_finalizers:se}=this;se&&(0,Pe.o)(se,ie),ie instanceof U&&ie._removeParent(this)}}U.EMPTY=(()=>{const z=new U;return z.closed=!0,z})();const Ne=U.EMPTY;function he(z){return z instanceof U||z&&"closed"in z&&(0,x.T)(z.remove)&&(0,x.T)(z.add)&&(0,x.T)(z.unsubscribe)}function ne(z){(0,x.T)(z)?z():z.unsubscribe()}},8455:(jt,qe,j)=>{j.d(qe,{H:()=>we});var x=j(8750),K=j(941),X=j(6745),Ne=j(1985),ne=j(4761),z=j(8071),ie=j(5225);function Oe(Qe,Ve){if(!Qe)throw new Error("Iterable cannot be null");return new Ne.c(tt=>{(0,ie.N)(tt,Ve,()=>{const pt=Qe[Symbol.asyncIterator]();(0,ie.N)(tt,Ve,()=>{pt.next().then(Sn=>{Sn.done?tt.complete():tt.next(Sn.value)})},0,!0)})})}var Ue=j(5055),ze=j(9858),it=j(7441),wt=j(5397),Dt=j(7953),mt=j(591),Ft=j(5196);function we(Qe,Ve){return Ve?function rt(Qe,Ve){if(null!=Qe){if((0,Ue.l)(Qe))return function Pe(Qe,Ve){return(0,x.Tg)(Qe).pipe((0,X._)(Ve),(0,K.Q)(Ve))}(Qe,Ve);if((0,it.X)(Qe))return function he(Qe,Ve){return new Ne.c(tt=>{let pt=0;return Ve.schedule(function(){pt===Qe.length?tt.complete():(tt.next(Qe[pt++]),tt.closed||this.schedule())})})}(Qe,Ve);if((0,ze.y)(Qe))return function U(Qe,Ve){return(0,x.Tg)(Qe).pipe((0,X._)(Ve),(0,K.Q)(Ve))}(Qe,Ve);if((0,Dt.T)(Qe))return Oe(Qe,Ve);if((0,wt.x)(Qe))return function se(Qe,Ve){return new Ne.c(tt=>{let pt;return(0,ie.N)(tt,Ve,()=>{pt=Qe[ne.l](),(0,ie.N)(tt,Ve,()=>{let Sn,rr;try{({value:Sn,done:rr}=pt.next())}catch(Pt){return void tt.error(Pt)}rr?tt.complete():tt.next(Sn)},0,!0)}),()=>(0,z.T)(pt?.return)&&pt.return()})}(Qe,Ve);if((0,Ft.U)(Qe))return function Zt(Qe,Ve){return Oe((0,Ft.C)(Qe),Ve)}(Qe,Ve)}throw(0,mt.L)(Qe)}(Qe,Ve):(0,x.Tg)(Qe)}},8496:(jt,qe,j)=>{function x(K,X){return K.reduce((Pe,U,Ne)=>(Pe[U]=X[Ne],Pe),{})}j.d(qe,{e:()=>x})},8750:(jt,qe,j)=>{j.d(qe,{Tg:()=>Ue});var x=j(1635),K=j(7441),X=j(9858),Pe=j(1985),U=j(5055),Ne=j(7953),he=j(591),ne=j(5397),z=j(5196),ie=j(8071),se=j(5334),Oe=j(3494);function Ue(rt){if(rt instanceof Pe.c)return rt;if(null!=rt){if((0,U.l)(rt))return function ze(rt){return new Pe.c(we=>{const Qe=rt[Oe.s]();if((0,ie.T)(Qe.subscribe))return Qe.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,K.X)(rt))return function it(rt){return new Pe.c(we=>{for(let Qe=0;Qe<rt.length&&!we.closed;Qe++)we.next(rt[Qe]);we.complete()})}(rt);if((0,X.y)(rt))return function wt(rt){return new Pe.c(we=>{rt.then(Qe=>{we.closed||(we.next(Qe),we.complete())},Qe=>we.error(Qe)).then(null,se.m)})}(rt);if((0,Ne.T)(rt))return mt(rt);if((0,ne.x)(rt))return function Dt(rt){return new Pe.c(we=>{for(const Qe of rt)if(we.next(Qe),we.closed)return;we.complete()})}(rt);if((0,z.U)(rt))return function Ft(rt){return mt((0,z.C)(rt))}(rt)}throw(0,he.L)(rt)}function mt(rt){return new Pe.c(we=>{(function Zt(rt,we){var Qe,Ve,tt,pt;return(0,x.sH)(this,void 0,void 0,function*(){try{for(Qe=(0,x.xN)(rt);!(Ve=yield Qe.next()).done;)if(we.next(Ve.value),we.closed)return}catch(Sn){tt={error:Sn}}finally{try{Ve&&!Ve.done&&(pt=Qe.return)&&(yield pt.call(Qe))}finally{if(tt)throw tt.error}}we.complete()})})(rt,we).catch(Qe=>we.error(Qe))})}},8834:(jt,qe,j)=>{j.d(qe,{D:()=>Jr,G:()=>er,I:()=>hn,a7:()=>Sr,a9:()=>X});var x=j(9498),K=j(2300);let X=(()=>{class C extends K.a{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(M,B){super(),this._platformLocation=M,null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(M){const B=(0,K.j)(this._baseHref,M);return B.length>0?"#"+B:B}pushState(M,B,te,oe){const ot=this.prepareExternalUrl(te+(0,K.n)(oe))||this._platformLocation.pathname;this._platformLocation.pushState(M,B,ot)}replaceState(M,B,te,oe){const ot=this.prepareExternalUrl(te+(0,K.n)(oe))||this._platformLocation.pathname;this._platformLocation.replaceState(M,B,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static \u0275fac=function(B){return new(B||C)(x.KVO(K.c),x.KVO(K.A,8))};static \u0275prov=x.jDH({token:C,factory:C.\u0275fac})}return C})();class In{$implicit;ngForOf;index;count;constructor(Y,M,B,te){this.$implicit=Y,this.ngForOf=M,this.index=B,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class C{_viewContainer;_template;_differs;set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(M,B,te){this._viewContainer=M,this._template=B,this._differs=te}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const B=this._viewContainer;M.forEachOperation((te,oe,ot)=>{if(null==te.previousIndex)B.createEmbeddedView(this._template,new In(te.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)B.remove(null===oe?void 0:oe);else if(null!==oe){const bt=B.get(oe);B.move(bt,ot),Er(bt,te)}});for(let te=0,oe=B.length;te<oe;te++){const bt=B.get(te).context;bt.index=te,bt.count=oe,bt.ngForOf=this._ngForOf}M.forEachIdentityChange(te=>{Er(B.get(te.currentIndex),te)})}static ngTemplateContextGuard(M,B){return!0}static \u0275fac=function(B){return new(B||C)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3))};static \u0275dir=x.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return C})();function Er(C,Y){C.context.$implicit=Y.item}let hn=(()=>{class C{_viewContainer;_context=new ci;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(M,B){this._viewContainer=M,this._thenTemplateRef=B}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){yi(M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){yi(M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(M,B){return!0}static \u0275fac=function(B){return new(B||C)(x.rXU(x.c1b),x.rXU(x.C4Q))};static \u0275dir=x.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return C})();class ci{$implicit=null;ngIf=null}function yi(C,Y){if(C&&!C.createEmbeddedView)throw new x.wOt(2020,!1)}const xn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Sr=(()=>{class C{transform(M){if(null==M)return null;if("string"!=typeof M)throw function ye(C,Y){return new x.wOt(2100,!1)}();return M.replace(xn,B=>B[0].toUpperCase()+B.slice(1).toLowerCase())}static \u0275fac=function(B){return new(B||C)};static \u0275pipe=x.EJ8({name:"titlecase",type:C,pure:!0})}return C})(),Jr=(()=>{class C{static \u0275fac=function(B){return new(B||C)};static \u0275mod=x.$C({type:C});static \u0275inj=x.G2t({})}return C})()},9079:(jt,qe,j)=>{j.d(qe,{YV:()=>se,ot:()=>z});var x=j(9498),K=j(1985);function z(Ue,ze){const it=!ze?.manualCleanup;it&&!ze?.injector&&(0,x.Af3)(z);const wt=it?ze?.injector?.get(x.abz)??(0,x.WQX)(x.abz):null,Dt=function ie(Ue=Object.is){return(ze,it)=>1===ze.kind&&1===it.kind&&Ue(ze.value,it.value)}(ze?.equal);let mt;mt=(0,x.vPA)(ze?.requireSync?{kind:0}:{kind:1,value:ze?.initialValue},{equal:Dt});const Ft=Ue.subscribe({next:Zt=>mt.set({kind:1,value:Zt}),error:Zt=>{if(ze?.rejectErrors)throw Zt;mt.set({kind:2,error:Zt})}});if(ze?.requireSync&&0===mt().kind)throw new x.wOt(601,!1);return wt?.onDestroy(Ft.unsubscribe.bind(Ft)),(0,x.EWP)(()=>{const Zt=mt();switch(Zt.kind){case 1:return Zt.value;case 2:throw Zt.error;case 0:throw new x.wOt(601,!1)}},{equal:ze?.equal})}function se(Ue){void 0===Ue&&((0,x.Af3)(se),Ue=(0,x.WQX)(x.zZn));const ze=Ue.get(x.u5s);return it=>new K.c(wt=>{const Dt=ze.add();let mt=!1;function Ft(){mt||(Dt(),mt=!0)}const Zt=it.subscribe({next:rt=>{wt.next(rt),Ft()},complete:()=>{wt.complete(),Ft()},error:rt=>{wt.error(rt),Ft()}});return Zt.add(()=>{wt.unsubscribe(),Ft()}),Zt})}},9084:(jt,qe,j)=>{var x=j(2300);function K(N,F){F=encodeURIComponent(F);for(const k of N.split(";")){const q=k.indexOf("="),[pe,xe]=-1==q?[k,""]:[k.slice(0,q),k.slice(q+1)];if(pe.trim()===F)return decodeURIComponent(xe)}return null}function Ne(N){return"server"===N}class he{}var ne=j(460),z=j(9498);const ie=new z.nKC("");let se=(()=>{class N{_zone;_plugins;_eventNameToPlugin=new Map;constructor(k,q){this._zone=q,k.forEach(pe=>{pe.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,q,pe,xe){return this._findPluginFor(q).addEventListener(k,q,pe,xe)}getZone(){return this._zone}_findPluginFor(k){let q=this._eventNameToPlugin.get(k);if(q)return q;if(q=this._plugins.find(xe=>xe.supports(k)),!q)throw new z.wOt(5101,!1);return this._eventNameToPlugin.set(k,q),q}static \u0275fac=function(q){return new(q||N)(z.KVO(ie),z.KVO(z.SKi))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();class Oe{_doc;constructor(F){this._doc=F}manager}const Ue="ng-app-id";function ze(N){for(const F of N)F.remove()}function it(N,F){const k=F.createElement("style");return k.textContent=N,k}function Dt(N,F){const k=F.createElement("link");return k.setAttribute("rel","stylesheet"),k.setAttribute("href",N),k}let mt=(()=>{class N{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(k,q,pe,xe={}){this.doc=k,this.appId=q,this.nonce=pe,this.isServer=Ne(xe),function wt(N,F,k,q){const pe=N.head?.querySelectorAll(`style[${Ue}="${F}"],link[${Ue}="${F}"]`);if(pe)for(const xe of pe)xe.removeAttribute(Ue),xe instanceof HTMLLinkElement?q.set(xe.href.slice(xe.href.lastIndexOf("/")+1),{usage:0,elements:[xe]}):xe.textContent&&k.set(xe.textContent,{usage:0,elements:[xe]})}(k,q,this.inline,this.external),this.hosts.add(k.head)}addStyles(k,q){for(const pe of k)this.addUsage(pe,this.inline,it);q?.forEach(pe=>this.addUsage(pe,this.external,Dt))}removeStyles(k,q){for(const pe of k)this.removeUsage(pe,this.inline);q?.forEach(pe=>this.removeUsage(pe,this.external))}addUsage(k,q,pe){const xe=q.get(k);xe?xe.usage++:q.set(k,{usage:1,elements:[...this.hosts].map(et=>this.addElement(et,pe(k,this.doc)))})}removeUsage(k,q){const pe=q.get(k);pe&&(pe.usage--,pe.usage<=0&&(ze(pe.elements),q.delete(k)))}ngOnDestroy(){for(const[,{elements:k}]of[...this.inline,...this.external])ze(k);this.hosts.clear()}addHost(k){this.hosts.add(k);for(const[q,{elements:pe}]of this.inline)pe.push(this.addElement(k,it(q,this.doc)));for(const[q,{elements:pe}]of this.external)pe.push(this.addElement(k,Dt(q,this.doc)))}removeHost(k){this.hosts.delete(k)}addElement(k,q){return this.nonce&&q.setAttribute("nonce",this.nonce),this.isServer&&q.setAttribute(Ue,this.appId),k.appendChild(q)}static \u0275fac=function(q){return new(q||N)(z.KVO(ne.D),z.KVO(z.sZ2),z.KVO(z.BIS,8),z.KVO(z.Agw))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zt=/%COMP%/g,Sn=new z.nKC("",{providedIn:"root",factory:()=>!0});function $t(N,F){return F.map(k=>k.replace(Zt,N))}let fn=(()=>{class N{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(k,q,pe,xe,et,Vt,Kt,Tn=null,Cn=null){this.eventManager=k,this.sharedStylesHost=q,this.appId=pe,this.removeStylesOnCompDestroy=xe,this.doc=et,this.platformId=Vt,this.ngZone=Kt,this.nonce=Tn,this.tracingService=Cn,this.platformIsServer=Ne(Vt),this.defaultRenderer=new Yt(k,et,Kt,this.platformIsServer,this.tracingService)}createRenderer(k,q){if(!k||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===z.gXe.ShadowDom&&(q={...q,encapsulation:z.gXe.Emulated});const pe=this.getOrCreateRenderer(k,q);return pe instanceof Me?pe.applyToHost(k):pe instanceof Ee&&pe.applyStyles(),pe}getOrCreateRenderer(k,q){const pe=this.rendererByCompId;let xe=pe.get(q.id);if(!xe){const et=this.doc,Vt=this.ngZone,Kt=this.eventManager,Tn=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,Wn=this.platformIsServer,dr=this.tracingService;switch(q.encapsulation){case z.gXe.Emulated:xe=new Me(Kt,Tn,q,this.appId,Cn,et,Vt,Wn,dr);break;case z.gXe.ShadowDom:return new rn(Kt,Tn,k,q,et,Vt,this.nonce,Wn,dr);default:xe=new Ee(Kt,Tn,q,Cn,et,Vt,Wn,dr)}pe.set(q.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(k){this.rendererByCompId.delete(k)}static \u0275fac=function(q){return new(q||N)(z.KVO(se),z.KVO(mt),z.KVO(z.sZ2),z.KVO(Sn),z.KVO(ne.D),z.KVO(z.Agw),z.KVO(z.SKi),z.KVO(z.BIS),z.KVO(z.Lf2,8))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();class Yt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(F,k,q,pe,xe){this.eventManager=F,this.doc=k,this.ngZone=q,this.platformIsServer=pe,this.tracingService=xe}destroy(){}destroyNode=null;createElement(F,k){return k?this.doc.createElementNS(Ft[k]||k,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,k){(br(F)?F.content:F).appendChild(k)}insertBefore(F,k,q){F&&(br(F)?F.content:F).insertBefore(k,q)}removeChild(F,k){k.remove()}selectRootElement(F,k){let q="string"==typeof F?this.doc.querySelector(F):F;if(!q)throw new z.wOt(-5104,!1);return k||(q.textContent=""),q}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,k,q,pe){if(pe){k=pe+":"+k;const xe=Ft[pe];xe?F.setAttributeNS(xe,k,q):F.setAttribute(k,q)}else F.setAttribute(k,q)}removeAttribute(F,k,q){if(q){const pe=Ft[q];pe?F.removeAttributeNS(pe,k):F.removeAttribute(`${q}:${k}`)}else F.removeAttribute(k)}addClass(F,k){F.classList.add(k)}removeClass(F,k){F.classList.remove(k)}setStyle(F,k,q,pe){pe&(z.czy.DashCase|z.czy.Important)?F.style.setProperty(k,q,pe&z.czy.Important?"important":""):F.style[k]=q}removeStyle(F,k,q){q&z.czy.DashCase?F.style.removeProperty(k):F.style[k]=""}setProperty(F,k,q){null!=F&&(F[k]=q)}setValue(F,k){F.nodeValue=k}listen(F,k,q,pe){if("string"==typeof F&&!(F=(0,x.g)().getGlobalEventTarget(this.doc,F)))throw new z.wOt(5102,!1);let xe=this.decoratePreventDefault(q);return this.tracingService?.wrapEventListener&&(xe=this.tracingService.wrapEventListener(F,k,xe)),this.eventManager.addEventListener(F,k,xe,pe)}decoratePreventDefault(F){return k=>{if("__ngUnwrap__"===k)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(k)):F(k))&&k.preventDefault()}}}function br(N){return"TEMPLATE"===N.tagName&&void 0!==N.content}class rn extends Yt{sharedStylesHost;hostEl;shadowRoot;constructor(F,k,q,pe,xe,et,Vt,Kt,Tn){super(F,xe,et,Kt,Tn),this.sharedStylesHost=k,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Cn=pe.styles;Cn=$t(pe.id,Cn);for(const dr of Cn){const an=document.createElement("style");Vt&&an.setAttribute("nonce",Vt),an.textContent=dr,this.shadowRoot.appendChild(an)}const Wn=pe.getExternalStyles?.();if(Wn)for(const dr of Wn){const an=Dt(dr,xe);Vt&&an.setAttribute("nonce",Vt),this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,k){return super.appendChild(this.nodeOrShadowRoot(F),k)}insertBefore(F,k,q){return super.insertBefore(this.nodeOrShadowRoot(F),k,q)}removeChild(F,k){return super.removeChild(null,k)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ee extends Yt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(F,k,q,pe,xe,et,Vt,Kt,Tn){super(F,xe,et,Vt,Kt),this.sharedStylesHost=k,this.removeStylesOnCompDestroy=pe;let Cn=q.styles;this.styles=Tn?$t(Tn,Cn):Cn,this.styleUrls=q.getExternalStyles?.(Tn)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Me extends Ee{contentAttr;hostAttr;constructor(F,k,q,pe,xe,et,Vt,Kt,Tn){const Cn=pe+"-"+q.id;super(F,k,q,xe,et,Vt,Kt,Tn,Cn),this.contentAttr=function rr(N){return"_ngcontent-%COMP%".replace(Zt,N)}(Cn),this.hostAttr=function Pt(N){return"_nghost-%COMP%".replace(Zt,N)}(Cn)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,k){const q=super.createElement(F,k);return super.setAttribute(q,this.contentAttr,""),q}}class $e extends x.D{supportsDOMEvents=!0}class Le extends $e{static makeCurrent(){(0,x.s)(new Le)}onAndCancel(F,k,q,pe){return F.addEventListener(k,q,pe),()=>{F.removeEventListener(k,q,pe)}}dispatchEvent(F,k){F.dispatchEvent(k)}remove(F){F.remove()}createElement(F,k){return(k=k||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,k){return"window"===k?window:"document"===k?F:"body"===k?F.body:null}getBaseHref(F){const k=function Je(){return Ye=Ye||document.querySelector("base"),Ye?Ye.getAttribute("href"):null}();return null==k?null:function Rt(N){return new URL(N,document.baseURI).pathname}(k)}resetBaseElement(){Ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return K(document.cookie,F)}}let Ye=null,Rn=(()=>{class N{build(){return new XMLHttpRequest}static \u0275fac=function(q){return new(q||N)};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})(),It=(()=>{class N extends Oe{constructor(k){super(k)}supports(k){return!0}addEventListener(k,q,pe,xe){return k.addEventListener(q,pe,xe),()=>this.removeEventListener(k,q,pe,xe)}removeEventListener(k,q,pe,xe){return k.removeEventListener(q,pe,xe)}static \u0275fac=function(q){return new(q||N)(z.KVO(ne.D))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();const sn=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zr={alt:N=>N.altKey,control:N=>N.ctrlKey,meta:N=>N.metaKey,shift:N=>N.shiftKey};let Dn=(()=>{class N extends Oe{constructor(k){super(k)}supports(k){return null!=N.parseEventName(k)}addEventListener(k,q,pe,xe){const et=N.parseEventName(q),Vt=N.eventCallback(et.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.g)().onAndCancel(k,et.domEventName,Vt,xe))}static parseEventName(k){const q=k.toLowerCase().split("."),pe=q.shift();if(0===q.length||"keydown"!==pe&&"keyup"!==pe)return null;const xe=N._normalizeKey(q.pop());let et="",Vt=q.indexOf("code");if(Vt>-1&&(q.splice(Vt,1),et="code."),sn.forEach(Tn=>{const Cn=q.indexOf(Tn);Cn>-1&&(q.splice(Cn,1),et+=Tn+".")}),et+=xe,0!=q.length||0===xe.length)return null;const Kt={};return Kt.domEventName=pe,Kt.fullKey=et,Kt}static matchEventFullKeyCode(k,q){let pe=Ht[k.key]||k.key,xe="";return q.indexOf("code.")>-1&&(pe=k.code,xe="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),sn.forEach(et=>{et!==pe&&(0,Zr[et])(k)&&(xe+=et+".")}),xe+=pe,xe===q)}static eventCallback(k,q,pe){return xe=>{N.matchEventFullKeyCode(xe,k)&&pe.runGuarded(()=>q(xe))}}static _normalizeKey(k){return"esc"===k?"escape":k}static \u0275fac=function(q){return new(q||N)(z.KVO(ne.D))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();function Jn(N){return{appProviders:[...ai,...N?.providers??[]],platformProviders:io}}const io=[{provide:z.Agw,useValue:"browser"},{provide:z.PLl,useValue:function mo(){Le.makeCurrent()},multi:!0},{provide:ne.D,useFactory:function $i(){return(0,z.TL$)(document),document}}],ai=[{provide:z.H8p,useValue:"root"},{provide:z.zcH,useFactory:function ro(){return new z.zcH}},{provide:ie,useClass:It,multi:!0,deps:[ne.D]},{provide:ie,useClass:Dn,multi:!0,deps:[ne.D]},fn,mt,se,{provide:z._9s,useExisting:fn},{provide:he,useClass:Rn},[]];var Yr=j(5528),oo=(j(467),j(274)),Ai=j(5964),Qr=j(6354),Wo=j(980),pr=j(5558),ui=j(7673),ki=j(1985),_i=j(8455);class Ir{}class Ur{}class Gn{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(F){F?"string"==typeof F?this.lazyInit=()=>{this.headers=new Map,F.split("\n").forEach(k=>{const q=k.indexOf(":");if(q>0){const pe=k.slice(0,q),xe=k.slice(q+1).trim();this.addHeaderEntry(pe,xe)}})}:typeof Headers<"u"&&F instanceof Headers?(this.headers=new Map,F.forEach((k,q)=>{this.addHeaderEntry(q,k)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(F).forEach(([k,q])=>{this.setHeaderEntries(k,q)})}:this.headers=new Map}has(F){return this.init(),this.headers.has(F.toLowerCase())}get(F){this.init();const k=this.headers.get(F.toLowerCase());return k&&k.length>0?k[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(F){return this.init(),this.headers.get(F.toLowerCase())||null}append(F,k){return this.clone({name:F,value:k,op:"a"})}set(F,k){return this.clone({name:F,value:k,op:"s"})}delete(F,k){return this.clone({name:F,value:k,op:"d"})}maybeSetNormalizedName(F,k){this.normalizedNames.has(k)||this.normalizedNames.set(k,F)}init(){this.lazyInit&&(this.lazyInit instanceof Gn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(F=>this.applyUpdate(F)),this.lazyUpdate=null))}copyFrom(F){F.init(),Array.from(F.headers.keys()).forEach(k=>{this.headers.set(k,F.headers.get(k)),this.normalizedNames.set(k,F.normalizedNames.get(k))})}clone(F){const k=new Gn;return k.lazyInit=this.lazyInit&&this.lazyInit instanceof Gn?this.lazyInit:this,k.lazyUpdate=(this.lazyUpdate||[]).concat([F]),k}applyUpdate(F){const k=F.name.toLowerCase();switch(F.op){case"a":case"s":let q=F.value;if("string"==typeof q&&(q=[q]),0===q.length)return;this.maybeSetNormalizedName(F.name,k);const pe=("a"===F.op?this.headers.get(k):void 0)||[];pe.push(...q),this.headers.set(k,pe);break;case"d":const xe=F.value;if(xe){let et=this.headers.get(k);if(!et)return;et=et.filter(Vt=>-1===xe.indexOf(Vt)),0===et.length?(this.headers.delete(k),this.normalizedNames.delete(k)):this.headers.set(k,et)}else this.headers.delete(k),this.normalizedNames.delete(k)}}addHeaderEntry(F,k){const q=F.toLowerCase();this.maybeSetNormalizedName(F,q),this.headers.has(q)?this.headers.get(q).push(k):this.headers.set(q,[k])}setHeaderEntries(F,k){const q=(Array.isArray(k)?k:[k]).map(xe=>xe.toString()),pe=F.toLowerCase();this.headers.set(pe,q),this.maybeSetNormalizedName(F,pe)}forEach(F){this.init(),Array.from(this.normalizedNames.keys()).forEach(k=>F(this.normalizedNames.get(k),this.headers.get(k)))}}class gr{encodeKey(F){return so(F)}encodeValue(F){return so(F)}decodeKey(F){return decodeURIComponent(F)}decodeValue(F){return decodeURIComponent(F)}}const lu=/%(\d[a-f0-9])/gi,vn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function so(N){return encodeURIComponent(N).replace(lu,(F,k)=>vn[k]??F)}function Pn(N){return`${N}`}class ae{map;encoder;updates=null;cloneFrom=null;constructor(F={}){if(this.encoder=F.encoder||new gr,F.fromString){if(F.fromObject)throw new z.wOt(2805,!1);this.map=function Ds(N,F){const k=new Map;return N.length>0&&N.replace(/^\?/,"").split("&").forEach(pe=>{const xe=pe.indexOf("="),[et,Vt]=-1==xe?[F.decodeKey(pe),""]:[F.decodeKey(pe.slice(0,xe)),F.decodeValue(pe.slice(xe+1))],Kt=k.get(et)||[];Kt.push(Vt),k.set(et,Kt)}),k}(F.fromString,this.encoder)}else F.fromObject?(this.map=new Map,Object.keys(F.fromObject).forEach(k=>{const q=F.fromObject[k],pe=Array.isArray(q)?q.map(Pn):[Pn(q)];this.map.set(k,pe)})):this.map=null}has(F){return this.init(),this.map.has(F)}get(F){this.init();const k=this.map.get(F);return k?k[0]:null}getAll(F){return this.init(),this.map.get(F)||null}keys(){return this.init(),Array.from(this.map.keys())}append(F,k){return this.clone({param:F,value:k,op:"a"})}appendAll(F){const k=[];return Object.keys(F).forEach(q=>{const pe=F[q];Array.isArray(pe)?pe.forEach(xe=>{k.push({param:q,value:xe,op:"a"})}):k.push({param:q,value:pe,op:"a"})}),this.clone(k)}set(F,k){return this.clone({param:F,value:k,op:"s"})}delete(F,k){return this.clone({param:F,value:k,op:"d"})}toString(){return this.init(),this.keys().map(F=>{const k=this.encoder.encodeKey(F);return this.map.get(F).map(q=>k+"="+this.encoder.encodeValue(q)).join("&")}).filter(F=>""!==F).join("&")}clone(F){const k=new ae({encoder:this.encoder});return k.cloneFrom=this.cloneFrom||this,k.updates=(this.updates||[]).concat(F),k}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(F=>this.map.set(F,this.cloneFrom.map.get(F))),this.updates.forEach(F=>{switch(F.op){case"a":case"s":const k=("a"===F.op?this.map.get(F.param):void 0)||[];k.push(Pn(F.value)),this.map.set(F.param,k);break;case"d":if(void 0===F.value){this.map.delete(F.param);break}{let q=this.map.get(F.param)||[];const pe=q.indexOf(Pn(F.value));-1!==pe&&q.splice(pe,1),q.length>0?this.map.set(F.param,q):this.map.delete(F.param)}}}),this.cloneFrom=this.updates=null)}}class me{map=new Map;set(F,k){return this.map.set(F,k),this}get(F){return this.map.has(F)||this.map.set(F,F.defaultValue()),this.map.get(F)}delete(F){return this.map.delete(F),this}has(F){return this.map.has(F)}keys(){return this.map.keys()}}function de(N){return typeof ArrayBuffer<"u"&&N instanceof ArrayBuffer}function At(N){return typeof Blob<"u"&&N instanceof Blob}function xt(N){return typeof FormData<"u"&&N instanceof FormData}const er="Content-Type",cr="X-Request-URL",hn="text/plain",ci="application/json",yi=`${ci}, ${hn}, */*`;class zi{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(F,k,q,pe){let xe;if(this.url=k,this.method=F.toUpperCase(),function Ke(N){switch(N){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pe?(this.body=void 0!==q?q:null,xe=pe):xe=q,xe&&(this.reportProgress=!!xe.reportProgress,this.withCredentials=!!xe.withCredentials,xe.responseType&&(this.responseType=xe.responseType),xe.headers&&(this.headers=xe.headers),xe.context&&(this.context=xe.context),xe.params&&(this.params=xe.params),this.transferCache=xe.transferCache),this.headers??=new Gn,this.context??=new me,this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=k;else{const Vt=k.indexOf("?");this.urlWithParams=k+(-1===Vt?"?":Vt<k.length-1?"&":"")+et}}else this.params=new ae,this.urlWithParams=k}serializeBody(){return null===this.body?null:"string"==typeof this.body||de(this.body)||At(this.body)||xt(this.body)||function In(N){return typeof URLSearchParams<"u"&&N instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:At(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?hn:this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?ci:null}clone(F={}){const k=F.method||this.method,q=F.url||this.url,pe=F.responseType||this.responseType,xe=F.transferCache??this.transferCache,et=void 0!==F.body?F.body:this.body,Vt=F.withCredentials??this.withCredentials,Kt=F.reportProgress??this.reportProgress;let Tn=F.headers||this.headers,Cn=F.params||this.params;const Wn=F.context??this.context;return void 0!==F.setHeaders&&(Tn=Object.keys(F.setHeaders).reduce((dr,an)=>dr.set(an,F.setHeaders[an]),Tn)),F.setParams&&(Cn=Object.keys(F.setParams).reduce((dr,an)=>dr.set(an,F.setParams[an]),Cn)),new zi(k,q,et,{params:Cn,headers:Tn,context:Wn,reportProgress:Kt,responseType:pe,withCredentials:Vt,transferCache:xe})}}var xi=function(N){return N[N.Sent=0]="Sent",N[N.UploadProgress=1]="UploadProgress",N[N.ResponseHeader=2]="ResponseHeader",N[N.DownloadProgress=3]="DownloadProgress",N[N.Response=4]="Response",N[N.User=5]="User",N}(xi||{});class _o{headers;status;statusText;url;ok;type;constructor(F,k=200,q="OK"){this.headers=F.headers||new Gn,this.status=void 0!==F.status?F.status:k,this.statusText=F.statusText||q,this.url=F.url||null,this.ok=this.status>=200&&this.status<300}}class yo extends _o{constructor(F={}){super(F)}type=xi.ResponseHeader;clone(F={}){return new yo({headers:F.headers||this.headers,status:void 0!==F.status?F.status:this.status,statusText:F.statusText||this.statusText,url:F.url||this.url||void 0})}}class lr extends _o{body;constructor(F={}){super(F),this.body=void 0!==F.body?F.body:null}type=xi.Response;clone(F={}){return new lr({body:void 0!==F.body?F.body:this.body,headers:F.headers||this.headers,status:void 0!==F.status?F.status:this.status,statusText:F.statusText||this.statusText,url:F.url||this.url||void 0})}}class Ct extends _o{name="HttpErrorResponse";message;error;ok=!1;constructor(F){super(F,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${F.url||"(unknown url)"}`:`Http failure response for ${F.url||"(unknown url)"}: ${F.status} ${F.statusText}`,this.error=F.error||null}}function le(N,F){return{body:F,headers:N.headers,context:N.context,observe:N.observe,params:N.params,reportProgress:N.reportProgress,responseType:N.responseType,withCredentials:N.withCredentials,transferCache:N.transferCache}}let ye=(()=>{class N{handler;constructor(k){this.handler=k}request(k,q,pe={}){let xe;if(k instanceof zi)xe=k;else{let Kt,Tn;Kt=pe.headers instanceof Gn?pe.headers:new Gn(pe.headers),pe.params&&(Tn=pe.params instanceof ae?pe.params:new ae({fromObject:pe.params})),xe=new zi(k,q,void 0!==pe.body?pe.body:null,{headers:Kt,context:pe.context,params:Tn,reportProgress:pe.reportProgress,responseType:pe.responseType||"json",withCredentials:pe.withCredentials,transferCache:pe.transferCache})}const et=(0,ui.of)(xe).pipe((0,oo.H)(Kt=>this.handler.handle(Kt)));if(k instanceof zi||"events"===pe.observe)return et;const Vt=et.pipe((0,Ai.p)(Kt=>Kt instanceof lr));switch(pe.observe||"body"){case"body":switch(xe.responseType){case"arraybuffer":return Vt.pipe((0,Qr.T)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof ArrayBuffer))throw new z.wOt(2806,!1);return Kt.body}));case"blob":return Vt.pipe((0,Qr.T)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof Blob))throw new z.wOt(2807,!1);return Kt.body}));case"text":return Vt.pipe((0,Qr.T)(Kt=>{if(null!==Kt.body&&"string"!=typeof Kt.body)throw new z.wOt(2808,!1);return Kt.body}));default:return Vt.pipe((0,Qr.T)(Kt=>Kt.body))}case"response":return Vt;default:throw new z.wOt(2809,!1)}}delete(k,q={}){return this.request("DELETE",k,q)}get(k,q={}){return this.request("GET",k,q)}head(k,q={}){return this.request("HEAD",k,q)}jsonp(k,q){return this.request("JSONP",k,{params:(new ae).append(q,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(k,q={}){return this.request("OPTIONS",k,q)}patch(k,q,pe={}){return this.request("PATCH",k,le(pe,q))}post(k,q,pe={}){return this.request("POST",k,le(pe,q))}put(k,q,pe={}){return this.request("PUT",k,le(pe,q))}static \u0275fac=function(q){return new(q||N)(z.KVO(Ir))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();const Lt=new z.nKC("");function Sr(N,F){return F(N)}const Ro=new z.nKC(""),Wt=new z.nKC(""),Po=new z.nKC("",{providedIn:"root",factory:()=>!0});let ss=(()=>{class N extends Ir{backend;injector;chain=null;pendingTasks=(0,z.WQX)(z.Ua0);contributeToStability=(0,z.WQX)(Po);constructor(k,q){super(),this.backend=k,this.injector=q}handle(k){if(null===this.chain){const q=Array.from(new Set([...this.injector.get(Ro),...this.injector.get(Wt,[])]));this.chain=q.reduceRight((pe,xe)=>function Go(N,F,k){return(q,pe)=>(0,z.N4e)(k,()=>F(q,xe=>N(xe,pe)))}(pe,xe,this.injector),Sr)}if(this.contributeToStability){const q=this.pendingTasks.add();return this.chain(k,pe=>this.backend.handle(pe)).pipe((0,Wo.j)(()=>this.pendingTasks.remove(q)))}return this.chain(k,q=>this.backend.handle(q))}static \u0275fac=function(q){return new(q||N)(z.KVO(Ur),z.KVO(z.uvJ))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();const C=/^\)\]\}',?\n/,Y=RegExp(`^${cr}:`,"m");let B=(()=>{class N{xhrFactory;constructor(k){this.xhrFactory=k}handle(k){if("JSONP"===k.method)throw new z.wOt(-2800,!1);const q=this.xhrFactory;return(q.\u0275loadImpl?(0,_i.H)(q.\u0275loadImpl()):(0,ui.of)(null)).pipe((0,pr.n)(()=>new ki.c(xe=>{const et=q.build();if(et.open(k.method,k.urlWithParams),k.withCredentials&&(et.withCredentials=!0),k.headers.forEach((Nn,Rr)=>et.setRequestHeader(Nn,Rr.join(","))),k.headers.has("Accept")||et.setRequestHeader("Accept",yi),!k.headers.has(er)){const Nn=k.detectContentTypeHeader();null!==Nn&&et.setRequestHeader(er,Nn)}if(k.responseType){const Nn=k.responseType.toLowerCase();et.responseType="json"!==Nn?Nn:"text"}const Vt=k.serializeBody();let Kt=null;const Tn=()=>{if(null!==Kt)return Kt;const Nn=et.statusText||"OK",Rr=new Gn(et.getAllResponseHeaders()),sr=function M(N){return"responseURL"in N&&N.responseURL?N.responseURL:Y.test(N.getAllResponseHeaders())?N.getResponseHeader(cr):null}(et)||k.url;return Kt=new yo({headers:Rr,status:et.status,statusText:Nn,url:sr}),Kt},Cn=()=>{let{headers:Nn,status:Rr,statusText:sr,url:gn}=Tn(),kn=null;204!==Rr&&(kn=typeof et.response>"u"?et.responseText:et.response),0===Rr&&(Rr=kn?200:0);let Ko=Rr>=200&&Rr<300;if("json"===k.responseType&&"string"==typeof kn){const di=kn;kn=kn.replace(C,"");try{kn=""!==kn?JSON.parse(kn):null}catch(Ci){kn=di,Ko&&(Ko=!1,kn={error:Ci,text:kn})}}Ko?(xe.next(new lr({body:kn,headers:Nn,status:Rr,statusText:sr,url:gn||void 0})),xe.complete()):xe.error(new Ct({error:kn,headers:Nn,status:Rr,statusText:sr,url:gn||void 0}))},Wn=Nn=>{const{url:Rr}=Tn(),sr=new Ct({error:Nn,status:et.status||0,statusText:et.statusText||"Unknown Error",url:Rr||void 0});xe.error(sr)};let dr=!1;const an=Nn=>{dr||(xe.next(Tn()),dr=!0);let Rr={type:xi.DownloadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(Rr.total=Nn.total),"text"===k.responseType&&et.responseText&&(Rr.partialText=et.responseText),xe.next(Rr)},li=Nn=>{let Rr={type:xi.UploadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(Rr.total=Nn.total),xe.next(Rr)};return et.addEventListener("load",Cn),et.addEventListener("error",Wn),et.addEventListener("timeout",Wn),et.addEventListener("abort",Wn),k.reportProgress&&(et.addEventListener("progress",an),null!==Vt&&et.upload&&et.upload.addEventListener("progress",li)),et.send(Vt),xe.next({type:xi.Sent}),()=>{et.removeEventListener("error",Wn),et.removeEventListener("abort",Wn),et.removeEventListener("load",Cn),et.removeEventListener("timeout",Wn),k.reportProgress&&(et.removeEventListener("progress",an),null!==Vt&&et.upload&&et.upload.removeEventListener("progress",li)),et.readyState!==et.DONE&&et.abort()}})))}static \u0275fac=function(q){return new(q||N)(z.KVO(he))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();const te=new z.nKC(""),ot=new z.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),An=new z.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $n{}let On=(()=>{class N{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(k,q,pe){this.doc=k,this.platform=q,this.cookieName=pe}getToken(){if("server"===this.platform)return null;const k=this.doc.cookie||"";return k!==this.lastCookieString&&(this.parseCount++,this.lastToken=K(k,this.cookieName),this.lastCookieString=k),this.lastToken}static \u0275fac=function(q){return new(q||N)(z.KVO(ne.D),z.KVO(z.Agw),z.KVO(ot))};static \u0275prov=z.jDH({token:N,factory:N.\u0275fac})}return N})();function En(N,F){const k=N.url.toLowerCase();if(!(0,z.WQX)(te)||"GET"===N.method||"HEAD"===N.method||k.startsWith("http://")||k.startsWith("https://"))return F(N);const q=(0,z.WQX)($n).getToken(),pe=(0,z.WQX)(An);return null!=q&&!N.headers.has(pe)&&(N=N.clone({headers:N.headers.set(pe,q)})),F(N)}var ko=j(3290),or=j(7440);const _t_firebase={apiKey:"AIzaSyC0C4QTFrY5TxxYZNYK8nvw4Z4ITwCXeZc",authDomain:"recipe-finder-a977f.firebaseapp.com",projectId:"recipe-finder-a977f",storageBucket:"recipe-finder-a977f.firebasestorage.app",messagingSenderId:"224043316407",appId:"1:224043316407:web:ee3f85984db114f6e4c932"},uo={providers:[(0,Yr.p)([{path:"",loadComponent:()=>Promise.all([j.e(724),j.e(76),j.e(214)]).then(j.bind(j,8214)).then(N=>N.RecipeSearchComponent)},{path:"recipe/:id",loadComponent:()=>j.e(737).then(j.bind(j,737)).then(N=>N.RecipeDetailComponent)},{path:"favorites",loadComponent:()=>Promise.all([j.e(76),j.e(957)]).then(j.bind(j,957)).then(N=>N.FavoritesComponent)},{path:"new-recipe",loadComponent:()=>Promise.all([j.e(724),j.e(111)]).then(j.bind(j,5111)).then(N=>N.AddRecipeComponent)},{path:"**",redirectTo:""}]),function tr(...N){const F=[ye,B,ss,{provide:Ir,useExisting:ss},{provide:Ur,useFactory:()=>(0,z.WQX)(Lt,{optional:!0})??(0,z.WQX)(B)},{provide:Ro,useValue:En,multi:!0},{provide:te,useValue:!0},{provide:$n,useClass:On}];for(const k of N)F.push(...k.\u0275providers);return(0,z.EmA)(F)}(),(0,or.MW)(()=>(0,or.Wp)(_t_firebase)),(0,ko.hV)(()=>(0,ko.aU)())]};var Oo=j(1350),qo=j(8834);const Xs=()=>({exact:!0});let Zs=(()=>{class N{static \u0275fac=function(q){return new(q||N)};static \u0275cmp=z.VBU({type:N,selectors:[["app-nav-bar"]],decls:17,vars:6,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["href","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse","d-lg-flex","flex-lg-row-reverse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/favorites","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/new-recipe","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"]],template:function(q,pe){1&q&&(z.j41(0,"nav",0)(1,"div",1)(2,"a",2),z.EFF(3,"Recipe finder"),z.k0s(),z.j41(4,"button",3),z.nrm(5,"span",4),z.k0s(),z.j41(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),z.EFF(10,"Search"),z.k0s()(),z.j41(11,"li",7)(12,"a",9),z.EFF(13,"Favorites"),z.k0s()(),z.j41(14,"li",7)(15,"a",10),z.EFF(16,"Add recipe"),z.k0s()()()()()()),2&q&&(z.R7$(9),z.Y8G("routerLinkActiveOptions",z.lJ4(3,Xs)),z.R7$(3),z.Y8G("routerLinkActiveOptions",z.lJ4(4,Xs)),z.R7$(3),z.Y8G("routerLinkActiveOptions",z.lJ4(5,Xs)))},dependencies:[Yr.R,Yr.a],styles:[".navbar[_ngcontent-%COMP%]{background-color:#e3f2fd}"]})}return N})(),fu=(()=>{class N{static \u0275fac=function(q){return new(q||N)};static \u0275cmp=z.VBU({type:N,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(q,pe){1&q&&(z.j41(0,"footer",0)(1,"p"),z.EFF(2,"\xa9 Recipe finder"),z.k0s()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 0;text-align:center;box-shadow:0 -2px 4px #0000001a}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}"]})}return N})();(function Zn(N,F){return(0,z.TL3)({rootComponent:N,...Jn(F)})})((()=>{class N{title="Recipe Finder";static \u0275fac=function(q){return new(q||N)};static \u0275cmp=z.VBU({type:N,selectors:[["app-root"]],features:[z.Jv_([{provide:Oo.x,useValue:{snapshot:{params:{id:"1"}}}}])],decls:4,vars:0,consts:[[1,"main-content"]],template:function(q,pe){1&q&&(z.nrm(0,"app-nav-bar"),z.j41(1,"main",0),z.nrm(2,"router-outlet"),z.k0s(),z.nrm(3,"app-footer"))},dependencies:[qo.D,Zs,Oo.R,fu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px 0;background-color:#f8f9fa}@media (max-width: 768px){.nav-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.nav-links[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}return N})(),uo).catch(N=>console.error(N))},9270:(jt,qe,j)=>{j.d(qe,{f:()=>x});const x={setTimeout(K,X,...Pe){const{delegate:U}=x;return U?.setTimeout?U.setTimeout(K,X,...Pe):setTimeout(K,X,...Pe)},clearTimeout(K){const{delegate:X}=x;return(X?.clearTimeout||clearTimeout)(K)},delegate:void 0}},9498:(jt,qe,j)=>{j.d(qe,{iLQ:()=>eh,sZ2:()=>Xh,hnV:()=>Es,o8S:()=>Ts,BIS:()=>uN,gRc:()=>Uk,Ql9:()=>Eh,Ocv:()=>Mx,abz:()=>xa,Z63:()=>kn,aKT:()=>Gh,uvJ:()=>wo,zcH:()=>ds,bkB:()=>Oa,$GK:()=>Qt,nKC:()=>Wt,zZn:()=>Ri,_q3:()=>RM,MKu:()=>PM,xe9:()=>DM,Co$:()=>hE,Vns:()=>tu,SKi:()=>Cr,Xx1:()=>N,Agw:()=>aN,PLl:()=>qw,u5s:()=>Iw,sFG:()=>NA,_9s:()=>Wm,czy:()=>Pf,kdw:()=>k,C4Q:()=>Lr,NYb:()=>V0,giA:()=>HE,xvI:()=>ZC,RxE:()=>Ho,c1b:()=>Ym,gXe:()=>gs,mal:()=>sD,Af3:()=>Do,tdH:()=>fN,L39:()=>DO,EWP:()=>tw,Ol2:()=>oc,w6W:()=>fE,QZP:()=>NM,Rfq:()=>Ke,WQX:()=>_t,hFB:()=>jb,naY:()=>$x,QuC:()=>Lo,EmA:()=>Vi,HJs:()=>WO,N4e:()=>Da,vPA:()=>ed,O8t:()=>cu,H3F:()=>gp,H8p:()=>$l,KH2:()=>Op,Ua0:()=>sa,wOt:()=>ft,WHO:()=>mp,e01:()=>bn,Lf2:()=>Yh,H5H:()=>mT,Zy3:()=>Vr,mq5:()=>NP,JZv:()=>gr,TL3:()=>nO,LfX:()=>ln,plB:()=>vl,jNT:()=>Mi,zjR:()=>ii,TL$:()=>oN,Tbb:()=>Pn,Vt3:()=>cp,OA$:()=>dg,Jv_:()=>Q_,R7$:()=>Df,BMQ:()=>Pl,AVh:()=>Nl,vxM:()=>Mp,wni:()=>eo,VBU:()=>pE,FsC:()=>d_,jDH:()=>Ae,G2t:()=>Lt,$C:()=>gE,EJ8:()=>h_,rXU:()=>Il,nrm:()=>xp,k0s:()=>kp,j41:()=>k_,RV6:()=>yC,xGo:()=>gw,KVO:()=>or,kS0:()=>$y,QTQ:()=>eu,bIt:()=>un,lsd:()=>DC,XpG:()=>re,nI1:()=>jT,bMT:()=>$T,Y8G:()=>sT,FS9:()=>ue,lJ4:()=>Y_,eq3:()=>OT,mGM:()=>dh,sdS:()=>Up,Dyx:()=>hT,Z7z:()=>dC,Njj:()=>db,eBV:()=>lb,npT:()=>$v,B4B:()=>gm,n$t:()=>zv,DNE:()=>wE,C5r:()=>qp,EFF:()=>bT,JRh:()=>W_,SpI:()=>$p,E5c:()=>RT,DH7:()=>NT,mxI:()=>ph,R50:()=>su});var x=j(467);function K(t,r){return Object.is(t,r)}let X=null,Pe=!1,U=1;const Ne=Symbol("SIGNAL");function he(t){const r=X;return X=t,r}function ne(){return X}const se={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oe(t){if(Pe)throw new Error("");if(null===X)return;X.consumerOnSignalRead(t);const r=X.nextProducerIndex++;pt(X),r<X.producerNode.length&&X.producerNode[r]!==t&&tt(X)&&Ve(X.producerNode[r],X.producerIndexOfThis[r]),X.producerNode[r]!==t&&(X.producerNode[r]=t,X.producerIndexOfThis[r]=tt(X)?Qe(t,X,r):0),X.producerLastReadVersion[r]=t.version}function ze(t){if((!tt(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==U)){if(!t.producerMustRecompute(t)&&!rt(t))return void mt(t);t.producerRecomputeValue(t),mt(t)}}function it(t){if(void 0===t.liveConsumerNode)return;const r=Pe;Pe=!0;try{for(const i of t.liveConsumerNode)i.dirty||Dt(i)}finally{Pe=r}}function wt(){return!1!==X?.consumerAllowSignalWrites}function Dt(t){t.dirty=!0,it(t),t.consumerMarkedDirty?.(t)}function mt(t){t.dirty=!1,t.lastCleanEpoch=U}function Ft(t){return t&&(t.nextProducerIndex=0),he(t)}function Zt(t,r){if(he(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(tt(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ve(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rt(t){pt(t);for(let r=0;r<t.producerNode.length;r++){const i=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==i.version||(ze(i),a!==i.version))return!0}return!1}function we(t){if(pt(t),tt(t))for(let r=0;r<t.producerNode.length;r++)Ve(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qe(t,r,i){if(Sn(t),0===t.liveConsumerNode.length&&rr(t))for(let a=0;a<t.producerNode.length;a++)t.producerIndexOfThis[a]=Qe(t.producerNode[a],t,a);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(r)-1}function Ve(t,r){if(Sn(t),1===t.liveConsumerNode.length&&rr(t))for(let a=0;a<t.producerNode.length;a++)Ve(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];pt(c),c.producerIndexOfThis[a]=r}}function tt(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Sn(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rr(t){return void 0!==t.producerNode}const $t=Symbol("UNSET"),Jt=Symbol("COMPUTING"),fn=Symbol("ERRORED"),Yt={...se,value:$t,dirty:!0,error:null,equal:K,kind:"computed",producerMustRecompute:t=>t.value===$t||t.value===Jt,producerRecomputeValue(t){if(t.value===Jt)throw new Error("Detected cycle in computations.");const r=t.value;t.value=Jt;const i=Ft(t);let a,c=!1;try{a=t.computation(),he(null),c=r!==$t&&r!==fn&&a!==fn&&t.equal(r,a)}catch(d){a=fn,t.error=d}finally{Zt(t,i)}c?t.value=r:(t.value=a,t.version++)}};let vr=function Xn(){throw new Error};function br(t){vr(t)}let Ee=null;function Le(t,r){wt()||br(t),t.equal(t.value,r)||(t.value=r,function Et(t){t.version++,function Ue(){U++}(),it(t),Ee?.()}(t))}const Rt={...se,equal:K,value:void 0,kind:"signal"};let Zn;function Yn(){return Zn}function Jn(t){const r=Zn;return Zn=t,r}const Kr=Symbol("NotFound");Error;var $i=j(4412),io=j(1413),Hi=j(8359),Di=j(6354);const ai="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ft extends Error{code;constructor(r,i){super(Vr(r,i)),this.code=r}}function Vr(t,r){return`${function Yr(t){return`NG0${Math.abs(t)}`}(t)}${r?": "+r:""}`}const oo=Symbol("InputSignalNode#UNSET"),Ai={...Rt,transformFn:void 0,applyValueToInputSignal(t,r){Le(t,r)}};function Wo(t,r){const i=Object.create(Ai);function a(){if(Oe(i),i.value===oo)throw new ft(-950,null);return i.value}return i.value=t,i.transformFn=r?.transform,a[Ne]=i,a}function pr(t){return{toString:t}.toString()}const ki="__parameters__";function Gn(t,r,i){return pr(()=>{const a=function Ur(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const f=new c(...d);return m.annotation=f,m;function m(v,A,R){const O=v.hasOwnProperty(ki)?v[ki]:Object.defineProperty(v,ki,{value:[]})[ki];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(f),v}}return c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const gr=globalThis;function vn(t){for(let r in t)if(t[r]===vn)return r;throw Error("Could not find renamed property on target object.")}function so(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function Pn(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(Pn).join(", ")}]`;if(null==t)return""+t;const r=t.overriddenName||t.name;if(r)return`${r}`;const i=t.toString();if(null==i)return""+i;const a=i.indexOf("\n");return a>=0?i.slice(0,a):i}function ae(t,r){return t?r?`${t} ${r}`:t:r||""}const me=vn({__forward_ref__:vn});function Ke(t){return t.__forward_ref__=Ke,t.toString=function(){return Pn(this())},t}function de(t){return At(t)?t():t}function At(t){return"function"==typeof t&&t.hasOwnProperty(me)&&t.__forward_ref__===Ke}function Ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function zt(t){return Mn(t,vi)||Mn(t,qs)}function ln(t){return null!==zt(t)}function Mn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Sr(t){return t&&(t.hasOwnProperty(Go)||t.hasOwnProperty(Ro))?t[Go]:null}const vi=vn({\u0275prov:vn}),Go=vn({\u0275inj:vn}),qs=vn({ngInjectableDef:vn}),Ro=vn({ngInjectorDef:vn});class Wt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(r,i){this._desc=r,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ae({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Li(t){return t&&!!t.\u0275providers}const Eo=vn({\u0275cmp:vn}),Mo=vn({\u0275dir:vn}),Jr=vn({\u0275pipe:vn}),C=vn({\u0275mod:vn}),Y=vn({\u0275fac:vn}),M=vn({__NG_ELEMENT_ID__:vn}),B=vn({__NG_ENV_ID__:vn});function te(t){return"string"==typeof t?t:null==t?"":String(t)}function An(t,r){throw new ft(-200,t)}function En(t,r){throw new ft(-201,!1)}var Qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Qt||{});let pn;function qn(){return pn}function tr(t){const r=pn;return pn=t,r}function ao(t,r,i){const a=zt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Qt.Optional?null:void 0!==r?r:void En()}const fe={},ee="__NG_DI_FLAG__";class Ce{injector;constructor(r){this.injector=r}retrieve(r,i){return this.injector.get(r,i.optional?Kr:fe,i)}}const Ge="ngTempTokenPath",Mt=/\n/gm,ir="__source";function ko(t,r=Qt.Default){if(void 0===Yn())throw new ft(-203,!1);if(null===Yn())return ao(t,void 0,r);{const i=Yn();let a;return a=i instanceof Ce?i.injector:i,a.get(t,r&Qt.Optional?null:void 0,r)}}function or(t,r=Qt.Default){return(qn()||ko)(de(t),r)}function _t(t,r=Qt.Default){return or(t,uo(r))}function uo(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oo(t){const r=[];for(let i=0;i<t.length;i++){const a=de(t[i]);if(Array.isArray(a)){if(0===a.length)throw new ft(900,!1);let c,d=Qt.Default;for(let f=0;f<a.length;f++){const m=a[f],v=Xs(m);"number"==typeof v?-1===v?c=m.token:d|=v:c=m}r.push(or(c,d))}else r.push(or(a))}return r}function qo(t,r){return t[ee]=r,t.prototype[ee]=r,t}function Xs(t){return t[ee]}const N=qo(Gn("Optional"),8),k=qo(Gn("SkipSelf"),4);function pe(t,r){return t.hasOwnProperty(Y)?t[Y]:null}function Vt(t,r){t.forEach(i=>Array.isArray(i)?Vt(i,r):r(i))}function Kt(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function Tn(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function an(t,r,i){let a=Nn(t,r);return a>=0?t[1|a]=i:(a=~a,function dr(t,r,i,a){let c=t.length;if(c==r)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=i,t[r+1]=a}}(t,a,r,i)),a}function li(t,r){const i=Nn(t,r);if(i>=0)return t[1|i]}function Nn(t,r){return function Rr(t,r,i){let a=0,c=t.length>>i;for(;c!==a;){const d=a+(c-a>>1),f=t[d<<i];if(r===f)return d<<i;f>r?c=d:a=d+1}return~(c<<i)}(t,r,1)}const sr={},gn=[],kn=new Wt(""),Ko=new Wt("",-1),di=new Wt("");class Ci{get(r,i=fe){if(i===fe){const a=new Error(`NullInjectorError: No provider for ${Pn(r)}!`);throw a.name="NullInjectorError",a}return i}}function hi(t,r){const i=t[C]||null;if(!i&&!0===r)throw new Error(`Type ${Pn(t)} does not have '\u0275mod' property.`);return i}function mn(t){return t[Eo]||null}function fi(t){return t[Mo]||null}function Fi(t){return t[Jr]||null}function Lo(t){const r=mn(t)||fi(t)||Fi(t);return null!==r&&r.standalone}function Vi(t){return{\u0275providers:t}}function To(...t){return{\u0275providers:Cc(0,t),\u0275fromNgModule:!0}}function Cc(t,...r){const i=[],a=new Set;let c;const d=f=>{i.push(f)};return Vt(r,f=>{const m=f;bc(m,d,[],a)&&(c||=[],c.push(m))}),void 0!==c&&Fo(c,d),i}function Fo(t,r){for(let i=0;i<t.length;i++){const{ngModule:a,providers:c}=t[i];gu(c,d=>{r(d,a)})}}function bc(t,r,i,a){if(!(t=de(t)))return!1;let c=null,d=Sr(t);const f=!d&&mn(t);if(d||f){if(f&&!f.standalone)return!1;c=t}else{const v=t.ngModule;if(d=Sr(v),!d)return!1;c=v}const m=a.has(c);if(f){if(m)return!1;if(a.add(c),f.dependencies){const v="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const A of v)bc(A,r,i,a)}}else{if(!d)return!1;{if(null!=d.imports&&!m){let A;a.add(c);try{Vt(d.imports,R=>{bc(R,r,i,a)&&(A||=[],A.push(R))})}finally{}void 0!==A&&Fo(A,r)}if(!m){const A=pe(c)||(()=>new c);r({provide:c,useFactory:A,deps:gn},c),r({provide:di,useValue:c,multi:!0},c),r({provide:kn,useValue:()=>or(c),multi:!0},c)}const v=d.providers;if(null!=v&&!m){const A=t;gu(v,R=>{r(R,A)})}}}return c!==t&&void 0!==t.providers}function gu(t,r){for(let i of t)Li(i)&&(i=i.\u0275providers),Array.isArray(i)?gu(i,r):r(i)}const wa=vn({provide:String,useValue:vn});function jl(t){return null!==t&&"object"==typeof t&&wa in t}function Js(t){return"function"==typeof t}const $l=new Wt(""),Sc={},Rc={};let yu;function vu(){return void 0===yu&&(yu=new Ci),yu}class wo{}class Iu extends wo{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(r,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,ta(r,f=>this.processProvider(f)),this.records.set(Ko,As(void 0,this)),c.has("environment")&&this.records.set(wo,As(void 0,this));const d=this.records.get($l);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(di,gn,Qt.Self))}retrieve(r,i){return this.get(r,i.optional?Kr:fe,i)}destroy(){ea(this),this._destroyed=!0;const r=he(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(r)}}onDestroy(r){return ea(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){ea(this);const i=Jn(this),a=tr(void 0);try{return r()}finally{Jn(i),tr(a)}}get(r,i=fe,a=Qt.Default){if(ea(this),r.hasOwnProperty(B))return r[B](this);a=uo(a);const d=Jn(this),f=tr(void 0);try{if(!(a&Qt.SkipSelf)){let v=this.records.get(r);if(void 0===v){const A=function _r(t){return"function"==typeof t||"object"==typeof t&&t instanceof Wt}(r)&&zt(r);v=A&&this.injectableDefInScope(A)?As(Hl(r),Sc):null,this.records.set(r,v)}if(null!=v)return this.hydrate(r,v)}return(a&Qt.Self?vu():this.parent).get(r,i=a&Qt.Optional&&i===fe?null:i)}catch(m){if("NullInjectorError"===m.name){if((m[Ge]=m[Ge]||[]).unshift(Pn(r)),d)throw m;return function Zs(t,r,i,a){const c=t[Ge];throw r[ir]&&c.unshift(r[ir]),t.message=function fu(t,r,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Pn(r);if(Array.isArray(r))c=r.map(Pn).join(" -> ");else if("object"==typeof r){let d=[];for(let f in r)if(r.hasOwnProperty(f)){let m=r[f];d.push(f+":"+("string"==typeof m?JSON.stringify(m):Pn(m)))}c=`{${d.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(Mt,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[Ge]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{tr(f),Jn(d)}}resolveInjectorInitializers(){const r=he(null),i=Jn(this),a=tr(void 0);try{const d=this.get(kn,gn,Qt.Self);for(const f of d)f()}finally{Jn(i),tr(a),he(r)}}toString(){const r=[],i=this.records;for(const a of i.keys())r.push(Pn(a));return`R3Injector[${r.join(", ")}]`}processProvider(r){let i=Js(r=de(r))?r:de(r&&r.provide);const a=function cy(t){return jl(t)?As(void 0,t.useValue):As(rg(t),Sc)}(r);if(!Js(r)&&!0===r.multi){let c=this.records.get(i);c||(c=As(void 0,Sc,!0),c.factory=()=>Oo(c.multi),this.records.set(i,c)),i=r,c.multi.push(r)}this.records.set(i,a)}hydrate(r,i){const a=he(null);try{return i.value===Rc?An(Pn(r)):i.value===Sc&&(i.value=Rc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function dy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{he(a)}}injectableDefInScope(r){if(!r.providedIn)return!1;const i=de(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(r){const i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Hl(t){const r=zt(t),i=null!==r?r.factory:pe(t);if(null!==i)return i;if(t instanceof Wt)throw new ft(204,!1);if(t instanceof Function)return function uy(t){if(t.length>0)throw new ft(204,!1);const i=function xn(t){return t&&(t[vi]||t[qs])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ft(204,!1)}function rg(t,r,i){let a;if(Js(t)){const c=de(t);return pe(c)||Hl(c)}if(jl(t))a=()=>de(t.useValue);else if(function Dh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Oo(t.deps||[]));else if(function mu(t){return!(!t||!t.useExisting)}(t))a=()=>or(de(t.useExisting));else{const c=de(t&&(t.useClass||t.provide));if(!function ly(t){return!!t.deps}(t))return pe(c)||Hl(c);a=()=>new c(...Oo(t.deps))}return a}function ea(t){if(t.destroyed)throw new ft(205,!1)}function As(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function ta(t,r){for(const i of t)Array.isArray(i)?ta(i,r):i&&Li(i)?ta(i.\u0275providers,r):r(i)}function Da(t,r){let i;t instanceof Iu?(ea(t),i=t):i=new Ce(t);const c=Jn(i),d=tr(void 0);try{return r()}finally{Jn(c),tr(d)}}function ig(){return void 0!==qn()||null!=Yn()}function Do(t){if(!ig())throw new ft(-203,!1)}const Bn=0,st=1,Gt=2,Tr=3,bi=4,Xr=5,Wi=6,ra=7,Hn=8,ar=9,us=10,en=11,Ca=12,cs=13,ba=14,hr=15,Sa=16,Cs=17,bs=18,Ra=19,ag=20,ls=21,Ss=23,Ui=24,kt=26,Mc=1,Vo=7,Ma=9,wr=10;function Dr(t){return Array.isArray(t)&&"object"==typeof t[Mc]}function pi(t){return Array.isArray(t)&&!0===t[Mc]}function kc(t){return!!(4&t.flags)}function Uo(t){return t.componentOffset>-1}function Tu(t){return!(1&~t.flags)}function Gi(t){return!!t.template}function Si(t){return!!(512&t[Gt])}function Bo(t){return!(256&~t[Gt])}class iw{previousValue;currentValue;firstChange;constructor(r,i,a){this.previousValue=r,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function lg(t,r,i,a){null!==r?r.applyValueToInputSignal(r,a):t[i]=a}const dg=(()=>{const t=()=>Na;return t.ngInherit=!0,t})();function Na(t){return t.type.prototype.ngOnChanges&&(t.setInput=bh),Ty}function Ty(){const t=Sh(this),r=t?.current;if(r){const i=t.previous;if(i===sr)t.previous=r;else for(let a in r)i[a]=r[a];t.current=null,this.ngOnChanges(r)}}function bh(t,r,i,a,c){const d=this.declaredInputs[a],f=Sh(t)||function Rh(t,r){return t[wy]=r}(t,{previous:sr,current:null}),m=f.current||(f.current={}),v=f.previous,A=v[d];m[d]=new iw(A&&A.currentValue,i,v===sr),lg(t,r,c,i)}const wy="__ngSimpleChanges__";function Sh(t){return t[wy]||null}const y=function(t,r=null,i){};function V(t){for(;Array.isArray(t);)t=t[Bn];return t}function _e(t,r){return V(r[t])}function be(t,r){return V(r[t.index])}function tn(t,r){return t.data[r]}function Kn(t,r){return t[r]}function nr(t,r){const i=r[t];return Dr(i)?i:i[Bn]}function gi(t){return!(128&~t[Gt])}function Br(t,r){return null==r?null:t[r]}function bu(t){t[Cs]=0}function xc(t){1024&t[Gt]||(t[Gt]|=1024,gi(t)&&Su(t))}function Lc(t){return!!(9216&t[Gt]||t[Ui]?.dirty)}function Dy(t){t[us].changeDetectionScheduler?.notify(8),64&t[Gt]&&(t[Gt]|=1024),Lc(t)&&Su(t)}function Su(t){t[us].changeDetectionScheduler?.notify(0);let r=Ru(t);for(;null!==r&&!(8192&r[Gt])&&(r[Gt]|=8192,gi(r));)r=Ru(r)}function hg(t,r){if(Bo(t))throw new ft(911,!1);null===t[ls]&&(t[ls]=[]),t[ls].push(r)}function Ru(t){const r=t[Tr];return pi(r)?r[Tr]:r}function Mh(t){return t[ra]??=[]}function Fc(t){return t.cleanup??=[]}const cn={lFrame:vb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let kh=!1;function xh(){return cn.bindingsEnabled}function Be(){return cn.lFrame.lView}function on(){return cn.lFrame.tView}function lb(t){return cn.lFrame.contextLView=t,t[Hn]}function db(t){return cn.lFrame.contextLView=null,t}function wn(){let t=hb();for(;null!==t&&64===t.type;)t=t.parent;return t}function hb(){return cn.lFrame.currentTNode}function Yo(t,r){const i=cn.lFrame;i.currentTNode=t,i.isParent=r}function Py(){return cn.lFrame.isParent}function pb(){return kh}function Xl(t){const r=kh;return kh=t,r}function Ao(){const t=cn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function jo(){return cn.lFrame.bindingIndex++}function Pu(t){const r=cn.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function Ny(t,r){const i=cn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Mu(r)}function Mu(t){cn.lFrame.currentDirectiveIndex=t}function ky(){return cn.lFrame.currentQueryIndex}function mg(t){cn.lFrame.currentQueryIndex=t}function _b(t){const r=t[st];return 2===r.type?r.declTNode:1===r.type?t[Xr]:null}function sw(t,r,i){if(i&Qt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||i&Qt.Host||(c=_b(d),null===c||(d=d[ba],10&c.type))););if(null===c)return!1;r=c,t=d}const a=cn.lFrame=yb();return a.currentTNode=r,a.lView=t,!0}function aw(t){const r=yb(),i=t[st];cn.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function yb(){const t=cn.lFrame,r=null===t?null:t.child;return null===r?vb(t):r}function vb(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ib(){const t=cn.lFrame;return cn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _g=Ib;function xy(){const t=Ib();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function co(){return cn.lFrame.selectedIndex}function Zl(t){cn.lFrame.selectedIndex=t}function Ar(){const t=cn.lFrame;return tn(t.tView,t.selectedIndex)}let yg=!0;function vg(){return yg}function Ms(t){yg=t}function uw(t,r){for(let i=r.directiveStart,a=r.directiveEnd;i<a;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:A,ngOnDestroy:R}=d;f&&(t.contentHooks??=[]).push(-i,f),m&&((t.contentHooks??=[]).push(i,m),(t.contentCheckHooks??=[]).push(i,m)),v&&(t.viewHooks??=[]).push(-i,v),A&&((t.viewHooks??=[]).push(i,A),(t.viewCheckHooks??=[]).push(i,A)),null!=R&&(t.destroyHooks??=[]).push(i,R)}}function Ig(t,r,i){Tg(t,r,3,i)}function Eg(t,r,i,a){(3&t[Gt])===i&&Tg(t,r,i,a)}function Lh(t,r){let i=t[Gt];(3&i)===r&&(i&=16383,i+=1,t[Gt]=i)}function Tg(t,r,i,a){const d=a??-1,f=r.length-1;let m=0;for(let v=void 0!==a?65535&t[Cs]:0;v<f;v++)if("number"==typeof r[v+1]){if(m=r[v],null!=a&&m>=a)break}else r[v]<0&&(t[Cs]+=65536),(m<d||-1==d)&&(cw(t,i,r,v),t[Cs]=(4294901760&t[Cs])+v+2),v++}function wb(t,r){y(4,t,r);const i=he(null);try{r.call(t)}finally{he(i),y(5,t,r)}}function cw(t,r,i,a){const c=i[a]<0,d=i[a+1],m=t[c?-i[a]:i[a]];c?t[Gt]>>14<t[Cs]>>16&&(3&t[Gt])===r&&(t[Gt]+=16384,wb(m,d)):wb(m,d)}const Fh=-1;class wg{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,i,a){this.factory=r,this.canSeeViewProviders=i,this.injectImpl=a}}function Ab(t){return 3===t||4===t||6===t}function Ly(t){return 64===t.charCodeAt(0)}function Vh(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?i=c:0===i||Cb(t,i,c,0,-1===i||2===i?r[++a]:null)}}return t}function Cb(t,r,i,a,c){let d=0,f=t.length;if(-1===r)f=-1;else for(;d<t.length;){const m=t[d++];if("number"==typeof m){if(m===r){f=-1;break}if(m>r){f=d-1;break}}}for(;d<t.length;){const m=t[d];if("number"==typeof m)break;if(m===i)return void(null!==c&&(t[d+1]=c));d++,null!==c&&d++}-1!==f&&(t.splice(f,0,r),d=f+1),t.splice(d++,0,i),null!==c&&t.splice(d++,0,c)}function Uh(t){return t!==Fh}function Dg(t){return 32767&t}function Bh(t,r){let i=function Ii(t){return t>>16}(t),a=r;for(;i>0;)a=a[ba],i--;return a}let Ag=!0;function Fy(t){const r=Ag;return Ag=t,r}const bb=255,Sb=5;let fw=0;const oa={};function jh(t,r){const i=bg(t,r);if(-1!==i)return i;const a=r[st];a.firstCreatePass&&(t.injectorIndex=r.length,Yl(a.data,t),Yl(r,null),Yl(a.blueprint,null));const c=Sg(t,r),d=t.injectorIndex;if(Uh(c)){const f=Dg(c),m=Bh(c,r),v=m[st].data;for(let A=0;A<8;A++)r[d+A]=m[f+A]|v[f+A]}return r[d+8]=c,d}function Yl(t,r){t.push(0,0,0,0,0,0,0,0,r)}function bg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Sg(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=r;for(;null!==c;){if(a=mw(c),null===a)return Fh;if(i++,c=c[ba],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Fh}function Vy(t,r,i){!function Cg(t,r,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(M)&&(a=i[M]),null==a&&(a=i[M]=fw++);const c=a&bb;r.data[t+(c>>Sb)]|=1<<c}(t,r,i)}function Rg(t,r,i){if(i&Qt.Optional||void 0!==t)return t;En()}function Rb(t,r,i,a){if(i&Qt.Optional&&void 0===a&&(a=null),!(i&(Qt.Self|Qt.Host))){const c=t[ar],d=tr(void 0);try{return c?c.get(r,a,i&Qt.Optional):ao(r,a,i&Qt.Optional)}finally{tr(d)}}return Rg(a,0,i)}function Pg(t,r,i,a=Qt.Default,c){if(null!==t){if(2048&r[Gt]&&!(a&Qt.Self)){const f=function $h(t,r,i,a,c){let d=t,f=r;for(;null!==d&&null!==f&&2048&f[Gt]&&!Si(f);){const m=Pb(d,f,i,a|Qt.Self,oa);if(m!==oa)return m;let v=d.parent;if(!v){const A=f[ag];if(A){const R=A.get(i,oa,a);if(R!==oa)return R}v=mw(f),f=f[ba]}d=v}return c}(t,r,i,a,oa);if(f!==oa)return f}const d=Pb(t,r,i,a,oa);if(d!==oa)return d}return Rb(r,i,a,c)}function Pb(t,r,i,a,c){const d=function Mb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(M)?t[M]:void 0;return"number"==typeof r?r>=0?r&bb:Nb:r}(i);if("function"==typeof d){if(!sw(r,t,a))return a&Qt.Host?Rg(c,0,a):Rb(r,i,a,c);try{let f;if(f=d(a),null!=f||a&Qt.Optional)return f;En()}finally{_g()}}else if("number"==typeof d){let f=null,m=bg(t,r),v=Fh,A=a&Qt.Host?r[hr][Xr]:null;for((-1===m||a&Qt.SkipSelf)&&(v=-1===m?Sg(t,r):r[m+8],v!==Fh&&pw(a,!1)?(f=r[st],m=Dg(v),r=Bh(v,r)):m=-1);-1!==m;){const R=r[st];if(By(d,m,R.data)){const O=GM(m,r,i,f,a,A);if(O!==oa)return O}v=r[m+8],v!==Fh&&pw(a,r[st].data[m+8]===A)&&By(d,m,r)?(f=R,m=Dg(v),r=Bh(v,r)):m=-1}}return c}function GM(t,r,i,a,c,d){const f=r[st],m=f.data[t+8],R=Uy(m,f,i,null==a?Uo(m)&&Ag:a!=f&&!!(3&m.type),c&Qt.Host&&d===m);return null!==R?Mg(r,f,R,m):oa}function Uy(t,r,i,a,c){const d=t.providerIndexes,f=r.data,m=1048575&d,v=t.directiveStart,R=d>>20,Z=c?m+R:t.directiveEnd;for(let G=a?m:m+R;G<Z;G++){const ge=f[G];if(G<v&&i===ge||G>=v&&ge.type===i)return G}if(c){const G=f[v];if(G&&Gi(G)&&G.type===i)return v}return null}function Mg(t,r,i,a){let c=t[i];const d=r.data;if(c instanceof wg){const f=c;f.resolving&&An(function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(d[i]));const m=Fy(f.canSeeViewProviders);f.resolving=!0;const A=f.injectImpl?tr(f.injectImpl):null;sw(t,a,Qt.Default);try{c=t[i]=f.factory(void 0,d,t,a),r.firstCreatePass&&i>=a.directiveStart&&function Tb(t,r,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const f=Na(r);(i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],r)}finally{null!==A&&tr(A),Fy(m),f.resolving=!1,_g()}}return c}function By(t,r,i){return!!(i[r+(t>>Sb)]&1<<t)}function pw(t,r){return!(t&Qt.Self||t&Qt.Host&&r)}class ti{_tNode;_lView;constructor(r,i){this._tNode=r,this._lView=i}get(r,i,a){return Pg(this._tNode,this._lView,r,uo(a),i)}}function Nb(){return new ti(wn(),Be())}function gw(t){return pr(()=>{const r=t.prototype.constructor,i=r[Y]||jy(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Y]||jy(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function jy(t){return At(t)?()=>{const r=jy(de(t));return r&&r()}:pe(t)}function mw(t){const r=t[st],i=r.type;return 2===i?r.declTNode:1===i?t[Xr]:null}function $y(t){return function WM(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const d=i[c];if(Ab(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(d===r)return i[c+1];c+=2}}}return null}(wn(),t)}function Lb(t,r=null,i=null,a){const c=xu(t,r,i,a);return c.resolveInjectorInitializers(),c}function xu(t,r=null,i=null,a,c=new Set){const d=[i||gn,To(t)];return a=a||("object"==typeof t?void 0:Pn(t)),new Iu(d,r||vu(),a||null,c)}class Ri{static THROW_IF_NOT_FOUND=fe;static NULL=new Ci;static create(r,i){if(Array.isArray(r))return Lb({name:""},i,r,"");{const a=r.name??"";return Lb({name:a},r.parent,r.providers,a)}}static \u0275prov=Ae({token:Ri,providedIn:"any",factory:()=>or(Ko)});static __NG_ELEMENT_ID__=-1}new Wt("").__NG_ELEMENT_ID__=t=>{const r=wn();if(null===r)throw new ft(204,!1);if(2&r.type)return r.value;if(t&Qt.Optional)return null;throw new ft(204,!1)};const xg=!1;let xa=(()=>class t{static __NG_ELEMENT_ID__=XM;static __NG_ENV_ID__=i=>i})();class Vb extends xa{_lView;constructor(r){super(),this._lView=r}onDestroy(r){return hg(this._lView,r),()=>function Ph(t,r){if(null===t[ls])return;const i=t[ls].indexOf(r);-1!==i&&t[ls].splice(i,1)}(this._lView,r)}}function XM(){return new Vb(Be())}class Ns{}const Og=new Wt("",{providedIn:"root",factory:()=>!1}),Ub=new Wt(""),Hh=new Wt("");let sa=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new $i.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Iw=(()=>{class t{internalPendingTasks=_t(sa);scheduler=_t(Ns);add(){const i=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(i)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(i))}}run(i){var a=this;return(0,x.A)(function*(){const c=a.add();try{return yield i()}finally{c()}})()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})();const Oa=class zh extends io.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,ig()&&(this.destroyRef=_t(xa,{optional:!0})??void 0,this.pendingTasks=_t(sa,{optional:!0})??void 0)}emit(r){const i=he(null);try{super.next(r)}finally{he(i)}}subscribe(r,i,a){let c=r,d=i||(()=>null),f=a;if(r&&"object"==typeof r){const v=r;c=v.next?.bind(v),d=v.error?.bind(v),f=v.complete?.bind(v)}this.__isAsync&&(d=this.wrapInTimeout(d),c&&(c=this.wrapInTimeout(c)),f&&(f=this.wrapInTimeout(f)));const m=super.subscribe({next:c,error:d,complete:f});return r instanceof Hi.yU&&r.add(m),m}wrapInTimeout(r){return i=>{const a=this.pendingTasks?.add();setTimeout(()=>{r(i),void 0!==a&&this.pendingTasks?.remove(a)})}}};function Wh(...t){}function Lg(t){let r,i;function a(){t=Wh;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),a()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{t(),a()})),()=>a()}function Fg(t){return queueMicrotask(()=>t()),()=>{t=Wh}}const Tw="isAngularZone",Vg=Tw+"_ID";let ww=0;class Cr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oa(!1);onMicrotaskEmpty=new Oa(!1);onStable=new Oa(!1);onError=new Oa(!1);constructor(r){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:d=xg}=r;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.callbackScheduled=!1,f.scheduleInRootZone=d,function YM(t){const r=()=>{!function Qy(t){function r(){Lg(()=>{t.callbackScheduled=!1,Xy(t),t.isCheckStableRunning=!0,Ky(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{r()}):t._outer.run(()=>{r()}),Xy(t))}(t)},i=ww++;t._inner=t._inner.fork({name:"angular",properties:{[Tw]:!0,[Vg]:i,[Vg+i]:!0},onInvokeTask:(a,c,d,f,m,v)=>{if(function Yy(t){return Bg(t,"__ignore_ng_zone__")}(v))return a.invokeTask(d,f,m,v);try{return Ug(t),a.invokeTask(d,f,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&r(),Bb(t)}},onInvoke:(a,c,d,f,m,v,A)=>{try{return Ug(t),a.invoke(d,f,m,v,A)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function JM(t){return Bg(t,"__scheduler_tick__")}(v)&&r(),Bb(t)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Xy(t),Ky(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Tw)}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new ft(909,!1)}run(r,i,a){return this._inner.run(r,i,a)}runTask(r,i,a,c){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+c,r,ZM,Wh,Wh);try{return d.runTask(f,i,a)}finally{d.cancelTask(f)}}runGuarded(r,i,a){return this._inner.runGuarded(r,i,a)}runOutsideAngular(r){return this._outer.run(r)}}const ZM={};function Ky(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Ug(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bb(t){t._nesting--,Ky(t)}class Zy{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oa;onMicrotaskEmpty=new Oa;onStable=new Oa;onError=new Oa;run(r,i,a){return r.apply(i,a)}runGuarded(r,i,a){return r.apply(i,a)}runOutsideAngular(r){return r()}runTask(r,i,a,c){return r.apply(i,a)}}function Bg(t,r){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[r]}class ds{_console=console;handleError(r){this._console.error("ERROR",r)}}const Aw=new Wt("",{providedIn:"root",factory:()=>{const t=_t(Cr),r=_t(ds);return i=>t.runOutsideAngular(()=>r.handleError(i))}});function Jy(t,r){return Wo(t,r)}const jb=(Jy.required=function Cw(t){return Wo(oo,t)},Jy);function $b(){return Ou(wn(),Be())}function Ou(t,r){return new Gh(be(t,r))}let Gh=(()=>class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=$b})();function bw(t){return t instanceof Gh?t.nativeElement:t}function ed(t,r){const i=function Me(t,r){const i=Object.create(Rt);i.value=t,void 0!==r&&(i.equal=r);const a=()=>(Oe(i),i.value);return a[Ne]=i,a}(t,r?.equal),a=i[Ne];return i.set=c=>Le(a,c),i.update=c=>function Ye(t,r){wt()||br(t),Le(t,r(t.value))}(a,c),i.asReadonly=$g.bind(i),i}function $g(){const t=this[Ne];if(void 0===t.readonlyFn){const r=()=>this();r[Ne]=t,t.readonlyFn=r}return t.readonlyFn}function ev(t){return function Sw(t){return"function"==typeof t&&void 0!==t[Ne]}(t)&&"function"==typeof t.set}function Hb(){return this._results[Symbol.iterator]()}class Hg{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new io.B}constructor(r=!1){this._emitDistinctChangesOnly=r}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){this.dirty=!1;const a=function et(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function xe(t,r,i){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Hb}function Kh(t){return!(128&~t.flags)}var zg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zg||{});const td=new Map;let Wb=0;function nv(t){td.delete(t[Ra])}const iv="__ngContext__";function Co(t,r){Dr(r)?(t[iv]=r[Ra],function qb(t){td.set(t[Ra],t)}(r)):t[iv]=r}function uv(t){return Bw(t[Ca])}function Uw(t){return Bw(t[bi])}function Bw(t){for(;null!==t&&!pi(t);)t=t[bi];return t}let hv;function oN(t){hv=t}function La(){if(void 0!==hv)return hv;if(typeof document<"u")return document;throw new ft(210,!1)}const Xh=new Wt("",{providedIn:"root",factory:()=>sN}),sN="ng",qw=new Wt(""),aN=new Wt("",{providedIn:"platform",factory:()=>"unknown"}),uN=new Wt("",{providedIn:"root",factory:()=>La().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),rS=new Wt("",{providedIn:"root",factory:()=>!1});var iD=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(iD||{});const Yh=new Wt(""),aS=new Set;function hs(t){aS.has(t)||(aS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fN(t,r){if(null!==ne())throw new ft(-602,!1)}let _v=(()=>class t{view;node;constructor(i,a){this.view=i,this.node=a}static __NG_ELEMENT_ID__=pN})();function pN(){return new _v(Be(),wn())}var Jh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Jh||{});let oD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})();const uS=[Jh.EarlyRead,Jh.Write,Jh.MixedReadWrite,Jh.Read];let cS=(()=>{class t{ngZone=_t(Cr);scheduler=_t(Ns);errorHandler=_t(ds,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_t(Yh,{optional:!0})}execute(){const i=this.sequences.size>0;i&&y(16),this.executing=!0;for(const a of uS)for(const c of this.sequences)if(!c.erroredOrDestroyed&&c.hooks[a])try{c.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,c.hooks[a])(c.pipelinedValue),c.snapshot))}catch(d){c.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const a of this.sequences)a.afterRun(),a.once&&(this.sequences.delete(a),a.destroy());for(const a of this.deferredRegistrations)this.sequences.add(a);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&y(17)}register(i){const{view:a}=i;void 0!==a?((a[25]??=[]).push(i),Su(a),a[Gt]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,a){return a?a.run(iD.AFTER_NEXT_RENDER,i):i()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})();class lS{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(r,i,a,c,d,f=null){this.impl=r,this.hooks=i,this.view=a,this.once=c,this.snapshot=f,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const r=this.view?.[25];r&&(this.view[25]=r.filter(i=>i!==this))}}function sD(t,r){!r?.injector&&Do();const i=r?.injector??_t(Ri);return hs("NgAfterNextRender"),function hS(t,r,i,a){const c=r.get(oD);c.impl??=r.get(cS);const d=r.get(Yh,null,{optional:!0}),f=i?.phase??Jh.MixedReadWrite,m=!0!==i?.manualCleanup?r.get(xa):null,v=r.get(_v,null,{optional:!0}),A=new lS(c.impl,function gN(t,r){if(t instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[r]=t,i}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,f),v?.view,a,m,d?.snapshot(null));return c.impl.register(A),A}(t,i,r,!0)}let Fu=()=>null;function hD(t,r,i=!1){return Fu(t,r,i)}function Rv(t,r){const i=t.contentQueries;if(null!==i){const a=he(null);try{for(let c=0;c<i.length;c+=2){const f=i[c+1];if(-1!==f){const m=t.data[f];mg(i[c]),m.contentQueries(2,r[f],f)}}}finally{he(a)}}}function ja(t,r,i){mg(0);const a=he(null);try{r(t,i)}finally{he(a)}}function um(t,r,i){if(kc(r)){const a=he(null);try{const d=r.directiveEnd;for(let f=r.directiveStart;f<d;f++){const m=t.data[f];m.contentQueries&&m.contentQueries(1,i[f],f)}}finally{he(a)}}}var gs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gs||{});let ff,lm;function xs(t){return function ED(){if(void 0===ff&&(ff=null,gr.trustedTypes))try{ff=gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ff}()?.createHTML(t)||t}function ud(){if(void 0===lm&&(lm=null,gr.trustedTypes))try{lm=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lm}function TD(t){return ud()?.createHTML(t)||t}function wD(t){return ud()?.createScriptURL(t)||t}class cd{changingThisBreaksApplicationSecurity;constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ai})`}}function Uu(t){return t instanceof cd?t.changingThisBreaksApplicationSecurity:t}function Jc(t,r){const i=function _S(t){return t instanceof cd&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${ai})`)}return i===r}class hm{inertDocumentHelper;constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(xs(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.firstChild?.remove(),i)}catch{return null}}}class yS{defaultDoc;inertDocument;constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=xs(r),i}}const vS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gf(t){return(t=String(t)).match(vS)?t:"unsafe:"+t}function $a(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function el(...t){const r={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(r[a]=!0);return r}const CD=$a("area,br,col,hr,img,wbr"),mf=$a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bD=$a("rp,rt"),xv=el(CD,el(mf,$a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(bD,$a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(bD,mf)),pm=$a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SD=el(pm,$a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lv=$a("script,style,template");class ES{sanitizedSomething=!1;buf=[];sanitizeChildren(r){let i=r.firstChild,a=!0,c=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)c.push(i),i=Fv(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=TS(i);if(d){i=d;break}i=c.pop()}return this.buf.join("")}startElement(r){const i=PD(r).toLowerCase();if(!xv.hasOwnProperty(i))return this.sanitizedSomething=!0,!Lv.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),f=d.name,m=f.toLowerCase();if(!SD.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=d.value;pm[m]&&(v=gf(v)),this.buf.push(" ",f,'="',Uv(v),'"')}return this.buf.push(">"),!0}endElement(r){const i=PD(r).toLowerCase();xv.hasOwnProperty(i)&&!CD.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(Uv(r))}}function TS(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw Vv(r);return r}function Fv(t){const r=t.firstChild;if(r&&function RD(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw Vv(r);return r}function PD(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function Vv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const wS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MD=/([^\#-~ |!])/g;function Uv(t){return t.replace(/&/g,"&amp;").replace(wS,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(MD,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fd;function Bv(t){return"content"in t&&function jv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($r||{});function $v(t){const r=pd();return r?TD(r.sanitize($r.HTML,t)||""):Jc(t,"HTML")?TD(Uu(t)):function DS(t,r){let i=null;try{fd=fd||function AD(t){const r=new yS(t);return function fm(){try{return!!(new window.DOMParser).parseFromString(xs(""),"text/html")}catch{return!1}}()?new hm(r):r}(t);let a=r?String(r):"";i=fd.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=i.innerHTML,i=fd.getInertBodyElement(a)}while(a!==d);return xs((new ES).sanitizeChildren(Bv(i)||i))}finally{if(i){const a=Bv(i)||i;for(;a.firstChild;)a.firstChild.remove()}}}(La(),te(t))}function gm(t){const r=pd();return r?r.sanitize($r.URL,t)||"":Jc(t,"URL")?Uu(t):gf(te(t))}function Hv(t){const r=pd();if(r)return wD(r.sanitize($r.RESOURCE_URL,t)||"");if(Jc(t,"ResourceURL"))return wD(Uu(t));throw new ft(904,!1)}function zv(t,r,i){return function fr(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Hv:gm}(r,i)(t)}function pd(){const t=Be();return t&&t[us].sanitizer}function ms(t){return t instanceof Function?t():t}function If(t,r,i){let a=t.length;for(;;){const c=t.indexOf(r,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}i=c+1}}const Yv="ng-template";function VD(t,r,i,a){let c=0;if(a){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==If(r[c+1].toLowerCase(),i,0))return!0}else if(Jv(t))return!1;if(c=r.indexOf(1,c),c>-1){let d;for(;++c<r.length&&"string"==typeof(d=r[c]);)if(d.toLowerCase()===i)return!0}return!1}function Jv(t){return 4===t.type&&t.value!==Yv}function SS(t,r,i){return r===(4!==t.type||i?t.value:Yv)}function UD(t,r,i){let a=4;const c=t.attrs,d=null!==c?function $u(t){for(let r=0;r<t.length;r++)if(Ab(t[r]))return r;return t.length}(c):0;let f=!1;for(let m=0;m<r.length;m++){const v=r[m];if("number"!=typeof v){if(!f)if(4&a){if(a=2|1&a,""!==v&&!SS(t,v,i)||""===v&&1===r.length){if(_s(a))return!1;f=!0}}else if(8&a){if(null===c||!VD(t,c,v,i)){if(_s(a))return!1;f=!0}}else{const A=r[++m],R=Yi(v,c,Jv(t),i);if(-1===R){if(_s(a))return!1;f=!0;continue}if(""!==A){let O;if(O=R>d?"":c[R+1].toLowerCase(),2&a&&A!==O){if(_s(a))return!1;f=!0}}}}else{if(!f&&!_s(a)&&!_s(v))return!1;if(f&&_s(v))continue;f=!1,a=v|1&a}}return _s(a)||f}function _s(t){return!(1&t)}function Yi(t,r,i,a){if(null===r)return-1;let c=0;if(a||!i){let d=!1;for(;c<r.length;){const f=r[c];if(f===t)return c;if(3===f||6===f)d=!0;else{if(1===f||2===f){let m=r[++c];for(;"string"==typeof m;)m=r[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=d?1:2}return-1}return function BD(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===r)return i;i++}return-1}(r,t)}function eI(t,r,i=!1){for(let a=0;a<r.length;a++)if(UD(t,r[a],i))return!0;return!1}function vd(t,r){return t?":not("+r.trim()+")":r}function RS(t){let r=t[0],i=1,a=2,c="",d=!1;for(;i<t.length;){let f=t[i];if("string"==typeof f)if(2&a){const m=t[++i];c+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?c+="."+f:4&a&&(c+=" "+f);else""!==c&&!_s(f)&&(r+=vd(d,c),c=""),a=f,d=d||!_s(a);i++}return""!==c&&(r+=vd(d,c)),r}const St={};function Tf(t,r,i){return t.createElement(r,i)}function Ga(t,r,i,a,c){t.insertBefore(r,i,a,c)}function tI(t,r,i){t.appendChild(r,i)}function nI(t,r,i,a,c){null!==a?Ga(t,r,i,a,c):tI(t,r,i)}function rI(t,r,i){const{mergedAttrs:a,classes:c,styles:d}=i;null!==a&&function zM(t,r,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const d=i[a++],f=i[a++],m=i[a++];t.setAttribute(r,f,m,d)}else{const d=c,f=i[++a];Ly(d)?t.setProperty(r,d,f):t.setAttribute(r,d,f),a++}}}(t,r,a),null!==c&&function MS(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}(t,r,c),null!==d&&function PS(t,r,i){t.setAttribute(r,"style",i)}(t,r,d)}function iI(t,r,i,a,c,d,f,m,v,A,R){const O=kt+a,Z=O+c,G=function zD(t,r){const i=[];for(let a=0;a<r;a++)i.push(a<t?null:St);return i}(O,Z),ge="function"==typeof A?A():A;return G[st]={type:t,blueprint:G,template:i,queries:null,viewQuery:m,declTNode:r,data:G.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:v,consts:ge,incompleteFirstPass:!1,ssrId:R}}function Em(t,r,i,a,c,d,f,m,v,A,R){const O=r.blueprint.slice();return O[Bn]=c,O[Gt]=1228|a,(null!==A||t&&2048&t[Gt])&&(O[Gt]|=2048),bu(O),O[Tr]=O[ba]=t,O[Hn]=i,O[us]=f||t&&t[us],O[en]=m||t&&t[en],O[ar]=v||t&&t[ar]||null,O[Xr]=d,O[Ra]=function Gb(){return Wb++}(),O[Wi]=R,O[ag]=A,O[hr]=2==r.type?t[hr]:O,O}function wf(t){let r=16;return t.signals?r=4096:t.onPush&&(r=64),r}function Fs(t,r,i,a){if(0===i)return-1;const c=r.length;for(let d=0;d<i;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function rl(t,r){return t[Ca]?t[cs][bi]=r:t[Ca]=r,t[cs]=r,r}function Df(t=1){Af(on(),Be(),co()+t,!1)}function Af(t,r,i,a){if(!a)if(3&~r[Gt]){const d=t.preOrderHooks;null!==d&&Eg(r,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&Ig(r,d,i)}Zl(i)}var Cf=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cf||{});function Tm(t,r,i,a){const c=he(null);try{const[d,f,m]=t.inputs[i];let v=null;!!(f&Cf.SignalBased)&&(v=r[d][Ne]),null!==v&&void 0!==v.transformFn?a=v.transformFn(a):null!==m&&(a=m.call(r,a)),null!==t.setInput?t.setInput(r,v,a,i,d):lg(r,v,d,a)}finally{he(c)}}function la(t,r,i,a,c){const d=co(),f=2&a;try{Zl(-1),f&&r.length>kt&&Af(t,r,kt,!1),y(f?2:0,c),i(a,c)}finally{Zl(d),y(f?3:1,c)}}function bf(t,r,i){(function Td(t,r,i){const a=i.directiveStart,c=i.directiveEnd;Uo(i)&&function NS(t,r,i){const a=be(r,t),c=function WD(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=iI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}(i),d=t[us].rendererFactory,f=rl(t,Em(t,c,null,wf(i),a,r,null,d.createRenderer(a,i),null,null,null));t[r.index]=f}(r,i,t.data[a+i.componentOffset]),t.firstCreatePass||jh(i,r);const d=i.initialInputs;for(let f=a;f<c;f++){const m=t.data[f],v=Mg(r,t,f,i);Co(v,r),null!==d&&xS(0,f-a,v,m,0,d),Gi(m)&&(nr(i.index,r)[Hn]=Mg(r,t,f,i))}})(t,r,i),!(64&~i.flags)&&function Sf(t,r,i){const a=i.directiveStart,c=i.directiveEnd,d=i.index,f=function mb(){return cn.lFrame.currentDirectiveIndex}();try{Zl(d);for(let m=a;m<c;m++){const v=t.data[m],A=r[m];Mu(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&QD(v,A)}}finally{Zl(-1),Mu(f)}}(t,r,i)}function zu(t,r,i=be){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const f=a[d+1],m=-1===f?i(r,t):t[f];t[c++]=m}}}let aI,il=()=>null;function fo(t,r,i,a,c,d,f,m){if(m||!Am(r,t,i,a,c)){if(3&r.type){const v=be(r,i);a=function KD(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=f?f(c,r.value||"",a):c,d.setProperty(v,a,c)}}else Uo(r)&&function wm(t,r){const i=nr(r,t);16&i[Gt]||(i[Gt]|=64)}(i,r.index)}function QD(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Dm(t,r){const i=t.directiveRegistry;let a=null;if(i)for(let c=0;c<i.length;c++){const d=i[c];eI(r,d.selectors,!1)&&(a??=[],Gi(d)?a.unshift(d):a.push(d))}return a}function da(t,r,i,a,c,d){const f=be(t,r);!function Vs(t,r,i,a,c,d,f){if(null==d)t.removeAttribute(r,c,i);else{const m=null==f?te(d):f(d,a||"",c);t.setAttribute(r,c,m,i)}}(r[en],f,d,t.value,i,a,c)}function xS(t,r,i,a,c,d){const f=d[r];if(null!==f)for(let m=0;m<f.length;m+=2)Tm(a,i,f[m],f[m+1])}function Am(t,r,i,a,c){const d=t.inputs?.[a],f=t.hostDirectiveInputs?.[a];let m=!1;if(f)for(let v=0;v<f.length;v+=2){const A=f[v];Tm(r.data[A],i[A],f[v+1],c),m=!0}if(d)for(const v of d)Tm(r.data[v],i[v],a,c),m=!0;return m}function ha(t,r){const i=nr(r,t),a=i[st];!function XD(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])}(a,i);const c=i[Bn];null!==c&&null===i[Wi]&&(i[Wi]=hD(c,i[ar])),y(18),Wu(a,i,i[Hn]),y(19,i[Hn])}function Wu(t,r,i){aw(r);try{const a=t.viewQuery;null!==a&&ja(1,a,i);const c=t.template;null!==c&&la(t,r,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),r[bs]?.finishViewCreation(t),t.staticContentQueries&&Rv(t,r),t.staticViewQueries&&ja(2,t.viewQuery,i);const d=t.components;null!==d&&function OS(t,r){for(let i=0;i<r.length;i++)ha(t,r[i])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Gt]&=-5,xy()}}function wd(t,r,i,a){const c=he(null);try{const d=r.tView,v=Em(t,d,i,4096&t[Gt]?4096:16,null,r,null,null,a?.injector??null,a?.embeddedViewInjector??null,a?.dehydratedView??null);v[Sa]=t[r.index];const R=t[bs];return null!==R&&(v[bs]=R.createEmbeddedView(d)),Wu(d,v,i),v}finally{he(c)}}function dn(t,r){return!r||null===r.firstChild||Kh(t)}function Rf(t,r){return aI(t,r)}var Pf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pf||{});function qa(t){return!(32&~t.flags)}function Ka(t,r,i,a,c){if(null!=a){let d,f=!1;pi(a)?d=a:Dr(a)&&(f=!0,a=a[Bn]);const m=V(a);0===t&&null!==i?null==c?tI(r,i,m):Ga(r,i,m,c||null,!0):1===t&&null!==i?Ga(r,i,m,c||null,!0):2===t?function Id(t,r,i){t.removeChild(null,r,i)}(r,m,f):3===t&&r.destroyNode(m),null!=d&&function nA(t,r,i,a,c){const d=i[Vo];d!==V(i)&&Ka(r,t,a,d,c);for(let m=wr;m<i.length;m++){const v=i[m];Nf(v[st],v,t,r,a,d)}}(r,t,d,i,c)}}function cI(t,r){r[us].changeDetectionScheduler?.notify(9),Nf(t,r,r[en],2,null,null)}function Qa(t,r){const i=t[Ma],a=i.indexOf(r);i.splice(a,1)}function Ad(t,r){if(Bo(r))return;const i=r[en];i.destroyNode&&Nf(t,r,i,3,null,null),function Dd(t){let r=t[Ca];if(!r)return Xa(t[st],t);for(;r;){let i=null;if(Dr(r))i=r[Ca];else{const a=r[wr];a&&(i=a)}if(!i){for(;r&&!r[bi]&&r!==t;)Dr(r)&&Xa(r[st],r),r=r[Tr];null===r&&(r=t),Dr(r)&&Xa(r[st],r),i=r&&r[bi]}r=i}}(r)}function Xa(t,r){if(Bo(r))return;const i=he(null);try{r[Gt]&=-129,r[Gt]|=256,r[Ui]&&we(r[Ui]),function Cd(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=r[i[a]];if(!(c instanceof wg)){const d=i[a+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const m=c[d[f]],v=d[f+1];y(4,m,v);try{v.call(m)}finally{y(5,m,v)}}else{y(4,c,d);try{d.call(c)}finally{y(5,c,d)}}}}}(t,r),function YD(t,r){const i=t.cleanup,a=r[ra];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const m=i[f+3];m>=0?a[m]():a[-m].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(r[ra]=null);const c=r[ls];if(null!==c){r[ls]=null;for(let f=0;f<c.length;f++)(0,c[f])()}const d=r[Ss];if(null!==d){r[Ss]=null;for(const f of d)f.destroy()}}(t,r),1===r[st].type&&r[en].destroy();const a=r[Sa];if(null!==a&&pi(r[Tr])){a!==r[Tr]&&Qa(a,r);const c=r[bs];null!==c&&c.detachView(t)}nv(r)}finally{he(i)}}function Cm(t,r,i){return function lI(t,r,i){let a=r;for(;null!==a&&168&a.type;)a=(r=a).parent;if(null===a)return i[Bn];if(Uo(a)){const{encapsulation:c}=t.data[a.directiveStart+a.componentOffset];if(c===gs.None||c===gs.Emulated)return null}return be(a,i)}(t,r.parent,i)}let Nr,eA=function JD(t,r,i){return 40&t.type?be(t,i):null};function sl(t,r,i,a){const c=Cm(t,a,r),d=r[en],m=function bd(t,r,i){return eA(t,r,i)}(a.parent||r[Xr],a,r);if(null!=c)if(Array.isArray(i))for(let v=0;v<i.length;v++)nI(d,c,i[v],m,!1);else nI(d,c,i,m,!1);void 0!==Nr&&Nr(d,a,r,i,c)}function Gu(t,r){if(null!==r){const i=r.type;if(3&i)return be(r,t);if(4&i)return al(-1,t[r.index]);if(8&i){const a=r.child;if(null!==a)return Gu(t,a);{const c=t[r.index];return pi(c)?al(-1,c):V(c)}}if(128&i)return Gu(t,r.next);if(32&i)return Rf(r,t)()||V(t[r.index]);{const a=tA(t,r);return null!==a?Array.isArray(a)?a[0]:Gu(Ru(t[hr]),a):Gu(t,r.next)}}return null}function tA(t,r){return null!==r?t[hr][Xr].projection[r.projection]:null}function al(t,r){const i=wr+t+1;if(i<r.length){const a=r[i],c=a[st].firstChild;if(null!==c)return Gu(a,c)}return r[Vo]}function dI(t,r,i,a,c,d,f){for(;null!=i;){if(128===i.type){i=i.next;continue}const m=a[i.index],v=i.type;if(f&&0===r&&(m&&Co(V(m),a),i.flags|=2),!qa(i))if(8&v)dI(t,r,i.child,a,c,d,!1),Ka(r,t,c,m,d);else if(32&v){const A=Rf(i,a);let R;for(;R=A();)Ka(r,t,c,R,d);Ka(r,t,c,m,d)}else 16&v?fa(t,r,a,i,c,d):Ka(r,t,c,m,d);i=f?i.projectionNext:i.next}}function Nf(t,r,i,a,c,d){dI(i,a,t.firstChild,r,c,d,!1)}function fa(t,r,i,a,c,d){const f=i[hr],v=f[Xr].projection[a.projection];if(Array.isArray(v))for(let A=0;A<v.length;A++)Ka(r,t,c,v[A],d);else{let A=v;const R=f[Tr];Kh(a)&&(A.flags|=128),dI(t,r,A,R,c,d,!0)}}function ul(t,r,i,a,c=!1){for(;null!==i;){if(128===i.type){i=c?i.projectionNext:i.next;continue}const d=r[i.index];null!==d&&a.push(V(d)),pi(d)&&qu(d,a);const f=i.type;if(8&f)ul(t,r,i.child,a);else if(32&f){const m=Rf(i,r);let v;for(;v=m();)a.push(v)}else if(16&f){const m=tA(r,i);if(Array.isArray(m))a.push(...m);else{const v=Ru(r[hr]);ul(v[st],v,m,a,!0)}}i=c?i.projectionNext:i.next}return a}function qu(t,r){for(let i=wr;i<t.length;i++){const a=t[i],c=a[st].firstChild;null!==c&&ul(a[st],a,c,r)}t[Vo]!==t[Bn]&&r.push(t[Vo])}function bm(t){if(null!==t[25]){for(const r of t[25])r.impl.addSequence(r);t[25].length=0}}let Sm=[];const FS={...se,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Su(t.lView)},consumerOnSignalRead(){this.lView[Ui]=this}},zn={...se,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let r=Ru(t.lView);for(;r&&!pI(r[st]);)r=Ru(r);r&&xc(r)},consumerOnSignalRead(){this.lView[Ui]=this}};function pI(t){return 2!==t.type}function gI(t){if(null===t[Ss])return;let r=!0;for(;r;){let i=!1;for(const a of t[Ss])a.dirty&&(i=!0,null===a.zone||Zone.current===a.zone?a.run():a.zone.run(()=>a.run()));r=i&&!!(8192&t[Gt])}}function Pm(t,r=!0,i=0){const c=t[us].rendererFactory;c.begin?.();try{!function oA(t,r){const i=pb();try{Xl(!0),Nm(t,r);let a=0;for(;Lc(t);){if(100===a)throw new ft(103,!1);a++,Nm(t,1)}}finally{Xl(i)}}(t,i)}catch(f){throw r&&function ol(t,r){const i=t[ar],a=i?i.get(ds,null):null;a&&a.handleError(r)}(t,f),f}finally{c.end?.()}}function Mm(t,r,i,a){if(Bo(r))return;const c=r[Gt];aw(r);let m=!0,v=null,A=null;pI(t)?(A=function hI(t){return t[Ui]??function fI(t){const r=Sm.pop()??Object.create(FS);return r.lView=t,r}(t)}(r),v=Ft(A)):null===ne()?(m=!1,A=function wi(t){const r=t[Ui]??Object.create(zn);return r.lView=t,r}(r),v=Ft(A)):r[Ui]&&(we(r[Ui]),r[Ui]=null);try{bu(r),function gb(t){return cn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&la(t,r,i,2,a);const R=!(3&~c);if(R){const G=t.preOrderCheckHooks;null!==G&&Ig(r,G,null)}else{const G=t.preOrderHooks;null!==G&&Eg(r,G,0,null),Lh(r,0)}if(function kf(t){for(let r=uv(t);null!==r;r=Uw(r)){if(!(2&r[Gt]))continue;const i=r[Ma];for(let a=0;a<i.length;a++)xc(i[a])}}(r),gI(r),Rd(r,0),null!==t.contentQueries&&Rv(t,r),R){const G=t.contentCheckHooks;null!==G&&Ig(r,G)}else{const G=t.contentHooks;null!==G&&Eg(r,G,1),Lh(r,1)}!function sA(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)Zl(~c);else{const d=c,f=i[++a],m=i[++a];Ny(f,d);const v=r[d];y(24,v),m(2,v),y(25,v)}}}finally{Zl(-1)}}(t,r);const O=t.components;null!==O&&_I(r,O,0);const Z=t.viewQuery;if(null!==Z&&ja(2,Z,a),R){const G=t.viewCheckHooks;null!==G&&Ig(r,G)}else{const G=t.viewHooks;null!==G&&Eg(r,G,2),Lh(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[22]){for(const G of r[22])G();r[22]=null}bm(r),r[Gt]&=-73}catch(R){throw Su(r),R}finally{null!==A&&(Zt(A,v),m&&function iA(t){t.lView[Ui]!==t&&(t.lView=null,Sm.push(t))}(A)),xy()}}function Rd(t,r){for(let i=uv(t);null!==i;i=Uw(i))for(let a=wr;a<i.length;a++)Of(i[a],r)}function xf(t,r,i){y(18);const a=nr(r,t);Of(a,i),y(19,a[Hn])}function Of(t,r){gi(t)&&Nm(t,r)}function Nm(t,r){const a=t[st],c=t[Gt],d=t[Ui];let f=!!(0===r&&16&c);if(f||=!!(64&c&&0===r),f||=!!(1024&c),f||=!(!d?.dirty||!rt(d)),f||=!1,d&&(d.dirty=!1),t[Gt]&=-9217,f)Mm(a,t,a.template,t[Hn]);else if(8192&c){gI(t),Rd(t,1);const m=a.components;null!==m&&_I(t,m,1),bm(t)}}function _I(t,r,i){for(let a=0;a<r.length;a++)xf(t,r[a],i)}function Lf(t,r){const i=pb()?64:1088;for(t[us].changeDetectionScheduler?.notify(r);t;){t[Gt]|=i;const a=Ru(t);if(Si(t)&&!a)return t;t=a}return null}function Ff(t,r,i,a){return[t,!0,0,r,null,a,null,i,null,null]}function yI(t,r){const i=wr+r;if(i<t.length)return t[i]}function Pd(t,r,i,a=!0){const c=r[st];if(function VS(t,r,i,a){const c=wr+a,d=i.length;a>0&&(i[c-1][bi]=r),a<d-wr?(r[bi]=i[c],Kt(i,wr+a,r)):(i.push(r),r[bi]=null),r[Tr]=i;const f=r[Sa];null!==f&&i!==f&&km(f,r);const m=r[bs];null!==m&&m.insertView(t),Dy(r),r[Gt]|=128}(c,r,t,i),a){const f=al(i,t),m=r[en],v=m.parentNode(t[Vo]);null!==v&&function LS(t,r,i,a,c,d){a[Bn]=c,a[Xr]=r,Nf(t,a,i,1,c,d)}(c,t[Xr],m,r,v,f)}const d=r[Wi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function vI(t,r){const i=Vf(t,r);return void 0!==i&&Ad(i[st],i),i}function Vf(t,r){if(t.length<=wr)return;const i=wr+r,a=t[i];if(a){const c=a[Sa];null!==c&&c!==t&&Qa(c,a),r>0&&(t[i-1][bi]=a[bi]);const d=Tn(t,wr+r);!function ZD(t,r){cI(t,r),r[Bn]=null,r[Xr]=null}(a[st],a);const f=d[bs];null!==f&&f.detachView(d[st]),a[Tr]=null,a[bi]=null,a[Gt]&=-129}return a}function km(t,r){const i=t[Ma],a=r[Tr];(Dr(a)||r[hr]!==a[Tr][hr])&&(t[Gt]|=2),null===i?t[Ma]=[r]:i.push(r)}let pa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const r=this._lView,i=r[st];return ul(i,r,i.firstChild,[])}constructor(r,i,a=!0){this._lView=r,this._cdRefInjectingView=i,this.notifyErrorHandler=a}get context(){return this._lView[Hn]}set context(r){this._lView[Hn]=r}get destroyed(){return Bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Tr];if(pi(r)){const i=r[8],a=i?i.indexOf(this):-1;a>-1&&(Vf(r,a),Tn(i,a))}this._attachedToViewContainer=!1}Ad(this._lView[st],this._lView)}onDestroy(r){hg(this._lView,r)}markForCheck(){Lf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Gt]&=-129}reattach(){Dy(this._lView),this._lView[Gt]|=128}detectChanges(){this._lView[Gt]|=1024,Pm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Si(this._lView),i=this._lView[Sa];null!==i&&!r&&Qa(i,this._lView),cI(this._lView[st],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=r;const i=Si(this._lView),a=this._lView[Sa];null!==a&&!i&&km(a,this._lView),Dy(this._lView)}},Lr=(()=>class t{static __NG_ELEMENT_ID__=aA})();const II=Lr,EI=class extends II{_declarationLView;_declarationTContainer;elementRef;constructor(r,i,a){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,i){return this.createEmbeddedViewImpl(r,i)}createEmbeddedViewImpl(r,i,a){const c=wd(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new pa(c)}};function aA(){return Ku(wn(),Be())}function Ku(t,r){return 4&t.type?new EI(r,t,Ou(t,r)):null}function ll(t,r,i,a,c){let d=t.data[r];if(null===d)d=function wI(t,r,i,a,c){const d=hb(),f=Py(),v=t.data[r]=function Ya(t,r,i,a,c,d){let f=r?r.injectorIndex:-1,m=0;return function Ql(){return null!==cn.skipHydrationRootTNode}()&&(m|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,i,r,a,c);return function pA(t,r,i,a){null===t.firstChild&&(t.firstChild=r),null!==i&&(a?null==i.child&&null!==r.parent&&(i.child=r):null===i.next&&(i.next=r,r.prev=i))}(t,v,d,f),v}(t,r,i,a,c),function VM(){return cn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=a,d.attrs=c;const f=function fg(){const t=cn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return Yo(d,!0),d}let Xf=()=>null;function _l(t,r){return Xf(t,r)}let JS=class{},LI=class{};class yl{resolveComponentFactory(r){throw Error(`No component factory found for ${Pn(r)}.`)}}let ec=class{static NULL=new yl};class Wm{}let NA=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function eR(){const t=Be(),i=nr(wn().index,t);return(Dr(i)?i:t)[en]}()})(),kA=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>null})}return t})();function vl(t){return!!hi(t)}const Ud={};class Ja{injector;parentInjector;constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,a){a=uo(a);const c=this.injector.get(r,Ud,a);return c!==Ud||i===Ud?c:this.parentInjector.get(r,i,a)}}function VI(t,r,i){let a=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?d=m:1==d?c=ae(c,m):2==d&&(a=ae(a,m+": "+r[++f]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}function Il(t,r=Qt.Default){const i=Be();return null===i?or(t,r):Pg(wn(),i,de(t),r)}function eu(){throw new Error("invalid")}function Yf(t,r,i,a,c){const d=null===a?null:{"":-1},f=c(t,i);if(null!==f){let m,v=null,A=null;const R=function BI(t){let r=null,i=!1;for(let f=0;f<t.length;f++){const m=t[f];if(0===f&&Gi(m)&&(r=m),null!==m.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let a=null,c=null,d=null;for(const f of t)null!==f.findHostDirectiveDefs&&(a??=[],c??=new Map,d??=new Map,xA(f,a,d,c)),f===r&&(a??=[],a.push(f));return null!==a?(a.push(...null===r?t:t.slice(1)),[a,c,d]):null}(f);null===R?m=f:[m,v,A]=R,function Jf(t,r,i,a,c,d,f){const m=a.length;let v=!1;for(let Z=0;Z<m;Z++){const G=a[Z];!v&&Gi(G)&&(v=!0,jI(t,i,Z)),Vy(jh(i,r),t,G.type)}!function FA(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,m);for(let Z=0;Z<m;Z++){const G=a[Z];G.providersResolver&&G.providersResolver(G)}let A=!1,R=!1,O=Fs(t,r,m,null);m>0&&(i.directiveToIndex=new Map);for(let Z=0;Z<m;Z++){const G=a[Z];if(i.mergedAttrs=Vh(i.mergedAttrs,G.hostAttrs),HI(t,i,r,O,G),LA(O,G,c),null!==f&&f.has(G)){const[je,lt]=f.get(G);i.directiveToIndex.set(G.type,[O,je+i.directiveStart,lt+i.directiveStart])}else(null===d||!d.has(G))&&i.directiveToIndex.set(G.type,O);null!==G.contentQueries&&(i.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(i.flags|=64);const ge=G.type.prototype;!A&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),A=!0),!R&&(ge.ngOnChanges||ge.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),R=!0),O++}!function Km(t,r,i){for(let a=r.directiveStart;a<r.directiveEnd;a++){const c=t.data[a];if(null!==i&&i.has(c)){const d=i.get(c);Xm(0,r,d,a),Xm(1,r,d,a),$I(r,a,!0)}else Qm(0,r,c,a),Qm(1,r,c,a),$I(r,a,!1)}}(t,i,d)}(t,r,i,m,d,v,A)}null!==d&&null!==a&&function UI(t,r,i){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=i[r[c+1]];if(null==d)throw new ft(-301,!1);a.push(r[c],d)}}(i,a,d)}function xA(t,r,i,a){const c=r.length;t.findHostDirectiveDefs(t,r,a),i.set(t,[c,r.length-1])}function jI(t,r,i){r.componentOffset=i,(t.components??=[]).push(r.index)}function Qm(t,r,i,a){const c=0===t?i.inputs:i.outputs;for(const d in c)if(c.hasOwnProperty(d)){let f;f=0===t?r.inputs??={}:r.outputs??={},f[d]??=[],f[d].push(a),OA(r,d)}}function Xm(t,r,i,a){const c=0===t?i.inputs:i.outputs;for(const d in c)if(c.hasOwnProperty(d)){const f=c[d];let m;m=0===t?r.hostDirectiveInputs??={}:r.hostDirectiveOutputs??={},m[f]??=[],m[f].push(a,d),OA(r,f)}}function OA(t,r){"class"===r?t.flags|=8:"style"===r&&(t.flags|=16)}function $I(t,r,i){const{attrs:a,inputs:c,hostDirectiveInputs:d}=t;if(null===a||!i&&null===c||i&&null===d||Jv(t))return t.initialInputs??=[],void t.initialInputs.push(null);let f=null,m=0;for(;m<a.length;){const v=a[m];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!i&&c.hasOwnProperty(v)){const A=c[v];for(const R of A)if(R===r){f??=[],f.push(v,a[m+1]);break}}else if(i&&d.hasOwnProperty(v)){const A=d[v];for(let R=0;R<A.length;R+=2)if(A[R]===r){f??=[],f.push(A[R+1],a[m+1]);break}}m+=2}else m+=2;else m+=4}t.initialInputs??=[],t.initialInputs.push(f)}function HI(t,r,i,a,c){t.data[a]=c;const d=c.factory||(c.factory=pe(c.type)),f=new wg(d,Gi(c),Il);t.blueprint[a]=f,i[a]=f,function iR(t,r,i,a,c){const d=c.hostBindings;if(d){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const m=~r.index;(function oR(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(f)!=m&&f.push(m),f.push(i,a,d)}}(t,r,a,Fs(t,i,c.hostVars,St),c)}function LA(t,r,i){if(i){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)i[r.exportAs[a]]=t;Gi(r)&&(i[""]=t)}}function UA(t,r,i,a,c,d,f,m){const v=r.consts,R=ll(r,t,2,a,Br(v,f));return d&&Yf(r,i,R,Br(v,m),c),R.mergedAttrs=Vh(R.mergedAttrs,R.attrs),null!==R.attrs&&VI(R,R.attrs,!1),null!==R.mergedAttrs&&VI(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}function zI(t,r){uw(t,r),kc(r)&&t.queries.elementEnd(r)}class BA extends ec{ngModule;constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=mn(r);return new jd(i,this.ngModule)}}class jd extends LI{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function jA(t){return Object.keys(t).map(r=>{const[i,a,c]=t[r],d={propName:i,templateName:r,isSignal:!!(a&Cf.SignalBased)};return c&&(d.transform=c),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function sR(t){return Object.keys(t).map(r=>({propName:t[r],templateName:r}))}(this.componentDef.outputs),this.cachedOutputs}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function $D(t){return t.map(RS).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors??[],this.isBoundToModule=!!i}create(r,i,a,c){y(22);const d=he(null);try{const f=this.componentDef,m=a?["ng-version","19.2.5"]:function Fn(t){const r=[],i=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&i.push(d);else{if(!_s(c))break;c=d}a++}return i.length&&r.push(1,...i),r}(this.componentDef.selectors[0]),v=iI(0,null,null,1,0,null,null,null,null,[m],null),A=function Bd(t,r,i){let a=r instanceof wo?r:r?.injector;return a&&null!==t.getStandaloneInjector&&(a=t.getStandaloneInjector(a)||a),a?new Ja(i,a):i}(f,c||this.ngModule,r),R=function WI(t){const r=t.get(Wm,null);if(null===r)throw new ft(407,!1);return{rendererFactory:r,sanitizer:t.get(kA,null),changeDetectionScheduler:t.get(Ns,null)}}(A),O=R.rendererFactory.createRenderer(null,f),Z=a?function GD(t,r,i,a){const d=a.get(rS,!1)||i===gs.ShadowDom,f=t.selectRootElement(r,d);return function oI(t){il(t)}(f),f}(O,a,f.encapsulation,A):function Zm(t,r){const i=(t.selectors[0][0]||"div").toLowerCase();return Tf(r,i,"svg"===i?"svg":"math"===i?"math":null)}(f,O),G=Em(null,v,null,512|wf(f),null,null,R,O,A,null,hD(Z,A,!0));G[kt]=Z,aw(G);let ge=null;try{const je=UA(kt,v,G,"#host",()=>[this.componentDef],!0,0);Z&&(rI(O,Z,je),Co(Z,G)),bf(v,G,je),um(v,je,G),zI(v,je),void 0!==i&&function HA(t,r,i){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=i[c];a.push(null!=d&&d.length?Array.from(d):null)}}(je,this.ngContentSelectors,i),ge=nr(je.index,G),G[Hn]=ge[Hn],Wu(v,G,null)}catch(je){throw null!==ge&&nv(ge),nv(G),je}finally{y(23),xy()}return new $A(this.componentType,G)}finally{he(d)}}}class $A extends JS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(r,i){super(),this._rootLView=i,this._tNode=tn(i[st],kt),this.location=Ou(this._tNode,i),this.instance=nr(this._tNode.index,i)[Hn],this.hostView=this.changeDetectorRef=new pa(i,void 0,!1),this.componentType=r}setInput(r,i){const a=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;const c=this._rootLView;Am(a,c[st],c,r,i),this.previousInputValues.set(r,i),Lf(nr(a.index,c),1)}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}let Ym=(()=>class t{static __NG_ELEMENT_ID__=GI})();function GI(){return KI(wn(),Be())}const aR=Ym,Jm=class extends aR{_lContainer;_hostTNode;_hostLView;constructor(r,i,a){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=a}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sg(this._hostTNode,this._hostLView);if(Uh(r)){const i=Bh(r,this._hostLView),a=Dg(r);return new ti(i[st].data[a+8],i)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=qI(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-wr}createEmbeddedView(r,i,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const f=_l(this._lContainer,r.ssrId),m=r.createEmbeddedViewImpl(i||{},d,f);return this.insertImpl(m,c,dn(this._hostTNode,f)),m}createComponent(r,i,a,c,d){const f=r&&!function na(t){return"function"==typeof t}(r);let m;if(f)m=i;else{const ge=i||{};m=ge.index,a=ge.injector,c=ge.projectableNodes,d=ge.environmentInjector||ge.ngModuleRef}const v=f?r:new jd(mn(r)),A=a||this.parentInjector;if(!d&&null==v.ngModule){const je=(f?A:this.parentInjector).get(wo,null);je&&(d=je)}const R=mn(v.componentType??{}),O=_l(this._lContainer,R?.id??null),G=v.create(A,c,O?.firstChild??null,d);return this.insertImpl(G.hostView,m,dn(this._hostTNode,O)),G}insert(r,i){return this.insertImpl(r,i,!0)}insertImpl(r,i,a){const c=r._lView;if(function Rs(t){return pi(t[Tr])}(c)){const m=this.indexOf(r);if(-1!==m)this.detach(m);else{const v=c[Tr],A=new Jm(v,v[Xr],v[Tr]);A.detach(A.indexOf(r))}}const d=this._adjustIndex(i),f=this._lContainer;return Pd(f,c,d,a),r.attachToViewContainerRef(),Kt(e_(f),d,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=qI(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),a=Vf(this._lContainer,i);a&&(Tn(e_(this._lContainer),i),Ad(a[st],a))}detach(r){const i=this._adjustIndex(r,-1),a=Vf(this._lContainer,i);return a&&null!=Tn(e_(this._lContainer),i)?new pa(a):null}_adjustIndex(r,i=0){return r??this.length+i}};function qI(t){return t[8]}function e_(t){return t[8]||(t[8]=[])}function KI(t,r){let i;const a=r[t.index];return pi(a)?i=a:(i=Ff(a,r,null,t),r[t.index]=i,rl(r,i)),QI(i,r,t,a),new Jm(i,t,r)}let QI=function np(t,r,i,a){if(t[Vo])return;let c;c=8&i.type?V(a):function zA(t,r){const i=t[en],a=i.createComment(""),c=be(r,t),d=i.parentNode(c);return Ga(i,d,a,i.nextSibling(c),!1),a}(r,i),t[Vo]=c},tp=()=>!1;class ip{queryList;matches=null;constructor(r){this.queryList=r}clone(){return new ip(this.queryList)}setDirty(){this.queryList.setDirty()}}class op{queries;constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const a=null!==r.contentQueries?r.contentQueries[0]:i.length,c=[];for(let d=0;d<a;d++){const f=i.getByIndex(d);c.push(this.queries[f.indexInDeclarationView].clone())}return new op(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==o_(r,i).matches&&this.queries[i].setDirty()}}class ZI{flags;read;predicate;constructor(r,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof r?function i_(t){return t.split(",").map(r=>r.trim())}(r):r}}class YI{queries;constructor(r=[]){this.queries=r}elementStart(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==i?i.push(d):i=[d])}return null!==i?new YI(i):null}template(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class n_{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(r,i=-1){this.metadata=r,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new n_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,i,WA(i,d)),this.matchTNodeWithReadOption(r,i,Uy(i,r,d,!1,!1))}else a===Lr?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,Uy(i,r,a,!1,!1))}matchTNodeWithReadOption(r,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Gh||c===Ym||c===Lr&&4&i.type)this.addMatch(i.index,-2);else{const d=Uy(i,r,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,a)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function WA(t,r){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===r)return i[a+1];return null}function JI(t,r,i,a){return-1===i?function r_(t,r){return 11&t.type?Ou(t,r):4&t.type?Ku(t,r):null}(r,t):-2===i?function eE(t,r,i){return i===Gh?Ou(r,t):i===Lr?Ku(r,t):i===Ym?KI(r,t):void 0}(t,r,a):Mg(t,t[st],i,r)}function GA(t,r,i,a){const c=r[bs].queries[a];if(null===c.matches){const d=t.data,f=i.matches,m=[];for(let v=0;null!==f&&v<f.length;v+=2){const A=f[v];m.push(A<0?null:JI(r,d[A],f[v+1],i.metadata.read))}c.matches=m}return c.matches}function tE(t,r,i,a){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const f=GA(t,r,c,i);for(let m=0;m<d.length;m+=2){const v=d[m];if(v>0)a.push(f[m/2]);else{const A=d[m+1],R=r[-v];for(let O=wr;O<R.length;O++){const Z=R[O];Z[Sa]===Z[Tr]&&tE(Z[st],Z,A,a)}if(null!==R[Ma]){const O=R[Ma];for(let Z=0;Z<O.length;Z++){const G=O[Z];tE(G[st],G,A,a)}}}}}return a}function rE(t,r,i,a){const c=on();if(c.firstCreatePass){const d=wn();(function $d(t,r,i){null===t.queries&&(t.queries=new YI),t.queries.track(new n_(r,i))})(c,new ZI(r,i,a),d.index),function iE(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(c,t),!(2&~i)&&(c.staticContentQueries=!0)}return function Ji(t,r,i){const a=new Hg(!(4&~i));return function Ay(t,r,i,a){const c=Mh(r);c.push(i),t.firstCreatePass&&Fc(t).push(a,c.length-1)}(t,r,a,a.destroy),(r[bs]??=new op).queries.push(new ip(a))-1}(c,Be(),i)}function o_(t,r){return t.queries.getByIndex(r)}function oE(t,r){const i=t[st],a=o_(i,r);return a.crossesNgTemplate?tE(i,t,r,[]):GA(i,t,a,r)}let tu=class{},hE=class{};function fE(t,r){return new up(t,r??null,[])}class up extends tu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new BA(this);constructor(r,i,a,c=!0){super(),this.ngModuleType=r,this._parent=i;const d=hi(r);this._bootstrapComponents=ms(d.bootstrap),this._r3Injector=xu(r,i,[{provide:tu,useValue:this},{provide:ec,useValue:this.componentFactoryResolver},...a],Pn(r),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class rc extends hE{moduleType;constructor(r){super(),this.moduleType=r}create(r){return new up(this.moduleType,r,[])}}class l_ extends tu{injector;componentFactoryResolver=new BA(this);instance=null;constructor(r){super();const i=new Iu([...r.providers,{provide:tu,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],r.parent||vu(),r.debugName,new Set(["environment"]));this.injector=i,r.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function oc(t,r,i=null){return new l_({providers:t,parent:r,debugName:i,runEnvironmentInitializers:!0}).injector}let Hd=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Cc(0,i.type),c=a.length>0?oc([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ae({token:t,providedIn:"environment",factory:()=>new t(or(wo))})}return t})();function pE(t){return pr(()=>{const r=f_(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:r.standalone?c=>c.get(Hd).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gs.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""};r.standalone&&hs("NgStandalone"),h0(i);const a=t.dependencies;return i.directiveDefs=p_(a,!1),i.pipeDefs=p_(a,!0),i.id=function yE(t){let r=0;const a=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const d of a.join("|"))r=Math.imul(31,r)+d.charCodeAt(0)|0;return r+=2147483648,"c"+r}(i),i})}function zd(t){return mn(t)||fi(t)}function pR(t){return null!==t}function gE(t){return pr(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function d0(t,r){if(null==t)return sr;const i={};for(const a in t)if(t.hasOwnProperty(a)){const c=t[a];let d,f,m,v;Array.isArray(c)?(m=c[0],d=c[1],f=c[2]??d,v=c[3]||null):(d=c,f=c,m=Cf.None,v=null),i[d]=[a,m,v],r[d]=f}return i}function mE(t){if(null==t)return sr;const r={};for(const i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);return r}function d_(t){return pr(()=>{const r=f_(t);return h0(r),r})}function h_(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function f_(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputConfig:t.inputs||sr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:d0(t.inputs,r),outputs:mE(t.outputs),debugInfo:null}}function h0(t){t.features?.forEach(r=>r(t))}function p_(t,r){if(!t)return null;const i=r?Fi:zd;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(pR)}function cp(t){let r=function vE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;r;){let c;if(Gi(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ft(903,!1);c=r.\u0275dir}if(c){if(i){a.push(c);const f=t;f.inputs=IE(t.inputs),f.declaredInputs=IE(t.declaredInputs),f.outputs=IE(t.outputs);const m=c.hostBindings;m&&m0(t,m);const v=c.viewQuery,A=c.contentQueries;if(v&&p0(t,v),A&&g0(t,A),gR(t,c),so(t.outputs,c.outputs),Gi(c)&&c.data.animation){const R=t.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let f=0;f<d.length;f++){const m=d[f];m&&m.ngInherit&&m(t),m===cp&&(i=!1)}}r=Object.getPrototypeOf(r)}!function f0(t){let r=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Vh(c.hostAttrs,i=Vh(i,c.hostAttrs))}}(a)}function gR(t,r){for(const i in r.inputs){if(!r.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const a=r.inputs[i];void 0!==a&&(t.inputs[i]=a,t.declaredInputs[i]=r.declaredInputs[i])}}function IE(t){return t===sr?{}:t===gn?[]:t}function p0(t,r){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{r(a,c),i(a,c)}:r}function g0(t,r){const i=t.contentQueries;t.contentQueries=i?(a,c,d)=>{r(a,c,d),i(a,c,d)}:r}function m0(t,r){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{r(a,c),i(a,c)}:r}function Wd(t){return!!dp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function dp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Is(t,r,i){return t[r]=i}function zr(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function Gd(t,r,i,a,c){const d=function ac(t,r,i,a){const c=zr(t,r,i);return zr(t,r+1,a)||c}(t,r,i,a);return zr(t,r+2,c)||d}function Dl(t,r,i,a,c,d,f,m,v,A){const R=i+kt,O=r.firstCreatePass?function ER(t,r,i,a,c,d,f,m,v){const A=r.consts,R=ll(r,t,4,f||null,m||null);xh()&&Yf(r,i,R,Br(A,v),Dm),R.mergedAttrs=Vh(R.mergedAttrs,R.attrs),uw(r,R);const O=R.tView=iI(2,R,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,A,null);return null!==r.queries&&(r.queries.template(r,R),O.queries=r.queries.embeddedTView(R)),R}(R,r,t,a,c,d,f,m,v):r.data[R];Yo(O,!1);const Z=m_(r,t,O,i);vg()&&sl(r,t,Z,O),Co(Z,t);const G=Ff(Z,t,Z,O);return t[R]=G,rl(t,G),function js(t,r,i){return tp(t,r,i)}(G,O,t),Tu(O)&&bf(r,t,O),null!=v&&zu(t,O,A),O}function wE(t,r,i,a,c,d,f,m){const v=Be(),A=on();return Dl(v,A,t,r,i,a,c,Br(A.consts,d),f,m),wE}let m_=function E0(t,r,i,a){return Ms(!0),r[en].createComment("")};let gp=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const mp=new Wt(""),bn=new Wt("");let D_,V0=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(i,a,c){this._ngZone=i,this.registry=a,D_||(function U0(t){D_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),i()},a)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}static \u0275fac=function(a){return new(a||t)(or(Cr),or(HE),or(bn))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),HE=(()=>{class t{_applications=new Map;registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return D_?.findTestabilityInTree(this,i,a)??null}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Al=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new zR})}return t})();class zR{queuedEffectCount=0;queues=new Map;schedule(r){this.enqueue(r)}remove(r){const a=this.queues.get(r.zone);a.has(r)&&(a.delete(r),this.queuedEffectCount--)}enqueue(r){const i=r.zone;this.queues.has(i)||this.queues.set(i,new Set);const a=this.queues.get(i);a.has(r)||(this.queuedEffectCount++,a.add(r))}flush(){for(;this.queuedEffectCount>0;)for(const[r,i]of this.queues)null===r?this.flushQueue(i):r.run(()=>this.flushQueue(i))}flushQueue(r){for(const i of r)r.delete(i),this.queuedEffectCount--,i.run()}}function Mi(t){return!!t&&"function"==typeof t.then}function ii(t){return!!t&&"function"==typeof t.subscribe}const Es=new Wt("");let WR=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a});appInits=_t(Es,{optional:!0})??[];injector=_t(Ri);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=Da(this.injector,c);if(Mi(d))i.push(d);else if(ii(d)){const f=new Promise((m,v)=>{d.subscribe({complete:m,error:v})});i.push(f)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eh=new Wt("");let Ts=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_t(Aw);afterRenderManager=_t(oD);zonelessEnabled=_t(Og);rootEffectScheduler=_t(Al);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new io.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=_t(sa).hasPendingTasks.pipe((0,Di.T)(i=>!i));constructor(){_t(Yh,{optional:!0})}whenStable(){let i;return new Promise(a=>{i=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{i.unsubscribe()})}_injector=_t(wo);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,a){y(10);const c=i instanceof LI;if(!this._injector.get(WR).done)throw new ft(405,"");let f;f=c?i:this._injector.get(ec).resolveComponentFactory(i),this.componentTypes.push(f.componentType);const m=function B0(t){return t.isBoundToModule}(f)?void 0:this._injector.get(tu),A=f.create(Ri.NULL,[],a||f.selector,m),R=A.location.nativeElement,O=A.injector.get(mp,null);return O?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),GE(this.components,A),O?.unregisterApplication(R)}),this._loadComponent(A),y(11,A),A}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){y(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(iD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ft(101,!1);const i=he(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(i),this.afterTick.next(),y(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wm,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)y(14),this.synchronizeOnce(),y(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a,notifyErrorHandler:c}of this.allViews)qR(a,c,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Lc(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;GE(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(eh,[]).forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>GE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ft(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GE(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function qR(t,r,i,a){(i||Lc(t))&&Pm(t,r,i&&!a?0:1)}function Pl(t,r,i,a){const c=Be();return zr(c,jo(),r)&&(on(),da(Ar(),c,t,r,i,a)),Pl}function _a(t,r,i,a){return zr(t,jo(),i)?r+te(i)+a:St}function $s(t,r,i,a,c,d,f,m){const A=Gd(t,function Ps(){return cn.lFrame.bindingIndex}(),i,c,f);return Pu(3),A?r+te(i)+a+te(c)+d+te(f)+m:St}function bp(t,r){return t<<17|r<<2}function mc(t){return t>>17&32767}function P_(t){return 2|t}function ru(t){return(131068&t)>>2}function oT(t,r){return-131069&t|r<<2}function tC(t){return 1|t}function uP(t,r,i,a){const c=t[i+1],d=null===r;let f=a?mc(c):ru(c),m=!1;for(;0!==f&&(!1===m||d);){const A=t[f+1];Ml(t[f],r)&&(m=!0,t[f+1]=a?tC(A):P_(A)),f=a?mc(A):ru(A)}m&&(t[i+1]=a?P_(c):tC(c))}function Ml(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Nn(t,r)>=0}function sT(t,r,i){const a=Be();return zr(a,jo(),r)&&fo(on(),Ar(),a,t,r,a[en],i,!1),sT}function aT(t,r,i,a,c){Am(r,t,i,c?"class":"style",a)}function Nl(t,r){return function Hs(t,r,i,a){const c=Be(),d=on(),f=Pu(2);d.firstUpdatePass&&function mP(t,r,i,a){const c=t.data;if(null===c[i+1]){const d=c[co()],f=function rC(t,r){return r>=t.expandoStartIndex}(t,i);(function vP(t,r){return!!(t.flags&(r?8:16))})(d,a)&&null===r&&!f&&(r=!1),r=function jN(t,r,i,a){const c=function gg(t){const r=cn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(i=Pp(i=uT(null,t,r,i,a),r.attrs,a),d=null);else{const f=r.directiveStylingLast;if(-1===f||t[f]!==c)if(i=uT(c,t,r,i,a),null===d){let v=function $N(t,r,i){const a=i?r.classBindings:r.styleBindings;if(0!==ru(a))return t[mc(a)]}(t,r,a);void 0!==v&&Array.isArray(v)&&(v=uT(null,t,r,v[1],a),v=Pp(v,r.attrs,a),function HN(t,r,i,a){t[mc(i?r.classBindings:r.styleBindings)]=a}(t,r,a,v))}else d=function _P(t,r,i){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Pp(a,t[d].hostAttrs,i);return Pp(a,r.attrs,i)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),i}(c,d,r,a),function aP(t,r,i,a,c,d){let f=d?r.classBindings:r.styleBindings,m=mc(f),v=ru(f);t[a]=i;let R,A=!1;if(Array.isArray(i)?(R=i[1],(null===R||Nn(i,R)>0)&&(A=!0)):R=i,c)if(0!==v){const Z=mc(t[m+1]);t[a+1]=bp(Z,m),0!==Z&&(t[Z+1]=oT(t[Z+1],a)),t[m+1]=function eC(t,r){return 131071&t|r<<17}(t[m+1],a)}else t[a+1]=bp(m,0),0!==m&&(t[m+1]=oT(t[m+1],a)),m=a;else t[a+1]=bp(v,0),0===m?m=a:t[v+1]=oT(t[v+1],a),v=a;A&&(t[a+1]=P_(t[a+1])),uP(t,R,a,!0),uP(t,R,a,!1),function ON(t,r,i,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Nn(d,r)>=0&&(i[a+1]=tC(i[a+1]))}(r,R,t,a,d),f=bp(m,v),d?r.classBindings=f:r.styleBindings=f}(c,d,r,i,f,a)}}(d,t,f,a),r!==St&&zr(c,f,r)&&function oC(t,r,i,a,c,d,f,m){if(!(3&r.type))return;const v=t.data,A=v[m+1],R=function xN(t){return!(1&~t)}(A)?sC(v,r,i,c,ru(A),f):void 0;cT(R)||(cT(d)||function J0(t){return!(2&~t)}(A)&&(d=sC(v,null,i,c,m,f)),function rA(t,r,i,a,c){if(r)c?t.addClass(i,a):t.removeClass(i,a);else{let d=-1===a.indexOf("-")?void 0:Pf.DashCase;null==c?t.removeStyle(i,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Pf.Important),t.setStyle(i,a,c,d))}}(a,f,_e(co(),i),c,d))}(d,d.data[co()],c,c[en],t,c[f+1]=function WN(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Pn(Uu(t)))),t}(r,i),a,f)}(t,r,null,!0),Nl}function uT(t,r,i,a,c){let d=null;const f=i.directiveEnd;let m=i.directiveStylingLast;for(-1===m?m=i.directiveStart:m++;m<f&&(d=r[m],a=Pp(a,d.hostAttrs,c),d!==t);)m++;return null!==t&&(i.directiveStylingLast=m),a}function Pp(t,r,i){const a=i?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const f=r[d];"number"==typeof f?c=f:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,f,!!i||r[++d]))}return void 0===t?null:t}function sC(t,r,i,a,c,d){const f=null===r;let m;for(;c>0;){const v=t[c],A=Array.isArray(v),R=A?v[1]:v,O=null===R;let Z=i[c+1];Z===St&&(Z=O?gn:void 0);let G=O?li(Z,a):R===a?Z:void 0;if(A&&!cT(G)&&(G=li(v,a)),cT(G)&&(m=G,f))return m;const ge=t[c+1];c=f?mc(ge):ru(ge)}if(null!==r){let v=d?r.residualClasses:r.residualStyles;null!=v&&(m=li(v,a))}return m}function cT(t){return void 0!==t}class ek{destroy(r){}updateValue(r,i){}swap(r,i){const a=Math.min(r,i),c=Math.max(r,i),d=this.detach(c);if(c-a>1){const f=this.detach(a);this.attach(a,d),this.attach(c,f)}else this.attach(a,d)}move(r,i){this.attach(i,this.detach(r))}}function uC(t,r,i,a,c){return t===i&&Object.is(r,a)?1:Object.is(c(t,r),c(i,a))?-1:0}function lC(t,r,i,a){return!(void 0===r||!r.has(a)||(t.attach(i,r.get(a)),r.delete(a),0))}function TP(t,r,i,a,c){if(lC(t,r,a,i(a,c)))t.updateValue(a,c);else{const d=t.create(a,c);t.attach(a,d)}}function wP(t,r,i,a){const c=new Set;for(let d=r;d<=i;d++)c.add(a(d,t.at(d)));return c}class M_{kvMap=new Map;_vMap=void 0;has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const i=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(r,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,i){if(this.kvMap.has(r)){let a=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const c=this._vMap;for(;c.has(a);)a=c.get(a);c.set(a,i)}else this.kvMap.set(r,i)}forEach(r){for(let[i,a]of this.kvMap)if(r(a,i),void 0!==this._vMap){const c=this._vMap;for(;c.has(a);)a=c.get(a),r(a,i)}}}function Mp(t,r){hs("NgControlFlow");const i=Be(),a=jo(),c=i[a]!==St?i[a]:-1,d=-1!==c?Np(i,kt+c):void 0;if(zr(i,a,t)){const m=he(null);try{if(void 0!==d&&vI(d,0),-1!==t){const v=kt+t,A=Np(i,v),R=pT(i[st],v),O=_l(A,R.tView.ssrId);Pd(A,wd(i,R,r,{dehydratedView:O}),0,dn(R,O))}}finally{he(m)}}else if(void 0!==d){const m=yI(d,0);void 0!==m&&(m[Hn]=r)}}class DP{lContainer;$implicit;$index;constructor(r,i,a){this.lContainer=r,this.$implicit=i,this.$index=a}get $count(){return this.lContainer.length-wr}}class dT{hasEmptyBlock;trackByFn;liveCollection;constructor(r,i,a){this.hasEmptyBlock=r,this.trackByFn=i,this.liveCollection=a}}function dC(t,r,i,a,c,d,f,m,v,A,R,O,Z){hs("NgControlFlow");const G=Be(),ge=on(),je=void 0!==v,lt=Be(),dt=m?f.bind(lt[hr][Hn]):f,Ze=new dT(je,dt);lt[kt+t]=Ze,Dl(G,ge,t+1,r,i,a,c,Br(ge.consts,d)),je&&Dl(G,ge,t+2,v,A,R,O,Br(ge.consts,Z))}class AP extends ek{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(r,i,a){super(),this.lContainer=r,this.hostLView=i,this.templateTNode=a}get length(){return this.lContainer.length-wr}at(r){return this.getLView(r)[Hn].$implicit}attach(r,i){const a=i[Wi];this.needsIndexUpdate||=r!==this.length,Pd(this.lContainer,i,r,dn(this.templateTNode,a))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function CP(t,r){return Vf(t,r)}(this.lContainer,r)}create(r,i){const a=_l(this.lContainer,this.templateTNode.tView.ssrId),c=wd(this.hostLView,this.templateTNode,new DP(this.lContainer,i,r),{dehydratedView:a});return this.operationsCounter?.recordCreate(),c}destroy(r){Ad(r[st],r),this.operationsCounter?.recordDestroy()}updateValue(r,i){this.getLView(r)[Hn].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[Hn].$index=r}getLView(r){return function fT(t,r){return yI(t,r)}(this.lContainer,r)}}function hT(t){const r=he(null),i=co();try{const a=Be(),c=a[st],d=a[i],f=i+1,m=Np(a,f);if(void 0===d.liveCollection){const A=pT(c,f);d.liveCollection=new AP(m,a,A)}else d.liveCollection.reset();const v=d.liveCollection;if(function cC(t,r,i){let a,c,d=0,f=t.length-1;if(Array.isArray(r)){let v=r.length-1;for(;d<=f&&d<=v;){const A=t.at(d),R=r[d],O=uC(d,A,d,R,i);if(0!==O){O<0&&t.updateValue(d,R),d++;continue}const Z=t.at(f),G=r[v],ge=uC(f,Z,v,G,i);if(0!==ge){ge<0&&t.updateValue(f,G),f--,v--;continue}const je=i(d,A),lt=i(f,Z),dt=i(d,R);if(Object.is(dt,lt)){const Ze=i(v,G);Object.is(Ze,je)?(t.swap(d,f),t.updateValue(f,G),v--,f--):t.move(f,d),t.updateValue(d,R),d++}else if(a??=new M_,c??=wP(t,d,f,i),lC(t,a,d,dt))t.updateValue(d,R),d++,f++;else if(c.has(dt))a.set(je,t.detach(d)),f--;else{const Ze=t.create(d,r[d]);t.attach(d,Ze),d++,f++}}for(;d<=v;)TP(t,a,i,d,r[d]),d++}else if(null!=r){const v=r[Symbol.iterator]();let A=v.next();for(;!A.done&&d<=f;){const R=t.at(d),O=A.value,Z=uC(d,R,d,O,i);if(0!==Z)Z<0&&t.updateValue(d,O),d++,A=v.next();else{a??=new M_,c??=wP(t,d,f,i);const G=i(d,O);if(lC(t,a,d,G))t.updateValue(d,O),d++,f++,A=v.next();else if(c.has(G)){const ge=i(d,R);a.set(ge,t.detach(d)),f--}else t.attach(d,t.create(d,O)),d++,f++,A=v.next()}}for(;!A.done;)TP(t,a,i,t.length,A.value),A=v.next()}for(;d<=f;)t.destroy(t.detach(f--));a?.forEach(v=>{t.destroy(v)})}(v,t,d.trackByFn),v.updateIndexes(),d.hasEmptyBlock){const A=jo(),R=0===v.length;if(zr(a,A,R)){const O=i+2,Z=Np(a,O);if(R){const G=pT(c,O),ge=_l(Z,G.tView.ssrId);Pd(Z,wd(a,G,void 0,{dehydratedView:ge}),0,dn(G,ge))}else vI(Z,0)}}}finally{he(r)}}function Np(t,r){return t[r]}function pT(t,r){return tn(t,r)}function k_(t,r,i,a){const c=Be(),d=on(),f=kt+t,m=c[en],v=d.firstCreatePass?UA(f,d,c,r,Dm,xh(),i,a):d.data[f],A=fC(d,c,v,m,r,t);c[f]=A;const R=Tu(v);return Yo(v,!0),rI(m,A,v),!qa(v)&&vg()&&sl(d,c,A,v),(0===function OM(){return cn.lFrame.elementDepthCount}()||R)&&Co(A,c),function Cy(){cn.lFrame.elementDepthCount++}(),R&&(bf(d,c,v),um(d,v,c)),null!==a&&zu(c,v),k_}function kp(){let t=wn();Py()?function Oh(){cn.lFrame.isParent=!1}():(t=t.parent,Yo(t,!1));const r=t;(function by(t){return cn.skipHydrationRootTNode===t})(r)&&function Ry(){cn.skipHydrationRootTNode=null}(),function LM(){cn.lFrame.elementDepthCount--}();const i=on();return i.firstCreatePass&&zI(i,r),null!=r.classesWithoutHost&&function $M(t){return!!(8&t.flags)}(r)&&aT(i,r,Be(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function HM(t){return!!(16&t.flags)}(r)&&aT(i,r,Be(),r.stylesWithoutHost,!1),kp}function xp(t,r,i,a){return k_(t,r,i,a),kp(),xp}let fC=(t,r,i,a,c,d)=>(Ms(!0),Tf(a,c,function Nu(){return cn.lFrame.currentNamespace}()));function yC(){return Be()}const kl=void 0;var MP=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PP(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let ah={};function mT(t){const r=function xP(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=kP(r);if(i)return i;const a=r.split("-")[0];if(i=kP(a),i)return i;if("en"===a)return MP;throw new ft(701,!1)}function NP(t){return mT(t)[Op.PluralCase]}function kP(t){return t in ah||(ah[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),ah[t]}var Op=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Op||{});const _T="en-US";let LP=_T;function Te(t,r,i){return function a(c){if(c===Function)return i;Lf(Uo(t)?nr(t.index,r):r,5);const f=r[Hn];let m=We(r,f,i,c),v=a.__ngNextListenerFn__;for(;v;)m=We(r,f,v,c)&&m,v=v.__ngNextListenerFn__;return m}}function We(t,r,i,a){const c=he(null);try{return y(6,r,i),!1!==i(a)}catch(d){return function ut(t,r){const i=t[ar],a=i?i.get(ds,null):null;a&&a.handleError(r)}(t,d),!1}finally{y(7,r,i),he(c)}}function nt(t,r,i,a,c,d){const m=r[st],R=r[i][m.data[i].outputs[a]],O=m.firstCreatePass?Fc(m):null,Z=Mh(r),G=R.subscribe(d),ge=Z.length;Z.push(d,G),O&&O.push(c,t.index,ge,-(ge+1))}let qt=(t,r,i)=>{};function un(t,r,i,a){const c=Be(),d=on(),f=wn();return ve(d,c,c[en],f,t,r,a),un}function ve(t,r,i,a,c,d,f){const m=Tu(a),A=t.firstCreatePass?Fc(t):null,R=Mh(r);let O=!0;if(3&a.type||f){const Z=be(a,r),G=f?f(Z):Z,ge=R.length,je=f?dt=>f(V(dt[a.index])):a.index;let lt=null;if(!f&&m&&(lt=function _n(t,r,i,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const f=c[d];if(f===i&&c[d+1]===a){const m=r[ra],v=c[d+2];return m.length>v?m[v]:null}"string"==typeof f&&(d+=2)}return null}(t,r,c,a.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=d,lt.__ngLastListenerFn__=d,O=!1;else{d=Te(a,r,d),qt(G,c,d);const dt=i.listen(G,c,d);R.push(d,dt),A&&A.push(c,je,ge,ge+1)}}else d=Te(a,r,d);if(O){const Z=a.outputs?.[c],G=a.hostDirectiveOutputs?.[c];if(G&&G.length)for(let ge=0;ge<G.length;ge+=2)nt(a,r,G[ge],G[ge+1],c,d);if(Z&&Z.length)for(const ge of Z)nt(a,r,ge,c,c,d)}}function re(t=1){return function Eb(t){return(cn.lFrame.contextLView=function Oc(t,r){for(;t>0;)r=r[ba],t--;return r}(t,cn.lFrame.contextLView))[Hn]}(t)}function ue(t,r,i){return Ws(t,"",r,"",i),ue}function Ws(t,r,i,a,c){const d=Be(),f=_a(d,r,i,a);return f!==St&&fo(on(),Ar(),d,t,f,d[en],c,!1),Ws}function eo(t,r,i,a){rE(t,r,i,a)}function dh(t){const r=Be(),i=on(),a=ky();mg(a+1);const c=o_(i,a);if(t.dirty&&function Zo(t){return!(4&~t[Gt])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const d=oE(r,a);t.reset(d,bw),t.notifyOnChanges()}return!0}return!1}function DC(){return function nE(t,r){return t[bs].queries[r].queryList}(Be(),ky())}function Up(t){return Kn(function fb(){return cn.lFrame.contextLView}(),kt+t)}function bT(t,r=""){const i=Be(),a=on(),c=t+kt,d=a.firstCreatePass?ll(a,c,1,r,null):a.data[c],f=ST(a,i,d,r,t);i[c]=f,vg()&&sl(a,i,f,d),Yo(d,!1)}let ST=(t,r,i,a,c)=>(Ms(!0),function Hu(t,r){return t.createText(r)}(r[en],a));function W_(t){return $p("",t,""),W_}function $p(t,r,i){const a=Be(),c=_a(a,t,r,i);return c!==St&&Gs(a,co(),c),$p}function RT(t,r,i,a,c,d,f){const m=Be(),v=$s(m,t,r,i,a,c,d,f);return v!==St&&Gs(m,co(),v),RT}function Gs(t,r,i){const a=_e(r,t);!function Im(t,r,i){t.setValue(r,i)}(t[en],a,i)}function su(t,r,i){ev(r)&&(r=r());const a=Be();return zr(a,jo(),r)&&fo(on(),Ar(),a,t,r,a[en],i,!1),su}function NT(t,r){const i=ev(t);return i&&t.set(r),i}function ph(t,r){const i=Be(),a=on(),c=wn();return ve(a,i,i[en],c,t,r),ph}function xl(t,r,i,a,c){if(t=de(t),Array.isArray(t))for(let d=0;d<t.length;d++)xl(t[d],r,i,a,c);else{const d=on(),f=Be(),m=wn();let v=Js(t)?t:de(t.provide);const A=rg(t),R=1048575&m.providerIndexes,O=m.directiveStart,Z=m.providerIndexes>>20;if(Js(t)||!t.multi){const G=new wg(A,c,Il),ge=yc(v,r,c?R:R+Z,O);-1===ge?(Vy(jh(m,f),d,v),xT(d,t,r.length),r.push(v),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),i.push(G),f.push(G)):(i[ge]=G,f[ge]=G)}else{const G=yc(v,r,R+Z,O),ge=yc(v,r,R,R+Z),lt=ge>=0&&i[ge];if(c&&!lt||!c&&!(G>=0&&i[G])){Vy(jh(m,f),d,v);const dt=function xC(t,r,i,a,c){const d=new wg(t,i,Il);return d.multi=[],d.index=r,d.componentProviders=0,kC(d,c,a&&!i),d}(c?iM:rM,i.length,c,a,A);!c&&lt&&(i[ge].providerFactory=dt),xT(d,t,r.length,0),r.push(v),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),i.push(dt),f.push(dt)}else xT(d,t,G>-1?G:ge,kC(i[c?ge:G],A,!c&&a));!c&&a&&lt&&i[ge].componentProviders++}}}function xT(t,r,i,a){const c=Js(r),d=function _u(t){return!!t.useClass}(r);if(c||d){const v=(d?de(r.useClass):r).prototype.ngOnDestroy;if(v){const A=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const R=A.indexOf(i);-1===R?A.push(i,[a,v]):A[R+1].push(a,v)}else A.push(i,v)}}}function kC(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function yc(t,r,i,a){for(let c=i;c<a;c++)if(r[c]===t)return c;return-1}function rM(t,r,i,a){return mh(this.multi,[])}function iM(t,r,i,a){const c=this.multi;let d;if(this.providerFactory){const f=this.providerFactory.componentProviders,m=Mg(i,i[st],this.providerFactory.index,a);d=m.slice(0,f),mh(c,d);for(let v=f;v<m.length;v++)d.push(m[v])}else d=[],mh(c,d);return d}function mh(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function Q_(t,r=[]){return i=>{i.providersResolver=(a,c)=>function Hp(t,r,i){const a=on();if(a.firstCreatePass){const c=Gi(t);xl(i,a.data,a.blueprint,c,!0),xl(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}function Y_(t,r,i){const a=Ao()+t,c=Be();return c[a]===St?Is(c,a,i?r.call(i):r()):function hp(t,r){return t[r]}(c,a)}function OT(t,r,i,a){return VT(Be(),Ao(),t,r,i,a)}function VT(t,r,i,a,c,d){const f=r+i;return zr(t,f,c)?Is(t,f+1,d?a.call(d,c):a(c)):function Gp(t,r){const i=t[r];return i===St?void 0:i}(t,f+1)}function jT(t,r){const i=on();let a;const c=t+kt;i.firstCreatePass?(a=function VC(t,r){if(r)for(let i=r.length-1;i>=0;i--){const a=r[i];if(t===a.name)return a}}(r,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks??=[]).push(c,a.onDestroy)):a=i.data[c];const d=a.factory||(a.factory=pe(a.type)),m=tr(Il);try{const v=Fy(!1),A=d();return Fy(v),function hh(t,r,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),r[i]=a}(i,Be(),c,A),A}finally{tr(m)}}function $T(t,r,i){const a=t+kt,c=Be(),d=Kn(c,a);return function Ic(t,r){return t[st].data[r].pure}(c,a)?VT(c,Ao(),r,d.transform,i,d):d.transform(i)}function qp(t,r){return Ku(t,r)}class Ho{full;major;minor;patch;constructor(r){this.full=r;const i=r.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const ZC=new Ho("19.2.5");class YC{ngModuleFactory;componentFactories;constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let Eh=(()=>{class t{compileModuleSync(i){return new rc(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),d=ms(hi(i).declarations).reduce((f,m)=>{const v=mn(m);return v&&f.push(new jd(v)),f},[]);return new YC(a,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Se=(()=>{class t{zone=_t(Cr);changeDetectionScheduler=_t(Ns);applicationRef=_t(Ts);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yt({ngZoneFactory:t,ignoreChangesOutsideZone:r,scheduleInRootZone:i}){return t??=()=>new Cr({...Ni(),scheduleInRootZone:i}),[{provide:Cr,useFactory:t},{provide:kn,multi:!0,useFactory:()=>{const a=_t(Se,{optional:!0});return()=>a.initialize()}},{provide:kn,multi:!0,useFactory:()=>{const a=_t(Qn);return()=>{a.initialize()}}},!0===r?{provide:Ub,useValue:!0}:[],{provide:Hh,useValue:i??xg}]}function Ni(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Qn=(()=>{class t{subscription=new Hi.yU;initialized=!1;zone=_t(Cr);pendingTasks=_t(sa);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ac=(()=>{class t{appRef=_t(Ts);taskService=_t(sa);ngZone=_t(Cr);zonelessEnabled=_t(Og);tracing=_t(Yh,{optional:!0});disableScheduling=_t(Ub,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Hi.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_t(Hh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zy||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let a=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,a=!0;break;case 12:this.appRef.dirtyFlags|=16,a=!0;break;case 11:a=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(a))return;const c=this.useMicrotaskScheduler?Fg:Lg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(i),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(a){return new(a||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const DM=new Wt("",{providedIn:"root",factory:()=>_t(DM,Qt.Optional|Qt.SkipSelf)||function Px(){return typeof $localize<"u"&&$localize.locale||_T}()}),Mx=new Wt("",{providedIn:"root",factory:()=>"USD"}),eb=new Wt(""),Lx=new Wt("");function JT(t){return!t.moduleRef}let Th=null;function $x(){return!1}let Uk=(()=>class t{static __NG_ELEMENT_ID__=Hx})();function Hx(t){return function zx(t,r,i){if(Uo(t)&&!i){const a=nr(t.index,r);return new pa(a,a)}return 175&t.type?new pa(r[hr],r):null}(wn(),Be(),!(16&~t))}class Hk{constructor(){}supports(r){return Wd(r)}create(r){return new Qx(r)}}const Kx=(t,r)=>r;class Qx{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(r){this._trackByFn=r||Kx}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,a=this._removalsHead,c=0,d=null;for(;i||a;){const f=!a||i&&i.currentIndex<Wk(a,c,d)?i:a,m=Wk(f,c,d),v=f.currentIndex;if(f===a)c--,a=a._nextRemoved;else if(i=i._next,null==f.previousIndex)c++;else{d||(d=[]);const A=m-c,R=v-c;if(A!=R){for(let Z=0;Z<A;Z++){const G=Z<d.length?d[Z]:d[Z]=0,ge=G+Z;R<=ge&&ge<A&&(d[Z]=G+1)}d[f.previousIndex]=R-A}}m!==v&&r(f,m,v)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!Wd(r))throw new ft(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,f,i=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let m=0;m<this.length;m++)d=r[m],f=this._trackByFn(m,d),null!==i&&Object.is(i.trackById,f)?(a&&(i=this._verifyReinsertion(i,d,f,m)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,f,m),a=!0),i=i._next}else c=0,function vR(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)r(a.value)}}(r,m=>{f=this._trackByFn(c,m),null!==i&&Object.is(i.trackById,f)?(a&&(i=this._verifyReinsertion(i,m,f,c)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,f,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,d,c)):r=this._addAfter(new Xx(i,a),d,c),r}_verifyReinsertion(r,i,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,i,a),this._addToMoves(r,a),r}_moveAfter(r,i,a){return this._unlink(r),this._insertAfter(r,i,a),this._addToMoves(r,a),r}_addAfter(r,i,a){return this._insertAfter(r,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,a){const c=null===i?this._itHead:i._next;return r._next=c,r._prev=i,null===c?this._itTail=r:c._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new zk),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,a=r._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zk),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Xx{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(r,i){this.item=r,this.trackById=i}}class Zx{_head=null;_tail=null;add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const i=r._prevDup,a=r._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class zk{map=new Map;put(r){const i=r.trackById;let a=this.map.get(i);a||(a=new Zx,this.map.set(i,a)),a.add(r)}get(r,i){const c=this.map.get(r);return c?c.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wk(t,r,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+r+c}class Gk{constructor(){}supports(r){return r instanceof Map||dp(r)}create(){return new Yx}}class Yx{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||dp(r)))throw new ft(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const a=r._prev;return i._next=r,i._prev=a,r._prev=i,a&&(a._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,i);const d=c._prev,f=c._next;return d&&(d._next=f),f&&(f._prev=d),c._next=null,c._prev=null,c}const a=new Jx(r);return this._records.set(r,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(a=>i(r[a],a))}}class Jx{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(r){this.key=r}}function qk(){return new RM([new Hk])}let RM=(()=>{class t{factories;static \u0275prov=Ae({token:t,providedIn:"root",factory:qk});constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||qk()),deps:[[t,new k,new N]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new ft(901,!1)}}return t})();function Kk(){return new PM([new Gk])}let PM=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:Kk});factories;constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Kk()),deps:[[t,new k,new N]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new ft(901,!1)}}return t})();function nO(t){y(8);try{const{rootComponent:r,appProviders:i,platformProviders:a}=t,c=function jx(t=[]){if(Th)return Th;const r=function Lk(t=[],r){return Ri.create({name:r,providers:[{provide:$l,useValue:"platform"},{provide:eb,useValue:new Set([()=>Th=null])},...t]})}(t);return Th=r,function zE(){!function rn(t){vr=t}(()=>{throw new ft(600,!1)})}(),function Fk(t){const r=t.get(qw,null);Da(t,()=>{r?.forEach(i=>i())})}(r),r}(a),d=[yt({}),{provide:Ns,useExisting:Ac},...i||[]];return function kk(t){const r=JT(t)?t.r3Injector:t.moduleRef.injector,i=r.get(Cr);return i.run(()=>{JT(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const a=r.get(ds,null);let c;if(i.runOutsideAngular(()=>{c=i.onError.subscribe({next:d=>{a.handleError(d)}})}),JT(t)){const d=()=>r.destroy(),f=t.platformInjector.get(eb);f.add(d),r.onDestroy(()=>{c.unsubscribe(),f.delete(d)})}else{const d=()=>t.moduleRef.destroy(),f=t.platformInjector.get(eb);f.add(d),t.moduleRef.onDestroy(()=>{GE(t.allPlatformModules,t.moduleRef),c.unsubscribe(),f.delete(d)})}return function Vx(t,r,i){try{const a=i();return Mi(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(a,i,()=>{const d=r.get(WR);return d.runInitializers(),d.donePromise.then(()=>{if(function ok(t){"string"==typeof t&&(LP=t.toLowerCase().replace(/_/g,"-"))}(r.get(DM,_T)||_T),!r.get(Lx,!0))return JT(t)?r.get(Ts):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(JT(t)){const v=r.get(Ts);return void 0!==t.rootComponent&&v.bootstrap(t.rootComponent),v}return function Fx(t,r){const i=t.injector.get(Ts);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!t.instance.ngDoBootstrap)throw new ft(-403,!1);t.instance.ngDoBootstrap(i)}r.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new l_({providers:d,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:c,rootComponent:r})}catch(r){return Promise.reject(r)}finally{y(9)}}function DO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function cu(t){return function Dn(t){const r=he(null);try{return t()}finally{he(r)}}(t)}function tw(t,r){return function Pt(t,r){const i=Object.create(Yt);i.computation=t,void 0!==r&&(i.equal=r);const a=()=>{if(ze(i),Oe(i),i.value===fn)throw i.error;return i.value};return a[Ne]=i,a}(t,r?.equal)}class RO{[Ne];constructor(r){this[Ne]=r}destroy(){this[Ne].destroy()}}function NM(t,r){!r?.injector&&Do();const i=r?.injector??_t(Ri);let c,a=!0!==r?.manualCleanup?i.get(xa):null;const d=i.get(_v,null,{optional:!0}),f=i.get(Ns);return null===d||r?.forceRoot?c=function kO(t,r,i){const a=Object.create(PO);return a.fn=t,a.scheduler=r,a.notifier=i,a.zone=typeof Zone<"u"?Zone.current:null,a.scheduler.schedule(a),a.notifier.notify(12),a}(t,i.get(Al),f):(c=function NO(t,r,i){const a=Object.create(MO);return a.view=t,a.zone=typeof Zone<"u"?Zone.current:null,a.notifier=r,a.fn=i,t[Ss]??=new Set,t[Ss].add(a),a.consumerMarkedDirty(a),a}(d.view,f,t),a instanceof Vb&&a._lView===d.view&&(a=null)),c.injector=i,null!==a&&(c.onDestroyFn=a.onDestroy(()=>c.destroy())),new RO(c)}const ux={...se,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Wh,run(){if(this.dirty=!1,this.hasRun&&!rt(this))return;this.hasRun=!0;const t=a=>(this.cleanupFns??=[]).push(a),r=Ft(this),i=Xl(!1);try{this.maybeCleanup(),this.fn(t)}finally{Xl(i),Zt(this,r)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},PO={...ux,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){we(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},MO={...ux,consumerMarkedDirty(){this.view[Gt]|=8192,Su(this.view),this.notifier.notify(13)},destroy(){we(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ss]?.delete(this)}};function WO(t){const r=mn(t);if(!r)return null;const i=new jd(r);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},9786:(jt,qe,j)=>{j.d(qe,{Y:()=>X,l:()=>Pe});var x=j(1026);let K=null;function X(U){if(x.$.useDeprecatedSynchronousErrorHandling){const Ne=!K;if(Ne&&(K={errorThrown:!1,error:null}),U(),Ne){const{errorThrown:he,error:ne}=K;if(K=null,he)throw ne}}else U()}function Pe(U){x.$.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=U)}},9858:(jt,qe,j)=>{j.d(qe,{y:()=>K});var x=j(8071);function K(X){return(0,x.T)(X?.then)}},9974:(jt,qe,j)=>{j.d(qe,{N:()=>X,S:()=>K});var x=j(8071);function K(Pe){return(0,x.T)(Pe?.lift)}function X(Pe){return U=>{if(K(U))return U.lift(function(Ne){try{return Pe(Ne,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}}},jt=>{jt(jt.s=9084)}]);